{"/home/travis/build/npmtest/node-npmtest-botkit/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":2,"38":2,"39":1,"40":2,"41":2,"42":1,"43":2,"44":2,"45":1,"46":2,"47":2,"48":1,"49":1,"50":1,"51":1,"52":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1,1],"10":[1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":2,"9":2,"10":2,"11":2,"12":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":83},"end":{"line":105,"column":10}},"skip":true},"7":{"name":"(anonymous_7)","line":113,"loc":{"start":{"line":113,"column":77},"end":{"line":116,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":129,"loc":{"start":{"line":129,"column":12},"end":{"line":129,"column":40}},"skip":true},"9":{"name":"(anonymous_9)","line":137,"loc":{"start":{"line":137,"column":77},"end":{"line":140,"column":10}},"skip":true},"10":{"name":"(anonymous_10)","line":148,"loc":{"start":{"line":148,"column":83},"end":{"line":151,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":159,"loc":{"start":{"line":159,"column":79},"end":{"line":162,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":170,"loc":{"start":{"line":170,"column":75},"end":{"line":173,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":185,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":184,"column":5}},"24":{"start":{"line":92,"column":8},"end":{"line":94,"column":63}},"25":{"start":{"line":95,"column":8},"end":{"line":95,"column":14}},"26":{"start":{"line":102,"column":8},"end":{"line":111,"column":10},"skip":true},"27":{"start":{"line":109,"column":12},"end":{"line":109,"column":55},"skip":true},"28":{"start":{"line":110,"column":12},"end":{"line":110,"column":48},"skip":true},"29":{"start":{"line":113,"column":8},"end":{"line":126,"column":10},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":76},"skip":true},"31":{"start":{"line":121,"column":12},"end":{"line":121,"column":73},"skip":true},"32":{"start":{"line":122,"column":12},"end":{"line":122,"column":74},"skip":true},"33":{"start":{"line":123,"column":12},"end":{"line":123,"column":79},"skip":true},"34":{"start":{"line":124,"column":12},"end":{"line":124,"column":25},"skip":true},"35":{"start":{"line":125,"column":12},"end":{"line":125,"column":45},"skip":true},"36":{"start":{"line":128,"column":8},"end":{"line":135,"column":14},"skip":true},"37":{"start":{"line":133,"column":16},"end":{"line":133,"column":29},"skip":true},"38":{"start":{"line":134,"column":16},"end":{"line":134,"column":55},"skip":true},"39":{"start":{"line":137,"column":8},"end":{"line":146,"column":10},"skip":true},"40":{"start":{"line":144,"column":12},"end":{"line":144,"column":25},"skip":true},"41":{"start":{"line":145,"column":12},"end":{"line":145,"column":45},"skip":true},"42":{"start":{"line":148,"column":8},"end":{"line":157,"column":10},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":25},"skip":true},"44":{"start":{"line":156,"column":12},"end":{"line":156,"column":48},"skip":true},"45":{"start":{"line":159,"column":8},"end":{"line":168,"column":10},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":25},"skip":true},"47":{"start":{"line":167,"column":12},"end":{"line":167,"column":46},"skip":true},"48":{"start":{"line":170,"column":8},"end":{"line":179,"column":10},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":94},"skip":true},"50":{"start":{"line":178,"column":12},"end":{"line":178,"column":48},"skip":true},"51":{"start":{"line":182,"column":8},"end":{"line":182,"column":35},"skip":true},"52":{"start":{"line":183,"column":8},"end":{"line":183,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":95,"column":14}},{"start":{"line":101,"column":4},"end":{"line":183,"column":14},"skip":true}]},"9":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":18},"end":{"line":92,"column":32}},{"start":{"line":93,"column":12},"end":{"line":93,"column":53}},{"start":{"line":94,"column":12},"end":{"line":94,"column":61}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":45},"end":{"line":102,"column":79},"skip":true},{"start":{"line":102,"column":83},"end":{"line":111,"column":9},"skip":true}]},"11":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":42},"end":{"line":113,"column":73},"skip":true},{"start":{"line":113,"column":77},"end":{"line":126,"column":9},"skip":true}]},"12":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":48},"end":{"line":128,"column":85},"skip":true},{"start":{"line":129,"column":12},"end":{"line":135,"column":13},"skip":true}]},"13":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":42},"end":{"line":137,"column":73},"skip":true},{"start":{"line":137,"column":77},"end":{"line":146,"column":9},"skip":true}]},"14":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":45},"end":{"line":148,"column":79},"skip":true},{"start":{"line":148,"column":83},"end":{"line":157,"column":9},"skip":true}]},"15":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":43},"end":{"line":159,"column":75},"skip":true},{"start":{"line":159,"column":79},"end":{"line":168,"column":9},"skip":true}]},"16":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":41},"end":{"line":170,"column":71},"skip":true},{"start":{"line":170,"column":75},"end":{"line":179,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_botkit */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"92":1,"95":1,"102":1,"109":1,"110":1,"113":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"128":1,"133":2,"134":2,"137":1,"144":2,"145":2,"148":1,"155":2,"156":2,"159":1,"166":2,"167":2,"170":1,"177":1,"178":1,"182":1,"183":1}},"/home/travis/build/npmtest/node-npmtest-botkit/lib.npmtest_botkit.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/lib.npmtest_botkit.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":51}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":57}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_botkit */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_botkit = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_botkit = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-botkit/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":0,"42":2,"43":2,"44":2,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,2],"16":[2,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":314,"loc":{"start":{"line":314,"column":32},"end":{"line":314,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":325,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":324,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":53},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":294,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":302,"column":8},"end":{"line":302,"column":82},"skip":true},"70":{"start":{"line":305,"column":8},"end":{"line":307,"column":9},"skip":true},"71":{"start":{"line":306,"column":12},"end":{"line":306,"column":82},"skip":true},"72":{"start":{"line":309,"column":8},"end":{"line":311,"column":9},"skip":true},"73":{"start":{"line":310,"column":12},"end":{"line":310,"column":18},"skip":true},"74":{"start":{"line":312,"column":8},"end":{"line":312,"column":54},"skip":true},"75":{"start":{"line":313,"column":8},"end":{"line":313,"column":69},"skip":true},"76":{"start":{"line":314,"column":8},"end":{"line":322,"column":36},"skip":true},"77":{"start":{"line":315,"column":12},"end":{"line":315,"column":61},"skip":true},"78":{"start":{"line":316,"column":12},"end":{"line":319,"column":13},"skip":true},"79":{"start":{"line":317,"column":16},"end":{"line":317,"column":75},"skip":true},"80":{"start":{"line":318,"column":16},"end":{"line":318,"column":23},"skip":true},"81":{"start":{"line":320,"column":12},"end":{"line":320,"column":38},"skip":true},"82":{"start":{"line":321,"column":12},"end":{"line":321,"column":27},"skip":true},"83":{"start":{"line":323,"column":8},"end":{"line":323,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":50}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":323,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":12},"end":{"line":295,"column":64},"skip":true},{"start":{"line":296,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":43},"end":{"line":302,"column":75},"skip":true},{"start":{"line":302,"column":79},"end":{"line":302,"column":81},"skip":true}]},"25":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true},{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true}]},"26":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true},{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true}]},"27":{"line":312,"type":"binary-expr","locations":[{"start":{"line":312,"column":27},"end":{"line":312,"column":43},"skip":true},{"start":{"line":312,"column":47},"end":{"line":312,"column":53},"skip":true}]},"28":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true},{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-botkit && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_botkit */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_botkit","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught.stack);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_botkit.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        local.assetsDict['/assets.npmtest_botkit.rollup.js'] =","            local.assetsDict['/assets.npmtest_botkit.rollup.js'] ||","            local.fs.readFileSync(","                // buildCustomOrg-hack","                local.npmtest_botkit.__dirname +","                    '/lib.npmtest_botkit.js',","                'utf8'","            ).replace((/^#!/), '//');","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":2,"127":2,"128":2,"129":2,"130":1,"133":2,"134":2,"139":2,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"294":1,"302":1,"305":1,"306":1,"309":1,"310":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"320":1,"321":1,"323":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Botkit.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Botkit.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}},"8":{"start":{"line":9,"column":0},"end":{"line":17,"column":2}}},"branchMap":{},"code":["var CoreBot = require(__dirname + '/CoreBot.js');","var Slackbot = require(__dirname + '/SlackBot.js');","var Facebookbot = require(__dirname + '/Facebook.js');","var TwilioIPMbot = require(__dirname + '/TwilioIPMBot.js');","var BotFrameworkBot = require(__dirname + '/BotFramework.js');","var SparkBot = require(__dirname + '/CiscoSparkbot.js');","var ConsoleBot = require(__dirname + '/ConsoleBot.js');","","module.exports = {","    core: CoreBot,","    slackbot: Slackbot,","    sparkbot: SparkBot,","    facebookbot: Facebookbot,","    twilioipmbot: TwilioIPMbot,","    botframeworkbot: BotFrameworkBot,","    consolebot: ConsoleBot,","};",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/CoreBot.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/CoreBot.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":1,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":0,"476":0,"477":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"543":0,"544":0,"545":0,"546":0,"547":0,"548":0,"549":0,"550":0,"551":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":0,"579":0,"580":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0,0],"75":[0,0],"76":[0,0],"77":[0,0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0],"133":[0,0,0,0,0,0,0,0,0],"134":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0},"fnMap":{"1":{"name":"Botkit","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":31}}},"2":{"name":"Conversation","line":49,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":41}}},"3":{"name":"(anonymous_3)","line":77,"loc":{"start":{"line":77,"column":31},"end":{"line":77,"column":52}}},"4":{"name":"(anonymous_4)","line":81,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":46}}},"5":{"name":"(anonymous_5)","line":85,"loc":{"start":{"line":85,"column":73},"end":{"line":85,"column":109}}},"6":{"name":"(anonymous_6)","line":120,"loc":{"start":{"line":120,"column":22},"end":{"line":120,"column":40}}},"7":{"name":"(anonymous_7)","line":128,"loc":{"start":{"line":128,"column":38},"end":{"line":128,"column":56}}},"8":{"name":"(anonymous_8)","line":140,"loc":{"start":{"line":140,"column":84},"end":{"line":140,"column":112}}},"9":{"name":"(anonymous_9)","line":151,"loc":{"start":{"line":151,"column":84},"end":{"line":151,"column":112}}},"10":{"name":"(anonymous_10)","line":165,"loc":{"start":{"line":165,"column":22},"end":{"line":165,"column":45}}},"11":{"name":"(anonymous_11)","line":172,"loc":{"start":{"line":172,"column":24},"end":{"line":172,"column":35}}},"12":{"name":"(anonymous_12)","line":182,"loc":{"start":{"line":182,"column":24},"end":{"line":182,"column":35}}},"13":{"name":"(anonymous_13)","line":186,"loc":{"start":{"line":186,"column":26},"end":{"line":186,"column":37}}},"14":{"name":"(anonymous_14)","line":190,"loc":{"start":{"line":190,"column":19},"end":{"line":190,"column":37}}},"15":{"name":"(anonymous_15)","line":194,"loc":{"start":{"line":194,"column":24},"end":{"line":194,"column":42}}},"16":{"name":"(anonymous_16)","line":207,"loc":{"start":{"line":207,"column":18},"end":{"line":207,"column":38}}},"17":{"name":"(anonymous_17)","line":219,"loc":{"start":{"line":219,"column":23},"end":{"line":219,"column":45}}},"18":{"name":"(anonymous_18)","line":232,"loc":{"start":{"line":232,"column":20},"end":{"line":232,"column":31}}},"19":{"name":"(anonymous_19)","line":236,"loc":{"start":{"line":236,"column":22},"end":{"line":236,"column":33}}},"20":{"name":"(anonymous_20)","line":244,"loc":{"start":{"line":244,"column":28},"end":{"line":244,"column":39}}},"21":{"name":"(anonymous_21)","line":248,"loc":{"start":{"line":248,"column":27},"end":{"line":248,"column":74}}},"22":{"name":"(anonymous_22)","line":267,"loc":{"start":{"line":267,"column":19},"end":{"line":267,"column":58}}},"23":{"name":"(anonymous_23)","line":271,"loc":{"start":{"line":271,"column":26},"end":{"line":271,"column":52}}},"24":{"name":"(anonymous_24)","line":296,"loc":{"start":{"line":296,"column":26},"end":{"line":296,"column":44}}},"25":{"name":"(anonymous_25)","line":301,"loc":{"start":{"line":301,"column":27},"end":{"line":301,"column":43}}},"26":{"name":"(anonymous_26)","line":305,"loc":{"start":{"line":305,"column":25},"end":{"line":305,"column":42}}},"27":{"name":"(anonymous_27)","line":310,"loc":{"start":{"line":310,"column":28},"end":{"line":310,"column":54}}},"28":{"name":"(anonymous_28)","line":339,"loc":{"start":{"line":339,"column":26},"end":{"line":339,"column":43}}},"29":{"name":"(anonymous_29)","line":357,"loc":{"start":{"line":357,"column":31},"end":{"line":357,"column":50}}},"30":{"name":"(anonymous_30)","line":397,"loc":{"start":{"line":397,"column":28},"end":{"line":397,"column":39}}},"31":{"name":"(anonymous_31)","line":412,"loc":{"start":{"line":412,"column":35},"end":{"line":412,"column":46}}},"32":{"name":"(anonymous_32)","line":428,"loc":{"start":{"line":428,"column":32},"end":{"line":428,"column":43}}},"33":{"name":"(anonymous_33)","line":437,"loc":{"start":{"line":437,"column":31},"end":{"line":437,"column":45}}},"34":{"name":"(anonymous_34)","line":441,"loc":{"start":{"line":441,"column":39},"end":{"line":441,"column":61}}},"35":{"name":"(anonymous_35)","line":467,"loc":{"start":{"line":467,"column":29},"end":{"line":467,"column":44}}},"36":{"name":"(anonymous_36)","line":488,"loc":{"start":{"line":488,"column":20},"end":{"line":488,"column":37}}},"37":{"name":"(anonymous_37)","line":501,"loc":{"start":{"line":501,"column":26},"end":{"line":501,"column":37}}},"38":{"name":"(anonymous_38)","line":516,"loc":{"start":{"line":516,"column":28},"end":{"line":516,"column":46}}},"39":{"name":"(anonymous_39)","line":556,"loc":{"start":{"line":556,"column":20},"end":{"line":556,"column":31}}},"40":{"name":"(anonymous_40)","line":632,"loc":{"start":{"line":632,"column":83},"end":{"line":632,"column":111}}},"41":{"name":"Task","line":694,"loc":{"start":{"line":694,"column":4},"end":{"line":694,"column":40}}},"42":{"name":"(anonymous_42)","line":705,"loc":{"start":{"line":705,"column":24},"end":{"line":705,"column":35}}},"43":{"name":"(anonymous_43)","line":709,"loc":{"start":{"line":709,"column":34},"end":{"line":709,"column":52}}},"44":{"name":"(anonymous_44)","line":716,"loc":{"start":{"line":716,"column":33},"end":{"line":716,"column":51}}},"45":{"name":"(anonymous_45)","line":725,"loc":{"start":{"line":725,"column":33},"end":{"line":725,"column":49}}},"46":{"name":"(anonymous_46)","line":743,"loc":{"start":{"line":743,"column":30},"end":{"line":743,"column":47}}},"47":{"name":"(anonymous_47)","line":753,"loc":{"start":{"line":753,"column":25},"end":{"line":753,"column":36}}},"48":{"name":"(anonymous_48)","line":762,"loc":{"start":{"line":762,"column":18},"end":{"line":762,"column":38}}},"49":{"name":"(anonymous_49)","line":774,"loc":{"start":{"line":774,"column":23},"end":{"line":774,"column":45}}},"50":{"name":"(anonymous_50)","line":786,"loc":{"start":{"line":786,"column":34},"end":{"line":786,"column":45}}},"51":{"name":"(anonymous_51)","line":804,"loc":{"start":{"line":804,"column":37},"end":{"line":804,"column":48}}},"52":{"name":"(anonymous_52)","line":823,"loc":{"start":{"line":823,"column":20},"end":{"line":823,"column":31}}},"53":{"name":"(anonymous_53)","line":835,"loc":{"start":{"line":835,"column":17},"end":{"line":835,"column":39}}},"54":{"name":"(anonymous_54)","line":838,"loc":{"start":{"line":838,"column":18},"end":{"line":838,"column":37}}},"55":{"name":"(anonymous_55)","line":847,"loc":{"start":{"line":847,"column":17},"end":{"line":847,"column":30}}},"56":{"name":"(anonymous_56)","line":852,"loc":{"start":{"line":852,"column":17},"end":{"line":852,"column":39}}},"57":{"name":"(anonymous_57)","line":855,"loc":{"start":{"line":855,"column":18},"end":{"line":855,"column":37}}},"58":{"name":"(anonymous_58)","line":864,"loc":{"start":{"line":864,"column":17},"end":{"line":864,"column":30}}},"59":{"name":"(anonymous_59)","line":869,"loc":{"start":{"line":869,"column":17},"end":{"line":869,"column":42}}},"60":{"name":"(anonymous_60)","line":872,"loc":{"start":{"line":872,"column":18},"end":{"line":872,"column":40}}},"61":{"name":"(anonymous_61)","line":881,"loc":{"start":{"line":881,"column":17},"end":{"line":881,"column":30}}},"62":{"name":"(anonymous_62)","line":895,"loc":{"start":{"line":895,"column":26},"end":{"line":895,"column":51}}},"63":{"name":"(anonymous_63)","line":931,"loc":{"start":{"line":931,"column":24},"end":{"line":931,"column":43}}},"64":{"name":"(anonymous_64)","line":936,"loc":{"start":{"line":936,"column":19},"end":{"line":936,"column":68}}},"65":{"name":"(anonymous_65)","line":955,"loc":{"start":{"line":955,"column":13},"end":{"line":955,"column":47}}},"66":{"name":"(anonymous_66)","line":956,"loc":{"start":{"line":956,"column":37},"end":{"line":956,"column":60}}},"67":{"name":"(anonymous_67)","line":959,"loc":{"start":{"line":959,"column":66},"end":{"line":959,"column":94}}},"68":{"name":"(anonymous_68)","line":972,"loc":{"start":{"line":972,"column":16},"end":{"line":972,"column":36}}},"69":{"name":"(anonymous_69)","line":985,"loc":{"start":{"line":985,"column":21},"end":{"line":985,"column":43}}},"70":{"name":"(anonymous_70)","line":996,"loc":{"start":{"line":996,"column":31},"end":{"line":996,"column":58}}},"71":{"name":"(anonymous_71)","line":997,"loc":{"start":{"line":997,"column":39},"end":{"line":997,"column":61}}},"72":{"name":"(anonymous_72)","line":1002,"loc":{"start":{"line":1002,"column":32},"end":{"line":1002,"column":59}}},"73":{"name":"(anonymous_73)","line":1017,"loc":{"start":{"line":1017,"column":23},"end":{"line":1017,"column":38}}},"74":{"name":"(anonymous_74)","line":1024,"loc":{"start":{"line":1024,"column":19},"end":{"line":1024,"column":40}}},"75":{"name":"(anonymous_75)","line":1029,"loc":{"start":{"line":1029,"column":21},"end":{"line":1029,"column":43}}},"76":{"name":"(anonymous_76)","line":1030,"loc":{"start":{"line":1030,"column":56},"end":{"line":1030,"column":87}}},"77":{"name":"(anonymous_77)","line":1038,"loc":{"start":{"line":1038,"column":44},"end":{"line":1038,"column":66}}},"78":{"name":"(anonymous_78)","line":1051,"loc":{"start":{"line":1051,"column":26},"end":{"line":1051,"column":37}}},"79":{"name":"(anonymous_79)","line":1054,"loc":{"start":{"line":1054,"column":46},"end":{"line":1054,"column":57}}},"80":{"name":"(anonymous_80)","line":1060,"loc":{"start":{"line":1060,"column":22},"end":{"line":1060,"column":33}}},"81":{"name":"(anonymous_81)","line":1066,"loc":{"start":{"line":1066,"column":23},"end":{"line":1066,"column":50}}},"82":{"name":"(anonymous_82)","line":1086,"loc":{"start":{"line":1086,"column":28},"end":{"line":1086,"column":51}}},"83":{"name":"(anonymous_83)","line":1087,"loc":{"start":{"line":1087,"column":52},"end":{"line":1087,"column":80}}},"84":{"name":"(anonymous_84)","line":1092,"loc":{"start":{"line":1092,"column":46},"end":{"line":1092,"column":62}}},"85":{"name":"(anonymous_85)","line":1103,"loc":{"start":{"line":1103,"column":18},"end":{"line":1103,"column":29}}},"86":{"name":"(anonymous_86)","line":1123,"loc":{"start":{"line":1123,"column":20},"end":{"line":1123,"column":45}}},"87":{"name":"(anonymous_87)","line":1127,"loc":{"start":{"line":1127,"column":19},"end":{"line":1127,"column":41}}},"88":{"name":"(anonymous_88)","line":1131,"loc":{"start":{"line":1131,"column":33},"end":{"line":1131,"column":65}}},"89":{"name":"(anonymous_89)","line":1133,"loc":{"start":{"line":1133,"column":46},"end":{"line":1133,"column":62}}},"90":{"name":"(anonymous_90)","line":1139,"loc":{"start":{"line":1139,"column":21},"end":{"line":1139,"column":41}}},"91":{"name":"(anonymous_91)","line":1144,"loc":{"start":{"line":1144,"column":32},"end":{"line":1144,"column":54}}},"92":{"name":"(anonymous_92)","line":1150,"loc":{"start":{"line":1150,"column":23},"end":{"line":1150,"column":34}}},"93":{"name":"(anonymous_93)","line":1170,"loc":{"start":{"line":1170,"column":21},"end":{"line":1170,"column":32}}},"94":{"name":"(anonymous_94)","line":1218,"loc":{"start":{"line":1218,"column":17},"end":{"line":1218,"column":28}}},"95":{"name":"(anonymous_95)","line":1221,"loc":{"start":{"line":1221,"column":35},"end":{"line":1221,"column":51}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":71}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":62}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":23}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}},"10":{"start":{"line":16,"column":0},"end":{"line":1261,"column":1}},"11":{"start":{"line":17,"column":4},"end":{"line":30,"column":6}},"12":{"start":{"line":32,"column":4},"end":{"line":36,"column":6}},"13":{"start":{"line":40,"column":4},"end":{"line":46,"column":6}},"14":{"start":{"line":49,"column":4},"end":{"line":692,"column":5}},"15":{"start":{"line":51,"column":8},"end":{"line":51,"column":27}},"16":{"start":{"line":52,"column":8},"end":{"line":52,"column":23}},"17":{"start":{"line":53,"column":8},"end":{"line":53,"column":29}},"18":{"start":{"line":55,"column":8},"end":{"line":59,"column":10}},"19":{"start":{"line":61,"column":8},"end":{"line":61,"column":25}},"20":{"start":{"line":63,"column":8},"end":{"line":63,"column":23}},"21":{"start":{"line":65,"column":8},"end":{"line":65,"column":26}},"22":{"start":{"line":66,"column":8},"end":{"line":66,"column":27}},"23":{"start":{"line":68,"column":8},"end":{"line":68,"column":28}},"24":{"start":{"line":69,"column":8},"end":{"line":69,"column":25}},"25":{"start":{"line":70,"column":8},"end":{"line":70,"column":38}},"26":{"start":{"line":71,"column":8},"end":{"line":71,"column":28}},"27":{"start":{"line":72,"column":8},"end":{"line":72,"column":28}},"28":{"start":{"line":73,"column":8},"end":{"line":73,"column":34}},"29":{"start":{"line":74,"column":8},"end":{"line":74,"column":36}},"30":{"start":{"line":75,"column":8},"end":{"line":75,"column":37}},"31":{"start":{"line":77,"column":8},"end":{"line":79,"column":10}},"32":{"start":{"line":78,"column":12},"end":{"line":78,"column":40}},"33":{"start":{"line":81,"column":8},"end":{"line":118,"column":10}},"34":{"start":{"line":83,"column":12},"end":{"line":83,"column":28}},"35":{"start":{"line":84,"column":12},"end":{"line":84,"column":67}},"36":{"start":{"line":85,"column":12},"end":{"line":116,"column":15}},"37":{"start":{"line":86,"column":16},"end":{"line":90,"column":17}},"38":{"start":{"line":87,"column":20},"end":{"line":87,"column":57}},"39":{"start":{"line":89,"column":20},"end":{"line":89,"column":39}},"40":{"start":{"line":92,"column":16},"end":{"line":94,"column":17}},"41":{"start":{"line":93,"column":20},"end":{"line":93,"column":59}},"42":{"start":{"line":98,"column":16},"end":{"line":104,"column":17}},"43":{"start":{"line":99,"column":20},"end":{"line":99,"column":77}},"44":{"start":{"line":100,"column":23},"end":{"line":104,"column":17}},"45":{"start":{"line":101,"column":20},"end":{"line":101,"column":80}},"46":{"start":{"line":103,"column":20},"end":{"line":103,"column":43}},"47":{"start":{"line":106,"column":16},"end":{"line":113,"column":17}},"48":{"start":{"line":107,"column":20},"end":{"line":109,"column":21}},"49":{"start":{"line":108,"column":24},"end":{"line":108,"column":57}},"50":{"start":{"line":110,"column":20},"end":{"line":110,"column":63}},"51":{"start":{"line":112,"column":20},"end":{"line":112,"column":59}},"52":{"start":{"line":115,"column":16},"end":{"line":115,"column":37}},"53":{"start":{"line":115,"column":24},"end":{"line":115,"column":37}},"54":{"start":{"line":120,"column":8},"end":{"line":163,"column":10}},"55":{"start":{"line":122,"column":12},"end":{"line":122,"column":24}},"56":{"start":{"line":123,"column":12},"end":{"line":123,"column":41}},"57":{"start":{"line":124,"column":12},"end":{"line":124,"column":42}},"58":{"start":{"line":125,"column":12},"end":{"line":125,"column":63}},"59":{"start":{"line":127,"column":12},"end":{"line":162,"column":13}},"60":{"start":{"line":128,"column":16},"end":{"line":159,"column":19}},"61":{"start":{"line":132,"column":20},"end":{"line":158,"column":21}},"62":{"start":{"line":133,"column":24},"end":{"line":133,"column":52}},"63":{"start":{"line":137,"column":24},"end":{"line":137,"column":59}},"64":{"start":{"line":138,"column":24},"end":{"line":145,"column":25}},"65":{"start":{"line":139,"column":28},"end":{"line":144,"column":29}},"66":{"start":{"line":140,"column":32},"end":{"line":142,"column":35}},"67":{"start":{"line":141,"column":36},"end":{"line":141,"column":72}},"68":{"start":{"line":143,"column":32},"end":{"line":143,"column":39}},"69":{"start":{"line":149,"column":24},"end":{"line":156,"column":25}},"70":{"start":{"line":150,"column":28},"end":{"line":155,"column":29}},"71":{"start":{"line":151,"column":32},"end":{"line":153,"column":35}},"72":{"start":{"line":152,"column":36},"end":{"line":152,"column":72}},"73":{"start":{"line":154,"column":32},"end":{"line":154,"column":39}},"74":{"start":{"line":165,"column":8},"end":{"line":170,"column":10}},"75":{"start":{"line":166,"column":12},"end":{"line":168,"column":13}},"76":{"start":{"line":167,"column":16},"end":{"line":167,"column":31}},"77":{"start":{"line":169,"column":12},"end":{"line":169,"column":37}},"78":{"start":{"line":172,"column":8},"end":{"line":176,"column":10}},"79":{"start":{"line":173,"column":12},"end":{"line":173,"column":61}},"80":{"start":{"line":174,"column":12},"end":{"line":174,"column":83}},"81":{"start":{"line":175,"column":12},"end":{"line":175,"column":35}},"82":{"start":{"line":182,"column":8},"end":{"line":184,"column":10}},"83":{"start":{"line":183,"column":12},"end":{"line":183,"column":72}},"84":{"start":{"line":186,"column":8},"end":{"line":188,"column":10}},"85":{"start":{"line":187,"column":12},"end":{"line":187,"column":37}},"86":{"start":{"line":190,"column":8},"end":{"line":192,"column":10}},"87":{"start":{"line":191,"column":12},"end":{"line":191,"column":37}},"88":{"start":{"line":194,"column":8},"end":{"line":204,"column":10}},"89":{"start":{"line":195,"column":12},"end":{"line":202,"column":13}},"90":{"start":{"line":196,"column":16},"end":{"line":199,"column":18}},"91":{"start":{"line":201,"column":16},"end":{"line":201,"column":62}},"92":{"start":{"line":203,"column":12},"end":{"line":203,"column":43}},"93":{"start":{"line":207,"column":8},"end":{"line":217,"column":10}},"94":{"start":{"line":208,"column":12},"end":{"line":208,"column":60}},"95":{"start":{"line":209,"column":12},"end":{"line":209,"column":44}},"96":{"start":{"line":210,"column":12},"end":{"line":215,"column":13}},"97":{"start":{"line":211,"column":16},"end":{"line":213,"column":17}},"98":{"start":{"line":212,"column":20},"end":{"line":212,"column":48}},"99":{"start":{"line":214,"column":16},"end":{"line":214,"column":48}},"100":{"start":{"line":216,"column":12},"end":{"line":216,"column":24}},"101":{"start":{"line":219,"column":8},"end":{"line":229,"column":10}},"102":{"start":{"line":220,"column":12},"end":{"line":228,"column":13}},"103":{"start":{"line":221,"column":16},"end":{"line":226,"column":17}},"104":{"start":{"line":222,"column":20},"end":{"line":222,"column":70}},"105":{"start":{"line":223,"column":20},"end":{"line":225,"column":21}},"106":{"start":{"line":224,"column":24},"end":{"line":224,"column":31}},"107":{"start":{"line":232,"column":8},"end":{"line":234,"column":10}},"108":{"start":{"line":233,"column":12},"end":{"line":233,"column":32}},"109":{"start":{"line":236,"column":8},"end":{"line":242,"column":10}},"110":{"start":{"line":237,"column":12},"end":{"line":241,"column":13}},"111":{"start":{"line":238,"column":16},"end":{"line":238,"column":68}},"112":{"start":{"line":244,"column":8},"end":{"line":246,"column":10}},"113":{"start":{"line":245,"column":12},"end":{"line":245,"column":19}},"114":{"start":{"line":248,"column":8},"end":{"line":264,"column":10}},"115":{"start":{"line":249,"column":12},"end":{"line":256,"column":13}},"116":{"start":{"line":250,"column":16},"end":{"line":253,"column":18}},"117":{"start":{"line":255,"column":16},"end":{"line":255,"column":62}},"118":{"start":{"line":258,"column":12},"end":{"line":260,"column":13}},"119":{"start":{"line":259,"column":16},"end":{"line":259,"column":58}},"120":{"start":{"line":262,"column":12},"end":{"line":262,"column":33}},"121":{"start":{"line":263,"column":12},"end":{"line":263,"column":45}},"122":{"start":{"line":267,"column":8},"end":{"line":269,"column":10}},"123":{"start":{"line":268,"column":12},"end":{"line":268,"column":85}},"124":{"start":{"line":271,"column":8},"end":{"line":293,"column":10}},"125":{"start":{"line":272,"column":12},"end":{"line":274,"column":13}},"126":{"start":{"line":273,"column":16},"end":{"line":273,"column":37}},"127":{"start":{"line":275,"column":12},"end":{"line":282,"column":13}},"128":{"start":{"line":276,"column":16},"end":{"line":279,"column":18}},"129":{"start":{"line":281,"column":16},"end":{"line":281,"column":62}},"130":{"start":{"line":284,"column":12},"end":{"line":286,"column":13}},"131":{"start":{"line":285,"column":16},"end":{"line":285,"column":42}},"132":{"start":{"line":287,"column":12},"end":{"line":287,"column":47}},"133":{"start":{"line":290,"column":12},"end":{"line":292,"column":13}},"134":{"start":{"line":291,"column":16},"end":{"line":291,"column":44}},"135":{"start":{"line":296,"column":8},"end":{"line":298,"column":10}},"136":{"start":{"line":297,"column":12},"end":{"line":297,"column":42}},"137":{"start":{"line":301,"column":8},"end":{"line":303,"column":10}},"138":{"start":{"line":302,"column":12},"end":{"line":302,"column":35}},"139":{"start":{"line":305,"column":8},"end":{"line":307,"column":10}},"140":{"start":{"line":306,"column":12},"end":{"line":306,"column":55}},"141":{"start":{"line":310,"column":8},"end":{"line":337,"column":10}},"142":{"start":{"line":317,"column":12},"end":{"line":317,"column":24}},"143":{"start":{"line":318,"column":12},"end":{"line":320,"column":13}},"144":{"start":{"line":319,"column":16},"end":{"line":319,"column":22}},"145":{"start":{"line":322,"column":12},"end":{"line":322,"column":49}},"146":{"start":{"line":324,"column":12},"end":{"line":331,"column":13}},"147":{"start":{"line":325,"column":16},"end":{"line":328,"column":18}},"148":{"start":{"line":330,"column":16},"end":{"line":330,"column":40}},"149":{"start":{"line":333,"column":12},"end":{"line":333,"column":49}},"150":{"start":{"line":335,"column":12},"end":{"line":335,"column":40}},"151":{"start":{"line":339,"column":8},"end":{"line":355,"column":10}},"152":{"start":{"line":340,"column":12},"end":{"line":340,"column":33}},"153":{"start":{"line":342,"column":12},"end":{"line":350,"column":13}},"154":{"start":{"line":343,"column":16},"end":{"line":349,"column":17}},"155":{"start":{"line":344,"column":20},"end":{"line":344,"column":46}},"156":{"start":{"line":346,"column":20},"end":{"line":346,"column":85}},"157":{"start":{"line":347,"column":20},"end":{"line":347,"column":48}},"158":{"start":{"line":348,"column":20},"end":{"line":348,"column":27}},"159":{"start":{"line":352,"column":12},"end":{"line":352,"column":57}},"160":{"start":{"line":354,"column":12},"end":{"line":354,"column":32}},"161":{"start":{"line":357,"column":8},"end":{"line":395,"column":10}},"162":{"start":{"line":358,"column":12},"end":{"line":360,"column":13}},"163":{"start":{"line":359,"column":16},"end":{"line":359,"column":26}},"164":{"start":{"line":362,"column":12},"end":{"line":364,"column":13}},"165":{"start":{"line":363,"column":16},"end":{"line":363,"column":26}},"166":{"start":{"line":366,"column":12},"end":{"line":394,"column":13}},"167":{"start":{"line":367,"column":16},"end":{"line":367,"column":29}},"168":{"start":{"line":368,"column":16},"end":{"line":368,"column":37}},"169":{"start":{"line":369,"column":16},"end":{"line":369,"column":40}},"170":{"start":{"line":370,"column":16},"end":{"line":370,"column":45}},"171":{"start":{"line":371,"column":16},"end":{"line":375,"column":17}},"172":{"start":{"line":372,"column":20},"end":{"line":374,"column":21}},"173":{"start":{"line":373,"column":24},"end":{"line":373,"column":43}},"174":{"start":{"line":376,"column":16},"end":{"line":376,"column":31}},"175":{"start":{"line":377,"column":16},"end":{"line":386,"column":17}},"176":{"start":{"line":378,"column":20},"end":{"line":384,"column":21}},"177":{"start":{"line":379,"column":24},"end":{"line":379,"column":53}},"178":{"start":{"line":380,"column":24},"end":{"line":382,"column":25}},"179":{"start":{"line":381,"column":28},"end":{"line":381,"column":41}},"180":{"start":{"line":383,"column":24},"end":{"line":383,"column":65}},"181":{"start":{"line":385,"column":20},"end":{"line":385,"column":47}},"182":{"start":{"line":387,"column":16},"end":{"line":387,"column":38}},"183":{"start":{"line":389,"column":16},"end":{"line":393,"column":17}},"184":{"start":{"line":390,"column":20},"end":{"line":390,"column":44}},"185":{"start":{"line":392,"column":20},"end":{"line":392,"column":41}},"186":{"start":{"line":397,"column":8},"end":{"line":410,"column":10}},"187":{"start":{"line":399,"column":12},"end":{"line":399,"column":25}},"188":{"start":{"line":400,"column":12},"end":{"line":408,"column":13}},"189":{"start":{"line":402,"column":16},"end":{"line":407,"column":18}},"190":{"start":{"line":409,"column":12},"end":{"line":409,"column":23}},"191":{"start":{"line":412,"column":8},"end":{"line":425,"column":10}},"192":{"start":{"line":414,"column":12},"end":{"line":414,"column":25}},"193":{"start":{"line":415,"column":12},"end":{"line":423,"column":13}},"194":{"start":{"line":417,"column":16},"end":{"line":422,"column":19}},"195":{"start":{"line":424,"column":12},"end":{"line":424,"column":23}},"196":{"start":{"line":428,"column":8},"end":{"line":435,"column":10}},"197":{"start":{"line":430,"column":12},"end":{"line":430,"column":25}},"198":{"start":{"line":431,"column":12},"end":{"line":433,"column":13}},"199":{"start":{"line":432,"column":16},"end":{"line":432,"column":53}},"200":{"start":{"line":434,"column":12},"end":{"line":434,"column":23}},"201":{"start":{"line":437,"column":8},"end":{"line":439,"column":10}},"202":{"start":{"line":438,"column":12},"end":{"line":438,"column":61}},"203":{"start":{"line":441,"column":8},"end":{"line":464,"column":10}},"204":{"start":{"line":443,"column":12},"end":{"line":461,"column":13}},"205":{"start":{"line":444,"column":16},"end":{"line":452,"column":17}},"206":{"start":{"line":445,"column":20},"end":{"line":451,"column":21}},"207":{"start":{"line":446,"column":24},"end":{"line":450,"column":25}},"208":{"start":{"line":447,"column":28},"end":{"line":447,"column":90}},"209":{"start":{"line":449,"column":28},"end":{"line":449,"column":100}},"210":{"start":{"line":454,"column":16},"end":{"line":460,"column":17}},"211":{"start":{"line":455,"column":20},"end":{"line":459,"column":21}},"212":{"start":{"line":456,"column":24},"end":{"line":456,"column":76}},"213":{"start":{"line":458,"column":24},"end":{"line":458,"column":86}},"214":{"start":{"line":463,"column":12},"end":{"line":463,"column":31}},"215":{"start":{"line":467,"column":8},"end":{"line":486,"column":10}},"216":{"start":{"line":469,"column":12},"end":{"line":474,"column":14}},"217":{"start":{"line":476,"column":12},"end":{"line":476,"column":30}},"218":{"start":{"line":478,"column":12},"end":{"line":483,"column":13}},"219":{"start":{"line":479,"column":16},"end":{"line":479,"column":55}},"220":{"start":{"line":481,"column":16},"end":{"line":481,"column":91}},"221":{"start":{"line":482,"column":16},"end":{"line":482,"column":32}},"222":{"start":{"line":485,"column":12},"end":{"line":485,"column":28}},"223":{"start":{"line":488,"column":8},"end":{"line":494,"column":10}},"224":{"start":{"line":489,"column":12},"end":{"line":489,"column":32}},"225":{"start":{"line":490,"column":12},"end":{"line":490,"column":31}},"226":{"start":{"line":491,"column":12},"end":{"line":491,"column":46}},"227":{"start":{"line":492,"column":12},"end":{"line":492,"column":76}},"228":{"start":{"line":493,"column":12},"end":{"line":493,"column":46}},"229":{"start":{"line":501,"column":8},"end":{"line":514,"column":10}},"230":{"start":{"line":504,"column":12},"end":{"line":506,"column":13}},"231":{"start":{"line":505,"column":16},"end":{"line":505,"column":29}},"232":{"start":{"line":508,"column":12},"end":{"line":512,"column":13}},"233":{"start":{"line":509,"column":16},"end":{"line":509,"column":28}},"234":{"start":{"line":511,"column":16},"end":{"line":511,"column":29}},"235":{"start":{"line":516,"column":8},"end":{"line":554,"column":10}},"236":{"start":{"line":518,"column":12},"end":{"line":518,"column":42}},"237":{"start":{"line":520,"column":12},"end":{"line":526,"column":13}},"238":{"start":{"line":521,"column":16},"end":{"line":521,"column":65}},"239":{"start":{"line":522,"column":19},"end":{"line":526,"column":13}},"240":{"start":{"line":523,"column":16},"end":{"line":525,"column":18}},"241":{"start":{"line":528,"column":12},"end":{"line":530,"column":13}},"242":{"start":{"line":529,"column":16},"end":{"line":529,"column":90}},"243":{"start":{"line":532,"column":12},"end":{"line":543,"column":13}},"244":{"start":{"line":535,"column":16},"end":{"line":541,"column":17}},"245":{"start":{"line":536,"column":20},"end":{"line":540,"column":22}},"246":{"start":{"line":542,"column":16},"end":{"line":542,"column":93}},"247":{"start":{"line":545,"column":12},"end":{"line":547,"column":13}},"248":{"start":{"line":546,"column":16},"end":{"line":546,"column":48}},"249":{"start":{"line":549,"column":12},"end":{"line":551,"column":13}},"250":{"start":{"line":550,"column":16},"end":{"line":550,"column":65}},"251":{"start":{"line":553,"column":12},"end":{"line":553,"column":28}},"252":{"start":{"line":556,"column":8},"end":{"line":688,"column":10}},"253":{"start":{"line":557,"column":12},"end":{"line":557,"column":33}},"254":{"start":{"line":559,"column":12},"end":{"line":687,"column":13}},"255":{"start":{"line":560,"column":16},"end":{"line":686,"column":17}},"256":{"start":{"line":563,"column":20},"end":{"line":563,"column":83}},"257":{"start":{"line":565,"column":20},"end":{"line":565,"column":81}},"258":{"start":{"line":567,"column":20},"end":{"line":578,"column":21}},"259":{"start":{"line":572,"column":24},"end":{"line":577,"column":25}},"260":{"start":{"line":573,"column":28},"end":{"line":573,"column":51}},"261":{"start":{"line":574,"column":28},"end":{"line":574,"column":55}},"262":{"start":{"line":576,"column":28},"end":{"line":576,"column":49}},"263":{"start":{"line":581,"column":20},"end":{"line":685,"column":21}},"264":{"start":{"line":583,"column":24},"end":{"line":587,"column":25}},"265":{"start":{"line":586,"column":28},"end":{"line":586,"column":35}},"266":{"start":{"line":589,"column":24},"end":{"line":594,"column":25}},"267":{"start":{"line":593,"column":28},"end":{"line":593,"column":35}},"268":{"start":{"line":596,"column":24},"end":{"line":675,"column":25}},"269":{"start":{"line":598,"column":28},"end":{"line":598,"column":64}},"270":{"start":{"line":601,"column":28},"end":{"line":603,"column":29}},"271":{"start":{"line":602,"column":32},"end":{"line":602,"column":100}},"272":{"start":{"line":604,"column":28},"end":{"line":610,"column":29}},"273":{"start":{"line":606,"column":32},"end":{"line":606,"column":63}},"274":{"start":{"line":608,"column":32},"end":{"line":608,"column":52}},"275":{"start":{"line":611,"column":28},"end":{"line":615,"column":29}},"276":{"start":{"line":612,"column":32},"end":{"line":612,"column":79}},"277":{"start":{"line":614,"column":32},"end":{"line":614,"column":58}},"278":{"start":{"line":617,"column":28},"end":{"line":617,"column":57}},"279":{"start":{"line":622,"column":28},"end":{"line":657,"column":29}},"280":{"start":{"line":624,"column":32},"end":{"line":624,"column":74}},"281":{"start":{"line":625,"column":32},"end":{"line":625,"column":48}},"282":{"start":{"line":627,"column":32},"end":{"line":627,"column":79}},"283":{"start":{"line":629,"column":32},"end":{"line":629,"column":57}},"284":{"start":{"line":630,"column":32},"end":{"line":630,"column":63}},"285":{"start":{"line":632,"column":32},"end":{"line":656,"column":35}},"286":{"start":{"line":633,"column":36},"end":{"line":655,"column":37}},"287":{"start":{"line":634,"column":40},"end":{"line":634,"column":103}},"288":{"start":{"line":639,"column":40},"end":{"line":639,"column":84}},"289":{"start":{"line":640,"column":40},"end":{"line":640,"column":91}},"290":{"start":{"line":644,"column":40},"end":{"line":644,"column":84}},"291":{"start":{"line":645,"column":40},"end":{"line":645,"column":100}},"292":{"start":{"line":649,"column":40},"end":{"line":651,"column":41}},"293":{"start":{"line":650,"column":44},"end":{"line":650,"column":93}},"294":{"start":{"line":653,"column":40},"end":{"line":653,"column":77}},"295":{"start":{"line":658,"column":28},"end":{"line":672,"column":29}},"296":{"start":{"line":659,"column":32},"end":{"line":671,"column":33}},"297":{"start":{"line":660,"column":36},"end":{"line":660,"column":57}},"298":{"start":{"line":661,"column":39},"end":{"line":671,"column":33}},"299":{"start":{"line":662,"column":36},"end":{"line":662,"column":50}},"300":{"start":{"line":663,"column":39},"end":{"line":671,"column":33}},"301":{"start":{"line":664,"column":36},"end":{"line":664,"column":56}},"302":{"start":{"line":665,"column":39},"end":{"line":671,"column":33}},"303":{"start":{"line":666,"column":36},"end":{"line":666,"column":48}},"304":{"start":{"line":667,"column":39},"end":{"line":671,"column":33}},"305":{"start":{"line":668,"column":36},"end":{"line":668,"column":57}},"306":{"start":{"line":669,"column":39},"end":{"line":671,"column":33}},"307":{"start":{"line":670,"column":36},"end":{"line":670,"column":68}},"308":{"start":{"line":679,"column":24},"end":{"line":681,"column":25}},"309":{"start":{"line":680,"column":28},"end":{"line":680,"column":51}},"310":{"start":{"line":683,"column":27},"end":{"line":685,"column":21}},"311":{"start":{"line":684,"column":24},"end":{"line":684,"column":47}},"312":{"start":{"line":690,"column":8},"end":{"line":690,"column":99}},"313":{"start":{"line":691,"column":8},"end":{"line":691,"column":35}},"314":{"start":{"line":694,"column":4},"end":{"line":831,"column":5}},"315":{"start":{"line":696,"column":8},"end":{"line":696,"column":25}},"316":{"start":{"line":697,"column":8},"end":{"line":697,"column":29}},"317":{"start":{"line":698,"column":8},"end":{"line":698,"column":23}},"318":{"start":{"line":700,"column":8},"end":{"line":700,"column":25}},"319":{"start":{"line":701,"column":8},"end":{"line":701,"column":38}},"320":{"start":{"line":702,"column":8},"end":{"line":702,"column":31}},"321":{"start":{"line":703,"column":8},"end":{"line":703,"column":36}},"322":{"start":{"line":705,"column":8},"end":{"line":707,"column":10}},"323":{"start":{"line":706,"column":12},"end":{"line":706,"column":43}},"324":{"start":{"line":709,"column":8},"end":{"line":714,"column":10}},"325":{"start":{"line":710,"column":12},"end":{"line":710,"column":56}},"326":{"start":{"line":711,"column":12},"end":{"line":711,"column":43}},"327":{"start":{"line":712,"column":12},"end":{"line":712,"column":36}},"328":{"start":{"line":713,"column":12},"end":{"line":713,"column":25}},"329":{"start":{"line":716,"column":8},"end":{"line":723,"column":10}},"330":{"start":{"line":718,"column":12},"end":{"line":718,"column":57}},"331":{"start":{"line":719,"column":12},"end":{"line":719,"column":109}},"332":{"start":{"line":721,"column":12},"end":{"line":721,"column":29}},"333":{"start":{"line":722,"column":12},"end":{"line":722,"column":25}},"334":{"start":{"line":725,"column":8},"end":{"line":741,"column":10}},"335":{"start":{"line":726,"column":12},"end":{"line":727,"column":86}},"336":{"start":{"line":728,"column":12},"end":{"line":728,"column":55}},"337":{"start":{"line":729,"column":12},"end":{"line":729,"column":67}},"338":{"start":{"line":730,"column":12},"end":{"line":730,"column":42}},"339":{"start":{"line":731,"column":12},"end":{"line":731,"column":28}},"340":{"start":{"line":732,"column":12},"end":{"line":736,"column":13}},"341":{"start":{"line":733,"column":16},"end":{"line":735,"column":17}},"342":{"start":{"line":734,"column":20},"end":{"line":734,"column":30}},"343":{"start":{"line":737,"column":12},"end":{"line":739,"column":13}},"344":{"start":{"line":738,"column":16},"end":{"line":738,"column":33}},"345":{"start":{"line":743,"column":8},"end":{"line":751,"column":10}},"346":{"start":{"line":745,"column":12},"end":{"line":749,"column":13}},"347":{"start":{"line":746,"column":16},"end":{"line":748,"column":17}},"348":{"start":{"line":747,"column":20},"end":{"line":747,"column":61}},"349":{"start":{"line":753,"column":8},"end":{"line":760,"column":10}},"350":{"start":{"line":754,"column":12},"end":{"line":755,"column":77}},"351":{"start":{"line":757,"column":12},"end":{"line":757,"column":38}},"352":{"start":{"line":758,"column":12},"end":{"line":758,"column":40}},"353":{"start":{"line":762,"column":8},"end":{"line":772,"column":10}},"354":{"start":{"line":763,"column":12},"end":{"line":763,"column":60}},"355":{"start":{"line":764,"column":12},"end":{"line":764,"column":44}},"356":{"start":{"line":765,"column":12},"end":{"line":770,"column":13}},"357":{"start":{"line":766,"column":16},"end":{"line":768,"column":17}},"358":{"start":{"line":767,"column":20},"end":{"line":767,"column":48}},"359":{"start":{"line":769,"column":16},"end":{"line":769,"column":48}},"360":{"start":{"line":771,"column":12},"end":{"line":771,"column":24}},"361":{"start":{"line":774,"column":8},"end":{"line":783,"column":10}},"362":{"start":{"line":775,"column":12},"end":{"line":782,"column":13}},"363":{"start":{"line":776,"column":16},"end":{"line":781,"column":17}},"364":{"start":{"line":777,"column":20},"end":{"line":777,"column":70}},"365":{"start":{"line":778,"column":20},"end":{"line":780,"column":21}},"366":{"start":{"line":779,"column":24},"end":{"line":779,"column":31}},"367":{"start":{"line":786,"column":8},"end":{"line":802,"column":10}},"368":{"start":{"line":788,"column":12},"end":{"line":788,"column":27}},"369":{"start":{"line":792,"column":12},"end":{"line":798,"column":13}},"370":{"start":{"line":794,"column":16},"end":{"line":794,"column":62}},"371":{"start":{"line":795,"column":16},"end":{"line":795,"column":63}},"372":{"start":{"line":796,"column":16},"end":{"line":796,"column":43}},"373":{"start":{"line":797,"column":16},"end":{"line":797,"column":55}},"374":{"start":{"line":800,"column":12},"end":{"line":800,"column":25}},"375":{"start":{"line":804,"column":8},"end":{"line":821,"column":10}},"376":{"start":{"line":805,"column":12},"end":{"line":805,"column":29}},"377":{"start":{"line":809,"column":12},"end":{"line":818,"column":13}},"378":{"start":{"line":810,"column":16},"end":{"line":810,"column":43}},"379":{"start":{"line":812,"column":16},"end":{"line":817,"column":17}},"380":{"start":{"line":813,"column":20},"end":{"line":815,"column":21}},"381":{"start":{"line":814,"column":24},"end":{"line":814,"column":42}},"382":{"start":{"line":816,"column":20},"end":{"line":816,"column":89}},"383":{"start":{"line":820,"column":12},"end":{"line":820,"column":27}},"384":{"start":{"line":823,"column":8},"end":{"line":830,"column":10}},"385":{"start":{"line":825,"column":12},"end":{"line":829,"column":13}},"386":{"start":{"line":826,"column":16},"end":{"line":828,"column":17}},"387":{"start":{"line":827,"column":20},"end":{"line":827,"column":42}},"388":{"start":{"line":833,"column":4},"end":{"line":885,"column":6}},"389":{"start":{"line":836,"column":16},"end":{"line":836,"column":61}},"390":{"start":{"line":839,"column":16},"end":{"line":839,"column":105}},"391":{"start":{"line":840,"column":16},"end":{"line":845,"column":17}},"392":{"start":{"line":841,"column":20},"end":{"line":841,"column":62}},"393":{"start":{"line":842,"column":20},"end":{"line":842,"column":38}},"394":{"start":{"line":844,"column":20},"end":{"line":844,"column":42}},"395":{"start":{"line":848,"column":16},"end":{"line":848,"column":52}},"396":{"start":{"line":853,"column":16},"end":{"line":853,"column":61}},"397":{"start":{"line":856,"column":16},"end":{"line":856,"column":105}},"398":{"start":{"line":857,"column":16},"end":{"line":862,"column":17}},"399":{"start":{"line":858,"column":20},"end":{"line":858,"column":62}},"400":{"start":{"line":859,"column":20},"end":{"line":859,"column":38}},"401":{"start":{"line":861,"column":20},"end":{"line":861,"column":42}},"402":{"start":{"line":865,"column":16},"end":{"line":865,"column":52}},"403":{"start":{"line":870,"column":16},"end":{"line":870,"column":67}},"404":{"start":{"line":873,"column":16},"end":{"line":873,"column":105}},"405":{"start":{"line":874,"column":16},"end":{"line":879,"column":17}},"406":{"start":{"line":875,"column":20},"end":{"line":875,"column":71}},"407":{"start":{"line":876,"column":20},"end":{"line":876,"column":41}},"408":{"start":{"line":878,"column":20},"end":{"line":878,"column":42}},"409":{"start":{"line":882,"column":16},"end":{"line":882,"column":55}},"410":{"start":{"line":895,"column":4},"end":{"line":923,"column":6}},"411":{"start":{"line":896,"column":8},"end":{"line":921,"column":9}},"412":{"start":{"line":897,"column":12},"end":{"line":920,"column":13}},"413":{"start":{"line":901,"column":16},"end":{"line":901,"column":32}},"414":{"start":{"line":902,"column":16},"end":{"line":914,"column":17}},"415":{"start":{"line":903,"column":20},"end":{"line":908,"column":21}},"416":{"start":{"line":904,"column":24},"end":{"line":904,"column":57}},"417":{"start":{"line":906,"column":24},"end":{"line":906,"column":92}},"418":{"start":{"line":907,"column":24},"end":{"line":907,"column":37}},"419":{"start":{"line":909,"column":20},"end":{"line":911,"column":21}},"420":{"start":{"line":910,"column":24},"end":{"line":910,"column":37}},"421":{"start":{"line":913,"column":20},"end":{"line":913,"column":36}},"422":{"start":{"line":916,"column":16},"end":{"line":919,"column":17}},"423":{"start":{"line":917,"column":20},"end":{"line":917,"column":42}},"424":{"start":{"line":918,"column":20},"end":{"line":918,"column":32}},"425":{"start":{"line":922,"column":8},"end":{"line":922,"column":21}},"426":{"start":{"line":931,"column":4},"end":{"line":933,"column":6}},"427":{"start":{"line":932,"column":8},"end":{"line":932,"column":37}},"428":{"start":{"line":936,"column":4},"end":{"line":970,"column":6}},"429":{"start":{"line":940,"column":8},"end":{"line":940,"column":46}},"430":{"start":{"line":941,"column":8},"end":{"line":945,"column":9}},"431":{"start":{"line":942,"column":12},"end":{"line":942,"column":45}},"432":{"start":{"line":944,"column":12},"end":{"line":944,"column":34}},"433":{"start":{"line":947,"column":8},"end":{"line":949,"column":9}},"434":{"start":{"line":948,"column":12},"end":{"line":948,"column":34}},"435":{"start":{"line":950,"column":8},"end":{"line":952,"column":9}},"436":{"start":{"line":951,"column":12},"end":{"line":951,"column":41}},"437":{"start":{"line":954,"column":8},"end":{"line":967,"column":9}},"438":{"start":{"line":955,"column":12},"end":{"line":966,"column":40}},"439":{"start":{"line":956,"column":16},"end":{"line":965,"column":19}},"440":{"start":{"line":957,"column":20},"end":{"line":964,"column":21}},"441":{"start":{"line":958,"column":24},"end":{"line":958,"column":58}},"442":{"start":{"line":959,"column":24},"end":{"line":962,"column":27}},"443":{"start":{"line":960,"column":28},"end":{"line":960,"column":59}},"444":{"start":{"line":961,"column":28},"end":{"line":961,"column":86}},"445":{"start":{"line":963,"column":24},"end":{"line":963,"column":37}},"446":{"start":{"line":969,"column":8},"end":{"line":969,"column":20}},"447":{"start":{"line":972,"column":4},"end":{"line":983,"column":6}},"448":{"start":{"line":973,"column":8},"end":{"line":973,"column":56}},"449":{"start":{"line":974,"column":8},"end":{"line":974,"column":78}},"450":{"start":{"line":976,"column":8},"end":{"line":981,"column":9}},"451":{"start":{"line":977,"column":12},"end":{"line":979,"column":13}},"452":{"start":{"line":978,"column":16},"end":{"line":978,"column":44}},"453":{"start":{"line":980,"column":12},"end":{"line":980,"column":44}},"454":{"start":{"line":982,"column":8},"end":{"line":982,"column":20}},"455":{"start":{"line":985,"column":4},"end":{"line":994,"column":6}},"456":{"start":{"line":986,"column":8},"end":{"line":993,"column":9}},"457":{"start":{"line":987,"column":12},"end":{"line":992,"column":13}},"458":{"start":{"line":988,"column":16},"end":{"line":988,"column":66}},"459":{"start":{"line":989,"column":16},"end":{"line":991,"column":17}},"460":{"start":{"line":990,"column":20},"end":{"line":990,"column":27}},"461":{"start":{"line":996,"column":4},"end":{"line":1000,"column":6}},"462":{"start":{"line":997,"column":8},"end":{"line":999,"column":11}},"463":{"start":{"line":998,"column":12},"end":{"line":998,"column":28}},"464":{"start":{"line":1002,"column":4},"end":{"line":1014,"column":6}},"465":{"start":{"line":1004,"column":8},"end":{"line":1004,"column":48}},"466":{"start":{"line":1006,"column":8},"end":{"line":1006,"column":37}},"467":{"start":{"line":1008,"column":8},"end":{"line":1008,"column":53}},"468":{"start":{"line":1010,"column":8},"end":{"line":1010,"column":30}},"469":{"start":{"line":1012,"column":8},"end":{"line":1012,"column":24}},"470":{"start":{"line":1017,"column":4},"end":{"line":1022,"column":6}},"471":{"start":{"line":1018,"column":8},"end":{"line":1020,"column":9}},"472":{"start":{"line":1019,"column":12},"end":{"line":1019,"column":77}},"473":{"start":{"line":1021,"column":8},"end":{"line":1021,"column":27}},"474":{"start":{"line":1024,"column":4},"end":{"line":1049,"column":6}},"475":{"start":{"line":1027,"column":8},"end":{"line":1027,"column":51}},"476":{"start":{"line":1029,"column":8},"end":{"line":1037,"column":10}},"477":{"start":{"line":1030,"column":12},"end":{"line":1036,"column":15}},"478":{"start":{"line":1031,"column":16},"end":{"line":1035,"column":17}},"479":{"start":{"line":1032,"column":20},"end":{"line":1032,"column":62}},"480":{"start":{"line":1034,"column":20},"end":{"line":1034,"column":45}},"481":{"start":{"line":1038,"column":8},"end":{"line":1046,"column":11}},"482":{"start":{"line":1039,"column":12},"end":{"line":1045,"column":13}},"483":{"start":{"line":1040,"column":16},"end":{"line":1040,"column":67}},"484":{"start":{"line":1042,"column":16},"end":{"line":1042,"column":52}},"485":{"start":{"line":1044,"column":16},"end":{"line":1044,"column":39}},"486":{"start":{"line":1044,"column":26},"end":{"line":1044,"column":37}},"487":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":22}},"488":{"start":{"line":1051,"column":4},"end":{"line":1058,"column":6}},"489":{"start":{"line":1052,"column":8},"end":{"line":1057,"column":9}},"490":{"start":{"line":1054,"column":12},"end":{"line":1056,"column":21}},"491":{"start":{"line":1055,"column":16},"end":{"line":1055,"column":30}},"492":{"start":{"line":1060,"column":4},"end":{"line":1064,"column":6}},"493":{"start":{"line":1061,"column":8},"end":{"line":1063,"column":9}},"494":{"start":{"line":1062,"column":12},"end":{"line":1062,"column":47}},"495":{"start":{"line":1066,"column":4},"end":{"line":1084,"column":6}},"496":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":48}},"497":{"start":{"line":1071,"column":8},"end":{"line":1071,"column":37}},"498":{"start":{"line":1072,"column":8},"end":{"line":1072,"column":91}},"499":{"start":{"line":1074,"column":8},"end":{"line":1074,"column":52}},"500":{"start":{"line":1076,"column":8},"end":{"line":1076,"column":30}},"501":{"start":{"line":1078,"column":8},"end":{"line":1082,"column":9}},"502":{"start":{"line":1079,"column":12},"end":{"line":1079,"column":28}},"503":{"start":{"line":1081,"column":12},"end":{"line":1081,"column":24}},"504":{"start":{"line":1086,"column":4},"end":{"line":1101,"column":6}},"505":{"start":{"line":1087,"column":8},"end":{"line":1100,"column":11}},"506":{"start":{"line":1088,"column":12},"end":{"line":1099,"column":13}},"507":{"start":{"line":1089,"column":16},"end":{"line":1089,"column":65}},"508":{"start":{"line":1091,"column":16},"end":{"line":1091,"column":49}},"509":{"start":{"line":1092,"column":16},"end":{"line":1098,"column":19}},"510":{"start":{"line":1093,"column":20},"end":{"line":1097,"column":21}},"511":{"start":{"line":1094,"column":24},"end":{"line":1094,"column":46}},"512":{"start":{"line":1096,"column":24},"end":{"line":1096,"column":75}},"513":{"start":{"line":1103,"column":4},"end":{"line":1116,"column":6}},"514":{"start":{"line":1104,"column":8},"end":{"line":1106,"column":9}},"515":{"start":{"line":1105,"column":12},"end":{"line":1105,"column":35}},"516":{"start":{"line":1107,"column":8},"end":{"line":1111,"column":9}},"517":{"start":{"line":1108,"column":12},"end":{"line":1110,"column":13}},"518":{"start":{"line":1109,"column":16},"end":{"line":1109,"column":42}},"519":{"start":{"line":1114,"column":8},"end":{"line":1114,"column":33}},"520":{"start":{"line":1123,"column":4},"end":{"line":1148,"column":6}},"521":{"start":{"line":1124,"column":8},"end":{"line":1124,"column":29}},"522":{"start":{"line":1125,"column":8},"end":{"line":1125,"column":29}},"523":{"start":{"line":1127,"column":8},"end":{"line":1129,"column":10}},"524":{"start":{"line":1128,"column":12},"end":{"line":1128,"column":42}},"525":{"start":{"line":1131,"column":8},"end":{"line":1137,"column":10}},"526":{"start":{"line":1133,"column":12},"end":{"line":1135,"column":15}},"527":{"start":{"line":1134,"column":16},"end":{"line":1134,"column":40}},"528":{"start":{"line":1139,"column":8},"end":{"line":1141,"column":10}},"529":{"start":{"line":1140,"column":12},"end":{"line":1140,"column":41}},"530":{"start":{"line":1144,"column":8},"end":{"line":1147,"column":10}},"531":{"start":{"line":1145,"column":12},"end":{"line":1145,"column":47}},"532":{"start":{"line":1146,"column":12},"end":{"line":1146,"column":21}},"533":{"start":{"line":1150,"column":4},"end":{"line":1167,"column":6}},"534":{"start":{"line":1152,"column":8},"end":{"line":1163,"column":9}},"535":{"start":{"line":1154,"column":12},"end":{"line":1154,"column":50}},"536":{"start":{"line":1157,"column":12},"end":{"line":1157,"column":63}},"537":{"start":{"line":1160,"column":12},"end":{"line":1160,"column":71}},"538":{"start":{"line":1162,"column":12},"end":{"line":1162,"column":38}},"539":{"start":{"line":1165,"column":8},"end":{"line":1165,"column":36}},"540":{"start":{"line":1170,"column":4},"end":{"line":1184,"column":6}},"541":{"start":{"line":1172,"column":8},"end":{"line":1181,"column":9}},"542":{"start":{"line":1173,"column":12},"end":{"line":1173,"column":70}},"543":{"start":{"line":1174,"column":12},"end":{"line":1178,"column":13}},"544":{"start":{"line":1175,"column":16},"end":{"line":1175,"column":38}},"545":{"start":{"line":1177,"column":16},"end":{"line":1177,"column":75}},"546":{"start":{"line":1180,"column":12},"end":{"line":1180,"column":44}},"547":{"start":{"line":1182,"column":8},"end":{"line":1182,"column":33}},"548":{"start":{"line":1187,"column":4},"end":{"line":1187,"column":34}},"549":{"start":{"line":1193,"column":4},"end":{"line":1195,"column":5}},"550":{"start":{"line":1194,"column":8},"end":{"line":1194,"column":43}},"551":{"start":{"line":1198,"column":4},"end":{"line":1206,"column":5}},"552":{"start":{"line":1199,"column":8},"end":{"line":1205,"column":9}},"553":{"start":{"line":1200,"column":12},"end":{"line":1200,"column":45}},"554":{"start":{"line":1201,"column":15},"end":{"line":1205,"column":9}},"555":{"start":{"line":1202,"column":12},"end":{"line":1202,"column":45}},"556":{"start":{"line":1204,"column":12},"end":{"line":1204,"column":44}},"557":{"start":{"line":1208,"column":4},"end":{"line":1216,"column":5}},"558":{"start":{"line":1209,"column":8},"end":{"line":1213,"column":9}},"559":{"start":{"line":1210,"column":12},"end":{"line":1210,"column":49}},"560":{"start":{"line":1212,"column":12},"end":{"line":1212,"column":75}},"561":{"start":{"line":1215,"column":8},"end":{"line":1215,"column":71}},"562":{"start":{"line":1218,"column":4},"end":{"line":1220,"column":6}},"563":{"start":{"line":1219,"column":8},"end":{"line":1219,"column":53}},"564":{"start":{"line":1221,"column":4},"end":{"line":1223,"column":7}},"565":{"start":{"line":1222,"column":8},"end":{"line":1222,"column":73}},"566":{"start":{"line":1224,"column":4},"end":{"line":1224,"column":36}},"567":{"start":{"line":1226,"column":4},"end":{"line":1226,"column":60}},"568":{"start":{"line":1228,"column":4},"end":{"line":1252,"column":5}},"569":{"start":{"line":1229,"column":8},"end":{"line":1246,"column":9}},"570":{"start":{"line":1242,"column":12},"end":{"line":1242,"column":58}},"571":{"start":{"line":1243,"column":12},"end":{"line":1243,"column":51}},"572":{"start":{"line":1245,"column":12},"end":{"line":1245,"column":82}},"573":{"start":{"line":1247,"column":11},"end":{"line":1252,"column":5}},"574":{"start":{"line":1248,"column":8},"end":{"line":1248,"column":95}},"575":{"start":{"line":1249,"column":8},"end":{"line":1249,"column":79}},"576":{"start":{"line":1251,"column":8},"end":{"line":1251,"column":107}},"577":{"start":{"line":1255,"column":4},"end":{"line":1255,"column":43}},"578":{"start":{"line":1258,"column":4},"end":{"line":1258,"column":19}},"579":{"start":{"line":1260,"column":4},"end":{"line":1260,"column":18}},"580":{"start":{"line":1263,"column":0},"end":{"line":1263,"column":24}}},"branchMap":{"1":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":16},"end":{"line":86,"column":16}},{"start":{"line":86,"column":16},"end":{"line":86,"column":16}}]},"2":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16}},{"start":{"line":92,"column":16},"end":{"line":92,"column":16}}]},"3":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":16},"end":{"line":98,"column":16}},{"start":{"line":98,"column":16},"end":{"line":98,"column":16}}]},"4":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":23},"end":{"line":100,"column":23}},{"start":{"line":100,"column":23},"end":{"line":100,"column":23}}]},"5":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":16},"end":{"line":106,"column":16}},{"start":{"line":106,"column":16},"end":{"line":106,"column":16}}]},"6":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":20},"end":{"line":107,"column":20}},{"start":{"line":107,"column":20},"end":{"line":107,"column":20}}]},"7":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":16},"end":{"line":115,"column":16}},{"start":{"line":115,"column":16},"end":{"line":115,"column":16}}]},"8":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"9":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":20},"end":{"line":132,"column":20}},{"start":{"line":132,"column":20},"end":{"line":132,"column":20}}]},"10":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":28},"end":{"line":139,"column":28}},{"start":{"line":139,"column":28},"end":{"line":139,"column":28}}]},"11":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":32},"end":{"line":139,"column":51}},{"start":{"line":139,"column":55},"end":{"line":139,"column":104}}]},"12":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":28},"end":{"line":150,"column":28}},{"start":{"line":150,"column":28},"end":{"line":150,"column":28}}]},"13":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":12},"end":{"line":166,"column":12}},{"start":{"line":166,"column":12},"end":{"line":166,"column":12}}]},"14":{"line":183,"type":"binary-expr","locations":[{"start":{"line":183,"column":20},"end":{"line":183,"column":43}},{"start":{"line":183,"column":47},"end":{"line":183,"column":70}}]},"15":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":12},"end":{"line":195,"column":12}},{"start":{"line":195,"column":12},"end":{"line":195,"column":12}}]},"16":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":16},"end":{"line":211,"column":16}},{"start":{"line":211,"column":16},"end":{"line":211,"column":16}}]},"17":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":12},"end":{"line":220,"column":12}},{"start":{"line":220,"column":12},"end":{"line":220,"column":12}}]},"18":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":20},"end":{"line":223,"column":20}},{"start":{"line":223,"column":20},"end":{"line":223,"column":20}}]},"19":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":12},"end":{"line":237,"column":12}},{"start":{"line":237,"column":12},"end":{"line":237,"column":12}}]},"20":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":12},"end":{"line":249,"column":12}},{"start":{"line":249,"column":12},"end":{"line":249,"column":12}}]},"21":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":12},"end":{"line":258,"column":12}},{"start":{"line":258,"column":12},"end":{"line":258,"column":12}}]},"22":{"line":268,"type":"binary-expr","locations":[{"start":{"line":268,"column":59},"end":{"line":268,"column":70}},{"start":{"line":268,"column":74},"end":{"line":268,"column":83}}]},"23":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":12},"end":{"line":272,"column":12}},{"start":{"line":272,"column":12},"end":{"line":272,"column":12}}]},"24":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":12},"end":{"line":275,"column":12}},{"start":{"line":275,"column":12},"end":{"line":275,"column":12}}]},"25":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":12},"end":{"line":284,"column":12}},{"start":{"line":284,"column":12},"end":{"line":284,"column":12}}]},"26":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":12},"end":{"line":290,"column":12}},{"start":{"line":290,"column":12},"end":{"line":290,"column":12}}]},"27":{"line":324,"type":"if","locations":[{"start":{"line":324,"column":12},"end":{"line":324,"column":12}},{"start":{"line":324,"column":12},"end":{"line":324,"column":12}}]},"28":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":342,"column":12}},{"start":{"line":342,"column":12},"end":{"line":342,"column":12}}]},"29":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":16},"end":{"line":343,"column":16}},{"start":{"line":343,"column":16},"end":{"line":343,"column":16}}]},"30":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":12},"end":{"line":358,"column":12}},{"start":{"line":358,"column":12},"end":{"line":358,"column":12}}]},"31":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":12},"end":{"line":362,"column":12}},{"start":{"line":362,"column":12},"end":{"line":362,"column":12}}]},"32":{"line":362,"type":"binary-expr","locations":[{"start":{"line":362,"column":16},"end":{"line":362,"column":39}},{"start":{"line":362,"column":43},"end":{"line":362,"column":59}}]},"33":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":12},"end":{"line":366,"column":12}},{"start":{"line":366,"column":12},"end":{"line":366,"column":12}}]},"34":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":20},"end":{"line":372,"column":20}},{"start":{"line":372,"column":20},"end":{"line":372,"column":20}}]},"35":{"line":378,"type":"if","locations":[{"start":{"line":378,"column":20},"end":{"line":378,"column":20}},{"start":{"line":378,"column":20},"end":{"line":378,"column":20}}]},"36":{"line":378,"type":"binary-expr","locations":[{"start":{"line":378,"column":24},"end":{"line":378,"column":35}},{"start":{"line":378,"column":39},"end":{"line":378,"column":68}}]},"37":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":24},"end":{"line":380,"column":24}},{"start":{"line":380,"column":24},"end":{"line":380,"column":24}}]},"38":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":16},"end":{"line":389,"column":16}},{"start":{"line":389,"column":16},"end":{"line":389,"column":16}}]},"39":{"line":403,"type":"cond-expr","locations":[{"start":{"line":404,"column":21},"end":{"line":404,"column":52}},{"start":{"line":404,"column":55},"end":{"line":404,"column":83}}]},"40":{"line":418,"type":"cond-expr","locations":[{"start":{"line":419,"column":21},"end":{"line":419,"column":52}},{"start":{"line":419,"column":55},"end":{"line":419,"column":83}}]},"41":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":12},"end":{"line":443,"column":12}},{"start":{"line":443,"column":12},"end":{"line":443,"column":12}}]},"42":{"line":443,"type":"binary-expr","locations":[{"start":{"line":443,"column":16},"end":{"line":443,"column":27}},{"start":{"line":443,"column":31},"end":{"line":443,"column":49}}]},"43":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":24},"end":{"line":446,"column":24}},{"start":{"line":446,"column":24},"end":{"line":446,"column":24}}]},"44":{"line":455,"type":"if","locations":[{"start":{"line":455,"column":20},"end":{"line":455,"column":20}},{"start":{"line":455,"column":20},"end":{"line":455,"column":20}}]},"45":{"line":491,"type":"binary-expr","locations":[{"start":{"line":491,"column":26},"end":{"line":491,"column":32}},{"start":{"line":491,"column":36},"end":{"line":491,"column":45}}]},"46":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":12},"end":{"line":504,"column":12}},{"start":{"line":504,"column":12},"end":{"line":504,"column":12}}]},"47":{"line":508,"type":"if","locations":[{"start":{"line":508,"column":12},"end":{"line":508,"column":12}},{"start":{"line":508,"column":12},"end":{"line":508,"column":12}}]},"48":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":12},"end":{"line":520,"column":12}},{"start":{"line":520,"column":12},"end":{"line":520,"column":12}}]},"49":{"line":522,"type":"if","locations":[{"start":{"line":522,"column":19},"end":{"line":522,"column":19}},{"start":{"line":522,"column":19},"end":{"line":522,"column":19}}]},"50":{"line":528,"type":"if","locations":[{"start":{"line":528,"column":12},"end":{"line":528,"column":12}},{"start":{"line":528,"column":12},"end":{"line":528,"column":12}}]},"51":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":12},"end":{"line":532,"column":12}},{"start":{"line":532,"column":12},"end":{"line":532,"column":12}}]},"52":{"line":535,"type":"if","locations":[{"start":{"line":535,"column":16},"end":{"line":535,"column":16}},{"start":{"line":535,"column":16},"end":{"line":535,"column":16}}]},"53":{"line":535,"type":"binary-expr","locations":[{"start":{"line":535,"column":20},"end":{"line":535,"column":52}},{"start":{"line":535,"column":56},"end":{"line":535,"column":108}}]},"54":{"line":545,"type":"if","locations":[{"start":{"line":545,"column":12},"end":{"line":545,"column":12}},{"start":{"line":545,"column":12},"end":{"line":545,"column":12}}]},"55":{"line":545,"type":"binary-expr","locations":[{"start":{"line":545,"column":16},"end":{"line":545,"column":36}},{"start":{"line":545,"column":40},"end":{"line":545,"column":56}}]},"56":{"line":549,"type":"if","locations":[{"start":{"line":549,"column":12},"end":{"line":549,"column":12}},{"start":{"line":549,"column":12},"end":{"line":549,"column":12}}]},"57":{"line":559,"type":"if","locations":[{"start":{"line":559,"column":12},"end":{"line":559,"column":12}},{"start":{"line":559,"column":12},"end":{"line":559,"column":12}}]},"58":{"line":560,"type":"if","locations":[{"start":{"line":560,"column":16},"end":{"line":560,"column":16}},{"start":{"line":560,"column":16},"end":{"line":560,"column":16}}]},"59":{"line":567,"type":"if","locations":[{"start":{"line":567,"column":20},"end":{"line":567,"column":20}},{"start":{"line":567,"column":20},"end":{"line":567,"column":20}}]},"60":{"line":567,"type":"binary-expr","locations":[{"start":{"line":567,"column":24},"end":{"line":567,"column":43}},{"start":{"line":568,"column":25},"end":{"line":568,"column":55}},{"start":{"line":569,"column":25},"end":{"line":569,"column":57}}]},"61":{"line":572,"type":"if","locations":[{"start":{"line":572,"column":24},"end":{"line":572,"column":24}},{"start":{"line":572,"column":24},"end":{"line":572,"column":24}}]},"62":{"line":581,"type":"if","locations":[{"start":{"line":581,"column":20},"end":{"line":581,"column":20}},{"start":{"line":581,"column":20},"end":{"line":581,"column":20}}]},"63":{"line":583,"type":"if","locations":[{"start":{"line":583,"column":24},"end":{"line":583,"column":24}},{"start":{"line":583,"column":24},"end":{"line":583,"column":24}}]},"64":{"line":583,"type":"binary-expr","locations":[{"start":{"line":583,"column":28},"end":{"line":583,"column":44}},{"start":{"line":584,"column":28},"end":{"line":584,"column":65}}]},"65":{"line":589,"type":"if","locations":[{"start":{"line":589,"column":24},"end":{"line":589,"column":24}},{"start":{"line":589,"column":24},"end":{"line":589,"column":24}}]},"66":{"line":589,"type":"binary-expr","locations":[{"start":{"line":589,"column":28},"end":{"line":589,"column":72}},{"start":{"line":590,"column":28},"end":{"line":590,"column":44}},{"start":{"line":591,"column":28},"end":{"line":591,"column":70}}]},"67":{"line":596,"type":"if","locations":[{"start":{"line":596,"column":24},"end":{"line":596,"column":24}},{"start":{"line":596,"column":24},"end":{"line":596,"column":24}}]},"68":{"line":596,"type":"binary-expr","locations":[{"start":{"line":596,"column":28},"end":{"line":596,"column":77}},{"start":{"line":597,"column":28},"end":{"line":597,"column":71}}]},"69":{"line":601,"type":"if","locations":[{"start":{"line":601,"column":28},"end":{"line":601,"column":28}},{"start":{"line":601,"column":28},"end":{"line":601,"column":28}}]},"70":{"line":601,"type":"binary-expr","locations":[{"start":{"line":601,"column":32},"end":{"line":601,"column":52}},{"start":{"line":601,"column":56},"end":{"line":601,"column":78}}]},"71":{"line":604,"type":"if","locations":[{"start":{"line":604,"column":28},"end":{"line":604,"column":28}},{"start":{"line":604,"column":28},"end":{"line":604,"column":28}}]},"72":{"line":611,"type":"if","locations":[{"start":{"line":611,"column":28},"end":{"line":611,"column":28}},{"start":{"line":611,"column":28},"end":{"line":611,"column":28}}]},"73":{"line":622,"type":"if","locations":[{"start":{"line":622,"column":28},"end":{"line":622,"column":28}},{"start":{"line":622,"column":28},"end":{"line":622,"column":28}}]},"74":{"line":622,"type":"binary-expr","locations":[{"start":{"line":622,"column":32},"end":{"line":622,"column":44}},{"start":{"line":622,"column":48},"end":{"line":622,"column":67}},{"start":{"line":622,"column":71},"end":{"line":622,"column":89}}]},"75":{"line":633,"type":"if","locations":[{"start":{"line":633,"column":36},"end":{"line":633,"column":36}},{"start":{"line":633,"column":36},"end":{"line":633,"column":36}}]},"76":{"line":649,"type":"if","locations":[{"start":{"line":649,"column":40},"end":{"line":649,"column":40}},{"start":{"line":649,"column":40},"end":{"line":649,"column":40}}]},"77":{"line":649,"type":"binary-expr","locations":[{"start":{"line":649,"column":44},"end":{"line":649,"column":73}},{"start":{"line":649,"column":77},"end":{"line":649,"column":89}},{"start":{"line":649,"column":93},"end":{"line":649,"column":108}}]},"78":{"line":658,"type":"if","locations":[{"start":{"line":658,"column":28},"end":{"line":658,"column":28}},{"start":{"line":658,"column":28},"end":{"line":658,"column":28}}]},"79":{"line":659,"type":"if","locations":[{"start":{"line":659,"column":32},"end":{"line":659,"column":32}},{"start":{"line":659,"column":32},"end":{"line":659,"column":32}}]},"80":{"line":661,"type":"if","locations":[{"start":{"line":661,"column":39},"end":{"line":661,"column":39}},{"start":{"line":661,"column":39},"end":{"line":661,"column":39}}]},"81":{"line":663,"type":"if","locations":[{"start":{"line":663,"column":39},"end":{"line":663,"column":39}},{"start":{"line":663,"column":39},"end":{"line":663,"column":39}}]},"82":{"line":665,"type":"if","locations":[{"start":{"line":665,"column":39},"end":{"line":665,"column":39}},{"start":{"line":665,"column":39},"end":{"line":665,"column":39}}]},"83":{"line":667,"type":"if","locations":[{"start":{"line":667,"column":39},"end":{"line":667,"column":39}},{"start":{"line":667,"column":39},"end":{"line":667,"column":39}}]},"84":{"line":669,"type":"if","locations":[{"start":{"line":669,"column":39},"end":{"line":669,"column":39}},{"start":{"line":669,"column":39},"end":{"line":669,"column":39}}]},"85":{"line":679,"type":"if","locations":[{"start":{"line":679,"column":24},"end":{"line":679,"column":24}},{"start":{"line":679,"column":24},"end":{"line":679,"column":24}}]},"86":{"line":679,"type":"binary-expr","locations":[{"start":{"line":679,"column":28},"end":{"line":679,"column":43}},{"start":{"line":679,"column":47},"end":{"line":679,"column":68}},{"start":{"line":679,"column":72},"end":{"line":679,"column":85}}]},"87":{"line":683,"type":"if","locations":[{"start":{"line":683,"column":27},"end":{"line":683,"column":27}},{"start":{"line":683,"column":27},"end":{"line":683,"column":27}}]},"88":{"line":733,"type":"if","locations":[{"start":{"line":733,"column":16},"end":{"line":733,"column":16}},{"start":{"line":733,"column":16},"end":{"line":733,"column":16}}]},"89":{"line":737,"type":"if","locations":[{"start":{"line":737,"column":12},"end":{"line":737,"column":12}},{"start":{"line":737,"column":12},"end":{"line":737,"column":12}}]},"90":{"line":746,"type":"if","locations":[{"start":{"line":746,"column":16},"end":{"line":746,"column":16}},{"start":{"line":746,"column":16},"end":{"line":746,"column":16}}]},"91":{"line":747,"type":"binary-expr","locations":[{"start":{"line":747,"column":40},"end":{"line":747,"column":46}},{"start":{"line":747,"column":50},"end":{"line":747,"column":59}}]},"92":{"line":766,"type":"if","locations":[{"start":{"line":766,"column":16},"end":{"line":766,"column":16}},{"start":{"line":766,"column":16},"end":{"line":766,"column":16}}]},"93":{"line":775,"type":"if","locations":[{"start":{"line":775,"column":12},"end":{"line":775,"column":12}},{"start":{"line":775,"column":12},"end":{"line":775,"column":12}}]},"94":{"line":778,"type":"if","locations":[{"start":{"line":778,"column":20},"end":{"line":778,"column":20}},{"start":{"line":778,"column":20},"end":{"line":778,"column":20}}]},"95":{"line":813,"type":"if","locations":[{"start":{"line":813,"column":20},"end":{"line":813,"column":20}},{"start":{"line":813,"column":20},"end":{"line":813,"column":20}}]},"96":{"line":826,"type":"if","locations":[{"start":{"line":826,"column":16},"end":{"line":826,"column":16}},{"start":{"line":826,"column":16},"end":{"line":826,"column":16}}]},"97":{"line":840,"type":"if","locations":[{"start":{"line":840,"column":16},"end":{"line":840,"column":16}},{"start":{"line":840,"column":16},"end":{"line":840,"column":16}}]},"98":{"line":857,"type":"if","locations":[{"start":{"line":857,"column":16},"end":{"line":857,"column":16}},{"start":{"line":857,"column":16},"end":{"line":857,"column":16}}]},"99":{"line":874,"type":"if","locations":[{"start":{"line":874,"column":16},"end":{"line":874,"column":16}},{"start":{"line":874,"column":16},"end":{"line":874,"column":16}}]},"100":{"line":897,"type":"if","locations":[{"start":{"line":897,"column":12},"end":{"line":897,"column":12}},{"start":{"line":897,"column":12},"end":{"line":897,"column":12}}]},"101":{"line":902,"type":"if","locations":[{"start":{"line":902,"column":16},"end":{"line":902,"column":16}},{"start":{"line":902,"column":16},"end":{"line":902,"column":16}}]},"102":{"line":909,"type":"if","locations":[{"start":{"line":909,"column":20},"end":{"line":909,"column":20}},{"start":{"line":909,"column":20},"end":{"line":909,"column":20}}]},"103":{"line":916,"type":"if","locations":[{"start":{"line":916,"column":16},"end":{"line":916,"column":16}},{"start":{"line":916,"column":16},"end":{"line":916,"column":16}}]},"104":{"line":941,"type":"if","locations":[{"start":{"line":941,"column":8},"end":{"line":941,"column":8}},{"start":{"line":941,"column":8},"end":{"line":941,"column":8}}]},"105":{"line":947,"type":"if","locations":[{"start":{"line":947,"column":8},"end":{"line":947,"column":8}},{"start":{"line":947,"column":8},"end":{"line":947,"column":8}}]},"106":{"line":950,"type":"if","locations":[{"start":{"line":950,"column":8},"end":{"line":950,"column":8}},{"start":{"line":950,"column":8},"end":{"line":950,"column":8}}]},"107":{"line":957,"type":"if","locations":[{"start":{"line":957,"column":20},"end":{"line":957,"column":20}},{"start":{"line":957,"column":20},"end":{"line":957,"column":20}}]},"108":{"line":957,"type":"binary-expr","locations":[{"start":{"line":957,"column":24},"end":{"line":957,"column":37}},{"start":{"line":957,"column":41},"end":{"line":957,"column":73}}]},"109":{"line":974,"type":"cond-expr","locations":[{"start":{"line":974,"column":51},"end":{"line":974,"column":69}},{"start":{"line":974,"column":72},"end":{"line":974,"column":77}}]},"110":{"line":977,"type":"if","locations":[{"start":{"line":977,"column":12},"end":{"line":977,"column":12}},{"start":{"line":977,"column":12},"end":{"line":977,"column":12}}]},"111":{"line":986,"type":"if","locations":[{"start":{"line":986,"column":8},"end":{"line":986,"column":8}},{"start":{"line":986,"column":8},"end":{"line":986,"column":8}}]},"112":{"line":989,"type":"if","locations":[{"start":{"line":989,"column":16},"end":{"line":989,"column":16}},{"start":{"line":989,"column":16},"end":{"line":989,"column":16}}]},"113":{"line":1018,"type":"if","locations":[{"start":{"line":1018,"column":8},"end":{"line":1018,"column":8}},{"start":{"line":1018,"column":8},"end":{"line":1018,"column":8}}]},"114":{"line":1031,"type":"if","locations":[{"start":{"line":1031,"column":16},"end":{"line":1031,"column":16}},{"start":{"line":1031,"column":16},"end":{"line":1031,"column":16}}]},"115":{"line":1039,"type":"if","locations":[{"start":{"line":1039,"column":12},"end":{"line":1039,"column":12}},{"start":{"line":1039,"column":12},"end":{"line":1039,"column":12}}]},"116":{"line":1044,"type":"if","locations":[{"start":{"line":1044,"column":16},"end":{"line":1044,"column":16}},{"start":{"line":1044,"column":16},"end":{"line":1044,"column":16}}]},"117":{"line":1052,"type":"if","locations":[{"start":{"line":1052,"column":8},"end":{"line":1052,"column":8}},{"start":{"line":1052,"column":8},"end":{"line":1052,"column":8}}]},"118":{"line":1061,"type":"if","locations":[{"start":{"line":1061,"column":8},"end":{"line":1061,"column":8}},{"start":{"line":1061,"column":8},"end":{"line":1061,"column":8}}]},"119":{"line":1078,"type":"if","locations":[{"start":{"line":1078,"column":8},"end":{"line":1078,"column":8}},{"start":{"line":1078,"column":8},"end":{"line":1078,"column":8}}]},"120":{"line":1088,"type":"if","locations":[{"start":{"line":1088,"column":12},"end":{"line":1088,"column":12}},{"start":{"line":1088,"column":12},"end":{"line":1088,"column":12}}]},"121":{"line":1093,"type":"if","locations":[{"start":{"line":1093,"column":20},"end":{"line":1093,"column":20}},{"start":{"line":1093,"column":20},"end":{"line":1093,"column":20}}]},"122":{"line":1108,"type":"if","locations":[{"start":{"line":1108,"column":12},"end":{"line":1108,"column":12}},{"start":{"line":1108,"column":12},"end":{"line":1108,"column":12}}]},"123":{"line":1152,"type":"if","locations":[{"start":{"line":1152,"column":8},"end":{"line":1152,"column":8}},{"start":{"line":1152,"column":8},"end":{"line":1152,"column":8}}]},"124":{"line":1172,"type":"if","locations":[{"start":{"line":1172,"column":8},"end":{"line":1172,"column":8}},{"start":{"line":1172,"column":8},"end":{"line":1172,"column":8}}]},"125":{"line":1193,"type":"if","locations":[{"start":{"line":1193,"column":4},"end":{"line":1193,"column":4}},{"start":{"line":1193,"column":4},"end":{"line":1193,"column":4}}]},"126":{"line":1198,"type":"if","locations":[{"start":{"line":1198,"column":4},"end":{"line":1198,"column":4}},{"start":{"line":1198,"column":4},"end":{"line":1198,"column":4}}]},"127":{"line":1199,"type":"if","locations":[{"start":{"line":1199,"column":8},"end":{"line":1199,"column":8}},{"start":{"line":1199,"column":8},"end":{"line":1199,"column":8}}]},"128":{"line":1201,"type":"if","locations":[{"start":{"line":1201,"column":15},"end":{"line":1201,"column":15}},{"start":{"line":1201,"column":15},"end":{"line":1201,"column":15}}]},"129":{"line":1208,"type":"if","locations":[{"start":{"line":1208,"column":4},"end":{"line":1208,"column":4}},{"start":{"line":1208,"column":4},"end":{"line":1208,"column":4}}]},"130":{"line":1209,"type":"if","locations":[{"start":{"line":1209,"column":8},"end":{"line":1209,"column":8}},{"start":{"line":1209,"column":8},"end":{"line":1209,"column":8}}]},"131":{"line":1228,"type":"if","locations":[{"start":{"line":1228,"column":4},"end":{"line":1228,"column":4}},{"start":{"line":1228,"column":4},"end":{"line":1228,"column":4}}]},"132":{"line":1229,"type":"if","locations":[{"start":{"line":1229,"column":8},"end":{"line":1229,"column":8}},{"start":{"line":1229,"column":8},"end":{"line":1229,"column":8}}]},"133":{"line":1230,"type":"binary-expr","locations":[{"start":{"line":1230,"column":12},"end":{"line":1230,"column":39}},{"start":{"line":1231,"column":12},"end":{"line":1231,"column":43}},{"start":{"line":1232,"column":12},"end":{"line":1232,"column":44}},{"start":{"line":1234,"column":12},"end":{"line":1234,"column":39}},{"start":{"line":1235,"column":12},"end":{"line":1235,"column":43}},{"start":{"line":1236,"column":12},"end":{"line":1236,"column":44}},{"start":{"line":1238,"column":12},"end":{"line":1238,"column":42}},{"start":{"line":1239,"column":12},"end":{"line":1239,"column":46}},{"start":{"line":1240,"column":12},"end":{"line":1240,"column":47}}]},"134":{"line":1247,"type":"if","locations":[{"start":{"line":1247,"column":11},"end":{"line":1247,"column":11}},{"start":{"line":1247,"column":11},"end":{"line":1247,"column":11}}]}},"code":["/**"," * This is a module that makes a bot"," * It expects to receive messages via the botkit.receiveMessage function"," * These messages are expected to match Slack's message format."," **/","var mustache = require('mustache');","var simple_storage = require(__dirname + '/storage/simple_storage.js');","var ConsoleLogger = require(__dirname + '/console_logger.js');","var LogLevels = ConsoleLogger.LogLevels;","var ware = require('ware');","var clone = require('clone');","var fs = require('fs');","var studio = require('./Studio.js');","var os = require('os');","","function Botkit(configuration) {","    var botkit = {","        events: {}, // this will hold event handlers","        config: {}, // this will hold the configuration","        tasks: [],","        taskCount: 0,","        convoCount: 0,","        my_version: null,","        my_user_agent: null,","        memory_store: {","            users: {},","            channels: {},","            teams: {},","        }","    };","","    botkit.utterances = {","        yes: new RegExp(/^(yes|yea|yup|yep|ya|sure|ok|y|yeah|yah)/i),","        no: new RegExp(/^(no|nah|nope|n)/i),","        quit: new RegExp(/^(quit|cancel|end|stop|done|exit|nevermind|never mind)/i)","    };","","    // define some middleware points where custom functions","    // can plug into key points of botkits process","    botkit.middleware = {","        send: ware(),","        receive: ware(),","        spawn: ware(),","        heard: ware(),","        capture: ware(),","    };","","","    function Conversation(task, message) {","","        this.messages = [];","        this.sent = [];","        this.transcript = [];","","        this.context = {","            user: message.user,","            channel: message.channel,","            bot: task.bot,","        };","","        this.events = {};","","        this.vars = {};","","        this.threads = {};","        this.thread = null;","","        this.status = 'new';","        this.task = task;","        this.source_message = message;","        this.handler = null;","        this.responses = {};","        this.capture_options = {};","        this.startTime = new Date();","        this.lastActive = new Date();","","        this.collectResponse = function(key, value) {","            this.responses[key] = value;","        };","","        this.capture = function(response, cb) {","","            var that = this;","            var capture_key = this.sent[this.sent.length - 1].text;","            botkit.middleware.capture.run(that.task.bot, response, that, function(err, bot, response, convo) {","                if (response.text) {","                    response.text = response.text.trim();","                } else {","                    response.text = '';","                }","","                if (that.capture_options.key != undefined) {","                    capture_key = that.capture_options.key;","                }","","                // capture the question that was asked","                // if text is an array, get 1st","                if (typeof(that.sent[that.sent.length - 1].text) == 'string') {","                    response.question = that.sent[that.sent.length - 1].text;","                } else if (Array.isArray(that.sent[that.sent.length - 1].text)) {","                    response.question = that.sent[that.sent.length - 1].text[0];","                } else {","                    response.question = '';","                }","","                if (that.capture_options.multiple) {","                    if (!that.responses[capture_key]) {","                        that.responses[capture_key] = [];","                    }","                    that.responses[capture_key].push(response);","                } else {","                    that.responses[capture_key] = response;","                }","","                if (cb) cb(response);","            });","","        };","","        this.handle = function(message) {","","            that = this;","            this.lastActive = new Date();","            this.transcript.push(message);","            botkit.debug('HANDLING MESSAGE IN CONVO', message);","            // do other stuff like call custom callbacks","            if (this.handler) {","                this.capture(message, function(message) {","                    // if the handler is a normal function, just execute it!","                    // NOTE: anyone who passes in their own handler has to call","                    // convo.next() to continue after completing whatever it is they want to do.","                    if (typeof(that.handler) == 'function') {","                        that.handler(message, that);","                    } else {","                        // handle might be a mapping of keyword to callback.","                        // lets see if the message matches any of the keywords","                        var match, patterns = that.handler;","                        for (var p = 0; p < patterns.length; p++) {","                            if (patterns[p].pattern && botkit.hears_test([patterns[p].pattern], message)) {","                                botkit.middleware.heard.run(that.task.bot, message, function(err, bot, message) {","                                    patterns[p].callback(message, that);","                                });","                                return;","                            }","                        }","","                        // none of the messages matched! What do we do?","                        // if a default exists, fire it!","                        for (var p = 0; p < patterns.length; p++) {","                            if (patterns[p].default) {","                                botkit.middleware.heard.run(that.task.bot, message, function(err, bot, message) {","                                    patterns[p].callback(message, that);","                                });","                                return;","                            }","                        }","","                    }","                });","            } else {","                // do nothing","            }","        };","","        this.setVar = function(field, value) {","            if (!this.vars) {","                this.vars = {};","            }","            this.vars[field] = value;","        };","","        this.activate = function() {","            this.task.trigger('conversationStarted', [this]);","            this.task.botkit.trigger('conversationStarted', [this.task.bot, this]);","            this.status = 'active';","        };","","        /**","         * active includes both ACTIVE and ENDING","         * in order to allow the timeout end scripts to play out","         **/","        this.isActive = function() {","            return (this.status == 'active' || this.status == 'ending');","        };","","        this.deactivate = function() {","            this.status = 'inactive';","        };","","        this.say = function(message) {","            this.addMessage(message);","        };","","        this.sayFirst = function(message) {","            if (typeof(message) == 'string') {","                message = {","                    text: message,","                    channel: this.source_message.channel,","                };","            } else {","                message.channel = this.source_message.channel;","            }","            this.messages.unshift(message);","        };","","","        this.on = function(event, cb) {","            botkit.debug('Setting up a handler for', event);","            var events = event.split(/\\,/g);","            for (var e in events) {","                if (!this.events[events[e]]) {","                    this.events[events[e]] = [];","                }","                this.events[events[e]].push(cb);","            }","            return this;","        };","","        this.trigger = function(event, data) {","            if (this.events[event]) {","                for (var e = 0; e < this.events[event].length; e++) {","                    var res = this.events[event][e].apply(this, data);","                    if (res === false) {","                        return;","                    }","                }","            } else {","            }","        };","","        // proceed to the next message after waiting for an answer","        this.next = function() {","            this.handler = null;","        };","","        this.repeat = function() {","            if (this.sent.length) {","                this.messages.push(this.sent[this.sent.length - 1]);","            } else {","                // console.log('TRIED TO REPEAT, NOTHING TO SAY');","            }","        };","","        this.silentRepeat = function() {","            return;","        };","","        this.addQuestion = function(message, cb, capture_options, thread) {","            if (typeof(message) == 'string') {","                message = {","                    text: message,","                    channel: this.source_message.channel","                };","            } else {","                message.channel = this.source_message.channel;","            }","","            if (capture_options) {","                message.capture_options = capture_options;","            }","","            message.handler = cb;","            this.addMessage(message, thread);","        };","","","        this.ask = function(message, cb, capture_options) {","            this.addQuestion(message, cb, capture_options, this.thread || 'default');","        };","","        this.addMessage = function(message, thread) {","            if (!thread) {","                thread = this.thread;","            }","            if (typeof(message) == 'string') {","                message = {","                    text: message,","                    channel: this.source_message.channel,","                };","            } else {","                message.channel = this.source_message.channel;","            }","","            if (!this.threads[thread]) {","                this.threads[thread] = [];","            }","            this.threads[thread].push(message);","","            // this is the current topic, so add it here as well","            if (this.thread == thread) {","                this.messages.push(message);","            }","        };","","        // how long should the bot wait while a user answers?","        this.setTimeout = function(timeout) {","            this.task.timeLimit = timeout;","        };","","        // For backwards compatibility, wrap gotoThread in its previous name","        this.changeTopic = function(topic) {","            this.gotoThread(topic);","        };","","        this.hasThread = function(thread) {","            return (this.threads[thread] != undefined);","        };","","","        this.transitionTo = function(thread, message) {","","            // add a new transition thread","            // add this new message to it","            // set that message action to execute the actual transition","            // then change threads to transition thread","","            var num = 1;","            while (this.hasThread('transition_' + num)) {","                num++;","            }","","            var threadname = 'transition_' + num;","","            if (typeof(message) == 'string') {","                message = {","                    text: message,","                    action: thread","                };","            } else {","                message.action = thread;","            }","","            this.addMessage(message, threadname);","","            this.gotoThread(threadname);","","        };","","        this.gotoThread = function(thread) {","            this.thread = thread;","","            if (!this.hasThread(thread)) {","                if (thread == 'default') {","                    this.threads[thread] = [];","                } else {","                    botkit.debug('WARN: gotoThread() to an invalid thread!', thread);","                    this.stop('unknown_thread');","                    return;","                }","            }","","            this.messages = this.threads[thread].slice();","","            this.handler = null;","        };","","        this.combineMessages = function(messages) {","            if (!messages) {","                return '';","            }","","            if (Array.isArray(messages) && !messages.length) {","                return '';","            }","","            if (messages.length > 1) {","                var txt = [];","                var last_user = null;","                var multi_users = false;","                last_user = messages[0].user;","                for (var x = 0; x < messages.length; x++) {","                    if (messages[x].user != last_user) {","                        multi_users = true;","                    }","                }","                last_user = '';","                for (var x = 0; x < messages.length; x++) {","                    if (multi_users && messages[x].user != last_user) {","                        last_user = messages[x].user;","                        if (txt.length) {","                            txt.push('');","                        }","                        txt.push('<@' + messages[x].user + '>:');","                    }","                    txt.push(messages[x].text);","                }","                return txt.join('\\n');","            } else {","                if (messages.length) {","                    return messages[0].text;","                } else {","                    return messages.text;","                }","            }","        };","","        this.getResponses = function() {","","            var res = {};","            for (var key in this.responses) {","","                res[key] = {","                    question: this.responses[key].length ?","                     this.responses[key][0].question : this.responses[key].question,","                    key: key,","                    answer: this.extractResponse(key),","                };","            }","            return res;","        };","","        this.getResponsesAsArray = function() {","","            var res = [];","            for (var key in this.responses) {","","                res.push({","                    question: this.responses[key].length ?","                     this.responses[key][0].question : this.responses[key].question,","                    key: key,","                    answer: this.extractResponse(key),","                });","            }","            return res;","        };","","","        this.extractResponses = function() {","","            var res = {};","            for (var key in this.responses) {","                res[key] = this.extractResponse(key);","            }","            return res;","        };","","        this.extractResponse = function(key) {","            return this.combineMessages(this.responses[key]);","        };","","        this.replaceAttachmentTokens = function(attachments) {","","            if (attachments && attachments.length) {","                for (var a = 0; a < attachments.length; a++) {","                    for (var key in attachments[a]) {","                        if (typeof(attachments[a][key]) == 'string') {","                            attachments[a][key] = this.replaceTokens(attachments[a][key]);","                        } else {","                            attachments[a][key] = this.replaceAttachmentTokens(attachments[a][key]);","                        }","                    }","                }","            } else {","                for (var a in attachments) {","                    if (typeof(attachments[a]) == 'string') {","                        attachments[a] = this.replaceTokens(attachments[a]);","                    } else {","                        attachments[a] = this.replaceAttachmentTokens(attachments[a]);","                    }","                }","            }","","            return attachments;","        };","","","        this.replaceTokens = function(text) {","","            var vars = {","                identity: this.task.bot.identity,","                responses: this.extractResponses(),","                origin: this.task.source_message,","                vars: this.vars,","            };","","            var rendered = '';","","            try {","                rendered = mustache.render(text, vars);","            } catch (err) {","                botkit.log('Error in message template. Mustache failed with error: ', err);","                rendered = text;","            };","","            return rendered;","        };","","        this.stop = function(status) {","            this.handler = null;","            this.messages = [];","            this.status = status || 'stopped';","            botkit.debug('Conversation is over with status ' + this.status);","            this.task.conversationEnded(this);","        };","","        // was this conversation successful?","        // return true if it was completed","        // otherwise, return false","        // false could indicate a variety of failed states:","        // manually stopped, timed out, etc","        this.successful = function() {","","            // if the conversation is still going, it can't be successful yet","            if (this.isActive()) {","                return false;","            }","","            if (this.status == 'completed') {","                return true;","            } else {","                return false;","            }","","        };","","        this.cloneMessage = function(message) {","            // clone this object so as not to modify source","            var outbound = clone(message);","","            if (typeof(message.text) == 'string') {","                outbound.text = this.replaceTokens(message.text);","            } else if (message.text) {","                outbound.text = this.replaceTokens(","                    message.text[Math.floor(Math.random() * message.text.length)]","                );","            }","","            if (outbound.attachments) {","                outbound.attachments = this.replaceAttachmentTokens(outbound.attachments);","            }","","            if (outbound.attachment) {","","                // pick one variation of the message text at random","                if (outbound.attachment.payload.text && typeof(outbound.attachment.payload.text) != 'string') {","                    outbound.attachment.payload.text = this.replaceTokens(","                        outbound.attachment.payload.text[","                            Math.floor(Math.random() * outbound.attachment.payload.text.length)","                        ]","                    );","                }","                outbound.attachment = this.replaceAttachmentTokens([outbound.attachment])[0];","            }","","            if (this.messages.length && !message.handler) {","                outbound.continue_typing = true;","            }","","            if (typeof(message.attachments) == 'function') {","                outbound.attachments = message.attachments(this);","            }","","            return outbound;","        };","","        this.tick = function() {","            var now = new Date();","","            if (this.isActive()) {","                if (this.handler) {","                    // check timeout!","                    // how long since task started?","                    var duration = (now.getTime() - this.task.startTime.getTime());","                    // how long since last active?","                    var lastActive = (now.getTime() - this.lastActive.getTime());","","                    if (this.task.timeLimit && // has a timelimit","                        (duration > this.task.timeLimit) && // timelimit is up","                        (lastActive > this.task.timeLimit) // nobody has typed for 60 seconds at least","                    ) {","","                        if (this.threads.timeout) {","                            this.status = 'ending';","                            this.gotoThread('timeout');","                        } else {","                            this.stop('timeout');","                        }","                    }","                    // otherwise do nothing","                } else {","                    if (this.messages.length) {","","                        if (this.sent.length &&","                            !this.sent[this.sent.length - 1].sent","                        ) {","                            return;","                        }","","                        if (this.task.bot.botkit.config.require_delivery &&","                            this.sent.length &&","                            !this.sent[this.sent.length - 1].delivered","                        ) {","                            return;","                        }","","                        if (typeof(this.messages[0].timestamp) == 'undefined' ||","                            this.messages[0].timestamp <= now.getTime()) {","                            var message = this.messages.shift();","                            //console.log('HANDLING NEW MESSAGE',message);","                            // make sure next message is delayed appropriately","                            if (this.messages.length && this.messages[0].delay) {","                                this.messages[0].timestamp = now.getTime() + this.messages[0].delay;","                            }","                            if (message.handler) {","                                //console.log(\">>>>>> SET HANDLER IN TICK\");","                                this.handler = message.handler;","                            } else {","                                this.handler = null;","                                //console.log(\">>>>>>> CLEARING HANDLER BECAUSE NO HANDLER NEEDED\");","                            }","                            if (message.capture_options) {","                                this.capture_options = message.capture_options;","                            } else {","                                this.capture_options = {};","                            }","","                            this.lastActive = new Date();","","                            // is there any text?","                            // or an attachment? (facebook)","                            // or multiple attachments (slack)","                            if (message.text || message.attachments || message.attachment) {","","                                var outbound = this.cloneMessage(message);","                                var that = this;","","                                outbound.sent_timestamp = new Date().getTime();","","                                that.sent.push(outbound);","                                that.transcript.push(outbound);","","                                this.task.bot.reply(this.source_message, outbound, function(err, sent_message) {","                                    if (err) {","                                        botkit.log('An error occurred while sending a message: ', err);","","                                        // even though an error occured, set sent to true","                                        // this will allow the conversation to keep going even if one message fails","                                        // TODO: make a message that fails to send _resend_ at least once","                                        that.sent[that.sent.length - 1].sent = true;","                                        that.sent[that.sent.length - 1].api_response = err;","","                                    } else {","","                                        that.sent[that.sent.length - 1].sent = true;","                                        that.sent[that.sent.length - 1].api_response = sent_message;","","                                        // if sending via slack's web api, there is no further confirmation","                                        // so we can mark the message delivered","                                        if (that.task.bot.type == 'slack' && sent_message && sent_message.ts) {","                                            that.sent[that.sent.length - 1].delivered = true;","                                        }","","                                        that.trigger('sent', [sent_message]);","","                                    }","                                });","                            }","                            if (message.action) {","                                if (typeof(message.action) == 'function') {","                                    message.action(this);","                                } else if (message.action == 'repeat') {","                                    this.repeat();","                                } else if (message.action == 'wait') {","                                    this.silentRepeat();","                                } else if (message.action == 'stop') {","                                    this.stop();","                                } else if (message.action == 'timeout') {","                                    this.stop('timeout');","                                } else if (this.threads[message.action]) {","                                    this.gotoThread(message.action);","                                }","                            }","                        } else {","                            //console.log('Waiting to send next message...');","                        }","","                        // end immediately instad of waiting til next tick.","                        // if it hasn't already been ended by a message action!","                        if (this.isActive() && !this.messages.length && !this.handler) {","                            this.stop('completed');","                        }","","                    } else if (this.sent.length) { // sent at least 1 message","                        this.stop('completed');","                    }","                }","            }","        };","","        botkit.debug('CREATED A CONVO FOR', this.source_message.user, this.source_message.channel);","        this.gotoThread('default');","    };","","    function Task(bot, message, botkit) {","","        this.convos = [];","        this.botkit = botkit;","        this.bot = bot;","","        this.events = {};","        this.source_message = message;","        this.status = 'active';","        this.startTime = new Date();","","        this.isActive = function() {","            return this.status == 'active';","        };","","        this.createConversation = function(message) {","            var convo = new Conversation(this, message);","            convo.id = botkit.convoCount++;","            this.convos.push(convo);","            return convo;","        };","","        this.startConversation = function(message) {","","            var convo = this.createConversation(message);","            botkit.log('>   [Start] ', convo.id, ' Conversation with ', message.user, 'in', message.channel);","","            convo.activate();","            return convo;","        };","","        this.conversationEnded = function(convo) {","            botkit.log('>   [End] ', convo.id, ' Conversation with ',","                       convo.source_message.user, 'in', convo.source_message.channel);","            this.trigger('conversationEnded', [convo]);","            this.botkit.trigger('conversationEnded', [bot, convo]);","            convo.trigger('end', [convo]);","            var actives = 0;","            for (var c = 0; c < this.convos.length; c++) {","                if (this.convos[c].isActive()) {","                    actives++;","                }","            }","            if (actives == 0) {","                this.taskEnded();","            }","","        };","","        this.endImmediately = function(reason) {","","            for (var c = 0; c < this.convos.length; c++) {","                if (this.convos[c].isActive()) {","                    this.convos[c].stop(reason || 'stopped');","                }","            }","","        };","","        this.taskEnded = function() {","            botkit.log('[End] ', this.id, ' Task for ',","                this.source_message.user, 'in', this.source_message.channel);","","            this.status = 'completed';","            this.trigger('end', [this]);","","        };","","        this.on = function(event, cb) {","            botkit.debug('Setting up a handler for', event);","            var events = event.split(/\\,/g);","            for (var e in events) {","                if (!this.events[events[e]]) {","                    this.events[events[e]] = [];","                }","                this.events[events[e]].push(cb);","            }","            return this;","        };","","        this.trigger = function(event, data) {","            if (this.events[event]) {","                for (var e = 0; e < this.events[event].length; e++) {","                    var res = this.events[event][e].apply(this, data);","                    if (res === false) {","                        return;","                    }","                }","            }","        };","","","        this.getResponsesByUser = function() {","","            var users = {};","","            // go through all conversations","            // extract normalized answers","            for (var c = 0; c < this.convos.length; c++) {","","                var user = this.convos[c].source_message.user;","                users[this.convos[c].source_message.user] = {};","                var convo = this.convos[c];","                users[user] = convo.extractResponses();","            }","","            return users;","","        };","","        this.getResponsesBySubject = function() {","            var answers = {};","","            // go through all conversations","            // extract normalized answers","            for (var c = 0; c < this.convos.length; c++) {","                var convo = this.convos[c];","","                for (var key in convo.responses) {","                    if (!answers[key]) {","                        answers[key] = {};","                    }","                    answers[key][convo.source_message.user] = convo.extractResponse(key);","                }","            }","","            return answers;","        };","","        this.tick = function() {","","            for (var c = 0; c < this.convos.length; c++) {","                if (this.convos[c].isActive()) {","                    this.convos[c].tick();","                }","            }","        };","    };","","    botkit.storage = {","        teams: {","            get: function(team_id, cb) {","                cb(null, botkit.memory_store.teams[team_id]);","            },","            save: function(team, cb) {","                botkit.log('Warning: using temporary storage. Data will be lost when process restarts.');","                if (team.id) {","                    botkit.memory_store.teams[team.id] = team;","                    cb(null, team.id);","                } else {","                    cb('No ID specified');","                }","            },","            all: function(cb) {","                cb(null, botkit.memory_store.teams);","            }","        },","        users: {","            get: function(user_id, cb) {","                cb(null, botkit.memory_store.users[user_id]);","            },","            save: function(user, cb) {","                botkit.log('Warning: using temporary storage. Data will be lost when process restarts.');","                if (user.id) {","                    botkit.memory_store.users[user.id] = user;","                    cb(null, user.id);","                } else {","                    cb('No ID specified');","                }","            },","            all: function(cb) {","                cb(null, botkit.memory_store.users);","            }","        },","        channels: {","            get: function(channel_id, cb) {","                cb(null, botkit.memory_store.channels[channel_id]);","            },","            save: function(channel, cb) {","                botkit.log('Warning: using temporary storage. Data will be lost when process restarts.');","                if (channel.id) {","                    botkit.memory_store.channels[channel.id] = channel;","                    cb(null, channel.id);","                } else {","                    cb('No ID specified');","                }","            },","            all: function(cb) {","                cb(null, botkit.memory_store.channels);","            }","        }","    };","","","    /**","     * hears_regexp - default string matcher uses regular expressions","     *","     * @param  {array}  tests    patterns to match","     * @param  {object} message message object with various fields","     * @return {boolean}        whether or not a pattern was matched","     */","    botkit.hears_regexp = function(tests, message) {","        for (var t = 0; t < tests.length; t++) {","            if (message.text) {","","                // the pattern might be a string to match (including regular expression syntax)","                // or it might be a prebuilt regular expression","                var test = null;","                if (typeof(tests[t]) == 'string') {","                    try {","                        test = new RegExp(tests[t], 'i');","                    } catch (err) {","                        botkit.log('Error in regular expression: ' + tests[t] + ': ' + err);","                        return false;","                    }","                    if (!test) {","                        return false;","                    }","                } else {","                    test = tests[t];","                }","","                if (match = message.text.match(test)) {","                    message.match = match;","                    return true;","                }","            }","        }","        return false;","    };","","","    /**","     * changeEars - change the default matching function","     *","     * @param  {function} new_test a function that accepts (tests, message) and returns a boolean","     */","    botkit.changeEars = function(new_test) {","        botkit.hears_test = new_test;","    };","","","    botkit.hears = function(keywords, events, middleware_or_cb, cb) {","","        // the third parameter is EITHER a callback handler","        // or a middleware function that redefines how the hear works","        var test_function = botkit.hears_test;","        if (cb) {","            test_function = middleware_or_cb;","        } else {","            cb = middleware_or_cb;","        }","","        if (typeof(keywords) == 'string') {","            keywords = [keywords];","        }","        if (typeof(events) == 'string') {","            events = events.split(/\\,/g);","        }","","        for (var e = 0; e < events.length; e++) {","            (function(keywords, test_function) {","                botkit.on(events[e], function(bot, message) {","                    if (test_function && test_function(keywords, message)) {","                        botkit.debug('I HEARD', keywords);","                        botkit.middleware.heard.run(bot, message, function(err, bot, message) {","                            cb.apply(this, [bot, message]);","                            botkit.trigger('heard_trigger', [bot, keywords, message]);","                        });","                        return false;","                    }","                });","            })(keywords, test_function);","        }","","        return this;","    };","","    botkit.on = function(event, cb) {","        botkit.debug('Setting up a handler for', event);","        var events = (typeof(event) == 'string') ? event.split(/\\,/g) : event;","","        for (var e in events) {","            if (!this.events[events[e]]) {","                this.events[events[e]] = [];","            }","            this.events[events[e]].push(cb);","        }","        return this;","    };","","    botkit.trigger = function(event, data) {","        if (this.events[event]) {","            for (var e = 0; e < this.events[event].length; e++) {","                var res = this.events[event][e].apply(this, data);","                if (res === false) {","                    return;","                }","            }","        }","    };","","    botkit.startConversation = function(bot, message, cb) {","        botkit.startTask(bot, message, function(task, convo) {","            cb(null, convo);","        });","    };","","    botkit.createConversation = function(bot, message, cb) {","","        var task = new Task(bot, message, this);","","        task.id = botkit.taskCount++;","","        var convo = task.createConversation(message);","","        this.tasks.push(task);","","        cb(null, convo);","","    };","","","    botkit.defineBot = function(unit) {","        if (typeof(unit) != 'function') {","            throw new Error('Bot definition must be a constructor function');","        }","        this.worker = unit;","    };","","    botkit.spawn = function(config, cb) {","","","        var worker = new this.worker(this, config);","        // mutate the worker so that we can call middleware","        worker.say = function(message, cb) {","            botkit.middleware.send.run(worker, message, function(err, worker, message) {","                if (err) {","                    botkit.log('Error in worker.say: ' + err);","                } else {","                    worker.send(message, cb);","                }","            });","        };","        botkit.middleware.spawn.run(worker, function(err, worker) {","            if (err) {","                botkit.log('Error in middlware.spawn.run: ' + err);","            } else {","                botkit.trigger('spawned', [worker]);","","                if (cb) { cb(worker); }","            }","        });","","        return worker;","    };","","    botkit.startTicking = function() {","        if (!botkit.tickInterval) {","            // set up a once a second tick to process messages","            botkit.tickInterval = setInterval(function() {","                botkit.tick();","            }, 1500);","        }","    };","","    botkit.shutdown = function() {","        if (botkit.tickInterval) {","            clearInterval(botkit.tickInterval);","        }","    };","","    botkit.startTask = function(bot, message, cb) {","","","        var task = new Task(bot, message, this);","","        task.id = botkit.taskCount++;","        botkit.log('[Start] ', task.id, ' Task for ', message.user, 'in', message.channel);","","        var convo = task.startConversation(message);","","        this.tasks.push(task);","","        if (cb) {","            cb(task, convo);","        } else {","            return task;","        }","","    };","","    botkit.receiveMessage = function(bot, message) {","        botkit.middleware.receive.run(bot, message, function(err, bot, message) {","            if (err) {","                botkit.log('ERROR IN RECEIVE MIDDLEWARE: ', err);","            } else {","                botkit.debug('RECEIVED MESSAGE');","                bot.findConversation(message, function(convo) {","                    if (convo) {","                        convo.handle(message);","                    } else {","                        botkit.trigger('message_received', [bot, message]);","                    }","                });","            }","        });","    };","","    botkit.tick = function() {","        for (var t = 0; t < botkit.tasks.length; t++) {","            botkit.tasks[t].tick();","        }","        for (var t = botkit.tasks.length - 1; t >= 0; t--) {","            if (!botkit.tasks[t].isActive()) {","                botkit.tasks.splice(t, 1);","            }","        }","","","        this.trigger('tick', []);","","    };","","","    /**","     * Define a default worker bot. This function should be customized outside","     * of Botkit and passed in as a parameter by the developer","     **/","    botkit.worker = function(botkit, config) {","        this.botkit = botkit;","        this.config = config;","","        this.say = function(message, cb) {","            botkit.debug('SAY:', message);","        };","","        this.replyWithQuestion = function(message, question, cb) {","","            botkit.startConversation(message, function(convo) {","                convo.ask(question, cb);","            });","","        };","","        this.reply = function(src, resp) {","            botkit.debug('REPLY:', resp);","        };","","","        this.findConversation = function(message, cb) {","            botkit.debug('DEFAULT FIND CONVO');","            cb(null);","        };","    };","","    botkit.userAgent = function() {","","        if (!botkit.my_user_agent) {","            // set user agent to Botkit","            var ua = 'Botkit/' + botkit.version();","","            // add OS info","            ua = ua + ' ' + os.platform() + '/' + os.release();","","            // add Node info","            ua = ua + ' ' + 'node/' + process.version.replace('v', '');","","            botkit.my_user_agent = ua;","        }","","        return botkit.my_user_agent;","","    };","","","    botkit.version = function() {","","        if (!botkit.my_version) {","            var pkg = fs.readFileSync(__dirname + '/../package.json');","            try {","                pkg = JSON.parse(pkg);","            } catch (err) {","                throw new Error('Could not determine Botkit version', err);","            }","","            botkit.my_version = pkg.version;","        }","        return botkit.my_version;","","    };","","","    botkit.config = configuration;","","    /** Default the application to listen to the 0.0.0.0, the default","      * for node's http module. Developers can specify a hostname or IP","      * address to override this.","    **/","    if (!botkit.config.hostname) {","        botkit.config.hostname = '0.0.0.0';","    };","","","    if (!configuration.logLevel) {","        if (configuration.debug) {","            configuration.logLevel = 'debug';","        } else if (configuration.log === false) {","            configuration.logLevel = 'error';","        } else {","            configuration.logLevel = 'info';","        }","    }","","    if (configuration.logger) {","        if (typeof configuration.logger.log === 'function') {","            botkit.logger = configuration.logger;","        } else {","            throw new Error('Logger object does not have a `log` method!');","        }","    } else {","        botkit.logger = ConsoleLogger(console, configuration.logLevel);","    }","","    botkit.log = function() {","        botkit.log.info.apply(botkit.log, arguments);","    };","    Object.keys(LogLevels).forEach(function(level) {","        botkit.log[level] = botkit.logger.log.bind(botkit.logger, level);","    });","    botkit.debug = botkit.log.debug;","","    console.log('Initializing Botkit v' + botkit.version());","","    if (configuration.storage) {","        if (","            configuration.storage.teams &&","            configuration.storage.teams.get &&","            configuration.storage.teams.save &&","","            configuration.storage.users &&","            configuration.storage.users.get &&","            configuration.storage.users.save &&","","            configuration.storage.channels &&","            configuration.storage.channels.get &&","            configuration.storage.channels.save","        ) {","            botkit.log('** Using custom storage system.');","            botkit.storage = configuration.storage;","        } else {","            throw new Error('Storage object does not have all required methods!');","        }","    } else if (configuration.json_file_store) {","        botkit.log('** Using simple storage. Saving data to ' + configuration.json_file_store);","        botkit.storage = simple_storage({path: configuration.json_file_store});","    } else {","        botkit.log('** No persistent storage method specified! Data may be lost when process shuts down.');","    }","","    // set the default set of ears to use the regular expression matching","    botkit.changeEars(botkit.hears_regexp);","","    //enable Botkit Studio","    studio(botkit);","","    return botkit;","}","","module.exports = Botkit;",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"16":1,"17":0,"32":0,"40":0,"49":1,"51":0,"52":0,"53":0,"55":0,"61":0,"63":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"78":0,"81":0,"83":0,"84":0,"85":0,"86":0,"87":0,"89":0,"92":0,"93":0,"98":0,"99":0,"100":0,"101":0,"103":0,"106":0,"107":0,"108":0,"110":0,"112":0,"115":0,"120":0,"122":0,"123":0,"124":0,"125":0,"127":0,"128":0,"132":0,"133":0,"137":0,"138":0,"139":0,"140":0,"141":0,"143":0,"149":0,"150":0,"151":0,"152":0,"154":0,"165":0,"166":0,"167":0,"169":0,"172":0,"173":0,"174":0,"175":0,"182":0,"183":0,"186":0,"187":0,"190":0,"191":0,"194":0,"195":0,"196":0,"201":0,"203":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"214":0,"216":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"232":0,"233":0,"236":0,"237":0,"238":0,"244":0,"245":0,"248":0,"249":0,"250":0,"255":0,"258":0,"259":0,"262":0,"263":0,"267":0,"268":0,"271":0,"272":0,"273":0,"275":0,"276":0,"281":0,"284":0,"285":0,"287":0,"290":0,"291":0,"296":0,"297":0,"301":0,"302":0,"305":0,"306":0,"310":0,"317":0,"318":0,"319":0,"322":0,"324":0,"325":0,"330":0,"333":0,"335":0,"339":0,"340":0,"342":0,"343":0,"344":0,"346":0,"347":0,"348":0,"352":0,"354":0,"357":0,"358":0,"359":0,"362":0,"363":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"383":0,"385":0,"387":0,"389":0,"390":0,"392":0,"397":0,"399":0,"400":0,"402":0,"409":0,"412":0,"414":0,"415":0,"417":0,"424":0,"428":0,"430":0,"431":0,"432":0,"434":0,"437":0,"438":0,"441":0,"443":0,"444":0,"445":0,"446":0,"447":0,"449":0,"454":0,"455":0,"456":0,"458":0,"463":0,"467":0,"469":0,"476":0,"478":0,"479":0,"481":0,"482":0,"485":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"501":0,"504":0,"505":0,"508":0,"509":0,"511":0,"516":0,"518":0,"520":0,"521":0,"522":0,"523":0,"528":0,"529":0,"532":0,"535":0,"536":0,"542":0,"545":0,"546":0,"549":0,"550":0,"553":0,"556":0,"557":0,"559":0,"560":0,"563":0,"565":0,"567":0,"572":0,"573":0,"574":0,"576":0,"581":0,"583":0,"586":0,"589":0,"593":0,"596":0,"598":0,"601":0,"602":0,"604":0,"606":0,"608":0,"611":0,"612":0,"614":0,"617":0,"622":0,"624":0,"625":0,"627":0,"629":0,"630":0,"632":0,"633":0,"634":0,"639":0,"640":0,"644":0,"645":0,"649":0,"650":0,"653":0,"658":0,"659":0,"660":0,"661":0,"662":0,"663":0,"664":0,"665":0,"666":0,"667":0,"668":0,"669":0,"670":0,"679":0,"680":0,"683":0,"684":0,"690":0,"691":0,"694":1,"696":0,"697":0,"698":0,"700":0,"701":0,"702":0,"703":0,"705":0,"706":0,"709":0,"710":0,"711":0,"712":0,"713":0,"716":0,"718":0,"719":0,"721":0,"722":0,"725":0,"726":0,"728":0,"729":0,"730":0,"731":0,"732":0,"733":0,"734":0,"737":0,"738":0,"743":0,"745":0,"746":0,"747":0,"753":0,"754":0,"757":0,"758":0,"762":0,"763":0,"764":0,"765":0,"766":0,"767":0,"769":0,"771":0,"774":0,"775":0,"776":0,"777":0,"778":0,"779":0,"786":0,"788":0,"792":0,"794":0,"795":0,"796":0,"797":0,"800":0,"804":0,"805":0,"809":0,"810":0,"812":0,"813":0,"814":0,"816":0,"820":0,"823":0,"825":0,"826":0,"827":0,"833":0,"836":0,"839":0,"840":0,"841":0,"842":0,"844":0,"848":0,"853":0,"856":0,"857":0,"858":0,"859":0,"861":0,"865":0,"870":0,"873":0,"874":0,"875":0,"876":0,"878":0,"882":0,"895":0,"896":0,"897":0,"901":0,"902":0,"903":0,"904":0,"906":0,"907":0,"909":0,"910":0,"913":0,"916":0,"917":0,"918":0,"922":0,"931":0,"932":0,"936":0,"940":0,"941":0,"942":0,"944":0,"947":0,"948":0,"950":0,"951":0,"954":0,"955":0,"956":0,"957":0,"958":0,"959":0,"960":0,"961":0,"963":0,"969":0,"972":0,"973":0,"974":0,"976":0,"977":0,"978":0,"980":0,"982":0,"985":0,"986":0,"987":0,"988":0,"989":0,"990":0,"996":0,"997":0,"998":0,"1002":0,"1004":0,"1006":0,"1008":0,"1010":0,"1012":0,"1017":0,"1018":0,"1019":0,"1021":0,"1024":0,"1027":0,"1029":0,"1030":0,"1031":0,"1032":0,"1034":0,"1038":0,"1039":0,"1040":0,"1042":0,"1044":0,"1048":0,"1051":0,"1052":0,"1054":0,"1055":0,"1060":0,"1061":0,"1062":0,"1066":0,"1069":0,"1071":0,"1072":0,"1074":0,"1076":0,"1078":0,"1079":0,"1081":0,"1086":0,"1087":0,"1088":0,"1089":0,"1091":0,"1092":0,"1093":0,"1094":0,"1096":0,"1103":0,"1104":0,"1105":0,"1107":0,"1108":0,"1109":0,"1114":0,"1123":0,"1124":0,"1125":0,"1127":0,"1128":0,"1131":0,"1133":0,"1134":0,"1139":0,"1140":0,"1144":0,"1145":0,"1146":0,"1150":0,"1152":0,"1154":0,"1157":0,"1160":0,"1162":0,"1165":0,"1170":0,"1172":0,"1173":0,"1174":0,"1175":0,"1177":0,"1180":0,"1182":0,"1187":0,"1193":0,"1194":0,"1198":0,"1199":0,"1200":0,"1201":0,"1202":0,"1204":0,"1208":0,"1209":0,"1210":0,"1212":0,"1215":0,"1218":0,"1219":0,"1221":0,"1222":0,"1224":0,"1226":0,"1228":0,"1229":0,"1242":0,"1243":0,"1245":0,"1247":0,"1248":0,"1249":0,"1251":0,"1255":0,"1258":0,"1260":0,"1263":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/storage/simple_storage.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/storage/simple_storage.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":27,"loc":{"start":{"line":27,"column":17},"end":{"line":27,"column":34}}},"2":{"name":"(anonymous_2)","line":39,"loc":{"start":{"line":39,"column":24},"end":{"line":39,"column":37}}},"3":{"name":"(anonymous_3)","line":40,"loc":{"start":{"line":40,"column":15},"end":{"line":40,"column":35}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":46},"end":{"line":44,"column":60}}},"5":{"name":"(anonymous_5)","line":53,"loc":{"start":{"line":53,"column":17},"end":{"line":53,"column":39}}},"6":{"name":"(anonymous_6)","line":56,"loc":{"start":{"line":56,"column":18},"end":{"line":56,"column":42}}},"7":{"name":"(anonymous_7)","line":59,"loc":{"start":{"line":59,"column":20},"end":{"line":59,"column":42}}},"8":{"name":"(anonymous_8)","line":62,"loc":{"start":{"line":62,"column":17},"end":{"line":62,"column":30}}},"9":{"name":"(anonymous_9)","line":67,"loc":{"start":{"line":67,"column":17},"end":{"line":67,"column":39}}},"10":{"name":"(anonymous_10)","line":70,"loc":{"start":{"line":70,"column":18},"end":{"line":70,"column":37}}},"11":{"name":"(anonymous_11)","line":73,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":42}}},"12":{"name":"(anonymous_12)","line":76,"loc":{"start":{"line":76,"column":17},"end":{"line":76,"column":30}}},"13":{"name":"(anonymous_13)","line":81,"loc":{"start":{"line":81,"column":17},"end":{"line":81,"column":42}}},"14":{"name":"(anonymous_14)","line":84,"loc":{"start":{"line":84,"column":18},"end":{"line":84,"column":40}}},"15":{"name":"(anonymous_15)","line":87,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":45}}},"16":{"name":"(anonymous_16)","line":90,"loc":{"start":{"line":90,"column":17},"end":{"line":90,"column":30}}}},"statementMap":{"1":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}},"2":{"start":{"line":27,"column":0},"end":{"line":97,"column":2}},"3":{"start":{"line":29,"column":4},"end":{"line":33,"column":5}},"4":{"start":{"line":30,"column":8},"end":{"line":32,"column":10}},"5":{"start":{"line":35,"column":4},"end":{"line":35,"column":69}},"6":{"start":{"line":36,"column":4},"end":{"line":36,"column":69}},"7":{"start":{"line":37,"column":4},"end":{"line":37,"column":75}},"8":{"start":{"line":39,"column":4},"end":{"line":49,"column":6}},"9":{"start":{"line":40,"column":8},"end":{"line":48,"column":10}},"10":{"start":{"line":41,"column":12},"end":{"line":47,"column":13}},"11":{"start":{"line":42,"column":16},"end":{"line":42,"column":30}},"12":{"start":{"line":44,"column":16},"end":{"line":46,"column":20}},"13":{"start":{"line":45,"column":20},"end":{"line":45,"column":37}},"14":{"start":{"line":51,"column":4},"end":{"line":94,"column":6}},"15":{"start":{"line":54,"column":16},"end":{"line":54,"column":42}},"16":{"start":{"line":57,"column":16},"end":{"line":57,"column":59}},"17":{"start":{"line":60,"column":16},"end":{"line":60,"column":48}},"18":{"start":{"line":63,"column":16},"end":{"line":63,"column":48}},"19":{"start":{"line":68,"column":16},"end":{"line":68,"column":42}},"20":{"start":{"line":71,"column":16},"end":{"line":71,"column":49}},"21":{"start":{"line":74,"column":16},"end":{"line":74,"column":48}},"22":{"start":{"line":77,"column":16},"end":{"line":77,"column":48}},"23":{"start":{"line":82,"column":16},"end":{"line":82,"column":48}},"24":{"start":{"line":85,"column":16},"end":{"line":85,"column":58}},"25":{"start":{"line":88,"column":16},"end":{"line":88,"column":54}},"26":{"start":{"line":91,"column":16},"end":{"line":91,"column":51}},"27":{"start":{"line":96,"column":4},"end":{"line":96,"column":19}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":41,"column":12}},{"start":{"line":41,"column":12},"end":{"line":41,"column":12}}]}},"code":["/*","Storage module for bots.","","Supports storage of data on a team-by-team, user-by-user, and chnnel-by-channel basis.","","save can be used to store arbitrary object.","These objects must include an id by which they can be looked up.","It is recommended to use the team/user/channel id for this purpose.","Example usage of save:","controller.storage.teams.save({id: message.team, foo:\"bar\"}, function(err){","  if (err)","    console.log(err)","});","","get looks up an object by id.","Example usage of get:","controller.storage.teams.get(message.team, function(err, team_data){","  if (err)","    console.log(err)","  else","    console.log(team_data)","});","*/","","var Store = require('jfs');","","module.exports = function(config) {","","    if (!config) {","        config = {","            path: './',","        };","    }","","    var teams_db = new Store(config.path + '/teams', {saveId: 'id'});","    var users_db = new Store(config.path + '/users', {saveId: 'id'});","    var channels_db = new Store(config.path + '/channels', {saveId: 'id'});","","    var objectsToList = function(cb) {","        return function(err, data) {","            if (err) {","                cb(err, data);","            } else {","                cb(err, Object.keys(data).map(function(key) {","                    return data[key];","                }));","            }","        };","    };","","    var storage = {","        teams: {","            get: function(team_id, cb) {","                teams_db.get(team_id, cb);","            },","            save: function(team_data, cb) {","                teams_db.save(team_data.id, team_data, cb);","            },","            delete: function(team_id, cb) {","                teams_db.delete(team_id.id, cb);","            },","            all: function(cb) {","                teams_db.all(objectsToList(cb));","            }","        },","        users: {","            get: function(user_id, cb) {","                users_db.get(user_id, cb);","            },","            save: function(user, cb) {","                users_db.save(user.id, user, cb);","            },","            delete: function(user_id, cb) {","                users_db.delete(user_id.id, cb);","            },","            all: function(cb) {","                users_db.all(objectsToList(cb));","            }","        },","        channels: {","            get: function(channel_id, cb) {","                channels_db.get(channel_id, cb);","            },","            save: function(channel, cb) {","                channels_db.save(channel.id, channel, cb);","            },","            delete: function(channel_id, cb) {","                channels_db.delete(channel_id.id, cb);","            },","            all: function(cb) {","                channels_db.all(objectsToList(cb));","            }","        }","    };","","    return storage;","};",""],"l":{"25":1,"27":1,"29":0,"30":0,"35":0,"36":0,"37":0,"39":0,"40":0,"41":0,"42":0,"44":0,"45":0,"51":0,"54":0,"57":0,"60":0,"63":0,"68":0,"71":0,"74":0,"77":0,"82":0,"85":0,"88":0,"91":0,"96":0}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/console_logger.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/console_logger.js","s":{"1":1,"2":1,"3":1,"4":8,"5":8,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":8,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":16,"loc":{"start":{"line":16,"column":33},"end":{"line":16,"column":60}}},"2":{"name":"normalizeLogLevel","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}}},"3":{"name":"ConsoleLogger","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":31,"column":57}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":13},"end":{"line":36,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":6,"column":0},"end":{"line":15,"column":2}},"3":{"start":{"line":16,"column":0},"end":{"line":19,"column":7}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":22}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":15}},"6":{"start":{"line":21,"column":0},"end":{"line":29,"column":1}},"7":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"8":{"start":{"line":23,"column":8},"end":{"line":23,"column":36}},"9":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":21}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":17}},"12":{"start":{"line":31,"column":0},"end":{"line":51,"column":1}},"13":{"start":{"line":32,"column":4},"end":{"line":32,"column":35}},"14":{"start":{"line":33,"column":4},"end":{"line":33,"column":48}},"15":{"start":{"line":34,"column":4},"end":{"line":34,"column":56}},"16":{"start":{"line":35,"column":4},"end":{"line":50,"column":6}},"17":{"start":{"line":37,"column":12},"end":{"line":37,"column":59}},"18":{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},"19":{"start":{"line":39,"column":16},"end":{"line":39,"column":32}},"20":{"start":{"line":40,"column":16},"end":{"line":40,"column":47}},"21":{"start":{"line":42,"column":12},"end":{"line":42,"column":52}},"22":{"start":{"line":43,"column":12},"end":{"line":48,"column":13}},"23":{"start":{"line":44,"column":16},"end":{"line":47,"column":18}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":39}},"25":{"start":{"line":55,"column":0},"end":{"line":55,"column":31}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"3":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":33}},{"start":{"line":25,"column":37},"end":{"line":25,"column":47}},{"start":{"line":25,"column":51},"end":{"line":25,"column":72}}]},"4":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":15},"end":{"line":32,"column":23}},{"start":{"line":32,"column":27},"end":{"line":32,"column":34}}]},"5":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":15},"end":{"line":33,"column":42}},{"start":{"line":33,"column":46},"end":{"line":33,"column":47}}]},"6":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":19},"end":{"line":34,"column":50}},{"start":{"line":34,"column":54},"end":{"line":34,"column":55}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":38,"column":12}},{"start":{"line":38,"column":12},"end":{"line":38,"column":12}}]},"8":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":12}},{"start":{"line":43,"column":12},"end":{"line":43,"column":12}}]}},"code":["var slice = Array.prototype.slice;","/**"," * RFC 5424 syslog severity levels, see"," * https://tools.ietf.org/html/rfc5424#section-6.2.1"," */","var levels = [","    'emergency',","    'alert',","    'critical',","    'error',","    'warning',","    'notice',","    'info',","    'debug'","];","var levelsByName = levels.reduce(function(out, name, index) {","    out[name] = index;","    return out;","}, {});","","function normalizeLogLevel(level) {","    if (typeof level === 'string') {","        level = levelsByName[level];","    }","    if (typeof level === 'number' && level >= 0 && level < levels.length) {","        return level;","    }","    return false;","}","","function ConsoleLogger(_console, maxLevel, defaultLevel) {","    _console = _console || console;","    maxLevel = normalizeLogLevel(maxLevel) || 6;","    defaultLevel = normalizeLogLevel(defaultLevel) || 6;","    return {","        log: function(level, message) {","            var normalizedLevel = normalizeLogLevel(level);","            if (!normalizedLevel) {","                message = level;","                normalizedLevel = defaultLevel;","            }","            var levelName = levels[normalizedLevel];","            if (normalizedLevel <= maxLevel) {","                _console.log.apply(","                    _console,","                    [levelName + ': ' + message].concat(slice.call(arguments, 2))","                );","            }","        }","    };","}","","ConsoleLogger.LogLevels = levelsByName;","","module.exports = ConsoleLogger;",""],"l":{"1":1,"6":1,"16":1,"17":8,"18":8,"21":1,"22":0,"23":0,"25":0,"26":0,"28":0,"31":1,"32":0,"33":0,"34":0,"35":0,"37":0,"38":0,"39":0,"40":0,"42":0,"43":0,"44":0,"53":1,"55":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Studio.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Studio.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":1,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0],"30":[0,0],"31":[0,0],"32":[0,0,0,0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0,0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0,0,0,0],"74":[0,0],"75":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":38}}},"2":{"name":"genConfig","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":28}}},"3":{"name":"(anonymous_3)","line":43,"loc":{"start":{"line":43,"column":40},"end":{"line":43,"column":66}}},"4":{"name":"(anonymous_4)","line":55,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":60}}},"5":{"name":"(anonymous_5)","line":64,"loc":{"start":{"line":64,"column":33},"end":{"line":64,"column":67}}},"6":{"name":"(anonymous_6)","line":78,"loc":{"start":{"line":78,"column":31},"end":{"line":78,"column":60}}},"7":{"name":"(anonymous_7)","line":89,"loc":{"start":{"line":89,"column":30},"end":{"line":89,"column":59}}},"8":{"name":"runHooks","line":101,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":40}}},"9":{"name":"(anonymous_9)","line":109,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":31}}},"10":{"name":"(anonymous_10)","line":121,"loc":{"start":{"line":121,"column":28},"end":{"line":121,"column":69}}},"11":{"name":"(anonymous_11)","line":123,"loc":{"start":{"line":123,"column":27},"end":{"line":123,"column":53}}},"12":{"name":"(anonymous_12)","line":125,"loc":{"start":{"line":125,"column":71},"end":{"line":125,"column":87}}},"13":{"name":"(anonymous_13)","line":128,"loc":{"start":{"line":128,"column":21},"end":{"line":128,"column":35}}},"14":{"name":"(anonymous_14)","line":138,"loc":{"start":{"line":138,"column":28},"end":{"line":138,"column":69}}},"15":{"name":"(anonymous_15)","line":144,"loc":{"start":{"line":144,"column":27},"end":{"line":144,"column":53}}},"16":{"name":"(anonymous_16)","line":145,"loc":{"start":{"line":145,"column":68},"end":{"line":145,"column":86}}},"17":{"name":"(anonymous_17)","line":153,"loc":{"start":{"line":153,"column":23},"end":{"line":153,"column":39}}},"18":{"name":"(anonymous_18)","line":154,"loc":{"start":{"line":154,"column":36},"end":{"line":154,"column":52}}},"19":{"name":"(anonymous_19)","line":158,"loc":{"start":{"line":158,"column":28},"end":{"line":158,"column":44}}},"20":{"name":"(anonymous_20)","line":166,"loc":{"start":{"line":166,"column":24},"end":{"line":166,"column":40}}},"21":{"name":"(anonymous_21)","line":170,"loc":{"start":{"line":170,"column":25},"end":{"line":170,"column":39}}},"22":{"name":"(anonymous_22)","line":178,"loc":{"start":{"line":178,"column":35},"end":{"line":178,"column":76}}},"23":{"name":"(anonymous_23)","line":184,"loc":{"start":{"line":184,"column":27},"end":{"line":184,"column":53}}},"24":{"name":"(anonymous_24)","line":185,"loc":{"start":{"line":185,"column":74},"end":{"line":185,"column":92}}},"25":{"name":"(anonymous_25)","line":194,"loc":{"start":{"line":194,"column":27},"end":{"line":194,"column":43}}},"26":{"name":"(anonymous_26)","line":196,"loc":{"start":{"line":196,"column":40},"end":{"line":196,"column":56}}},"27":{"name":"(anonymous_27)","line":200,"loc":{"start":{"line":200,"column":32},"end":{"line":200,"column":48}}},"28":{"name":"(anonymous_28)","line":209,"loc":{"start":{"line":209,"column":28},"end":{"line":209,"column":44}}},"29":{"name":"(anonymous_29)","line":214,"loc":{"start":{"line":214,"column":29},"end":{"line":214,"column":43}}},"30":{"name":"(anonymous_30)","line":222,"loc":{"start":{"line":222,"column":21},"end":{"line":222,"column":35}}},"31":{"name":"(anonymous_31)","line":230,"loc":{"start":{"line":230,"column":36},"end":{"line":230,"column":77}}},"32":{"name":"(anonymous_32)","line":236,"loc":{"start":{"line":236,"column":27},"end":{"line":236,"column":53}}},"33":{"name":"(anonymous_33)","line":237,"loc":{"start":{"line":237,"column":74},"end":{"line":237,"column":92}}},"34":{"name":"(anonymous_34)","line":243,"loc":{"start":{"line":243,"column":21},"end":{"line":243,"column":35}}},"35":{"name":"(anonymous_35)","line":250,"loc":{"start":{"line":250,"column":38},"end":{"line":250,"column":89}}},"36":{"name":"makeHandler","line":251,"loc":{"start":{"line":251,"column":8},"end":{"line":251,"column":45}}},"37":{"name":"(anonymous_37)","line":265,"loc":{"start":{"line":265,"column":26},"end":{"line":265,"column":52}}},"38":{"name":"(anonymous_38)","line":274,"loc":{"start":{"line":274,"column":43},"end":{"line":274,"column":59}}},"39":{"name":"(anonymous_39)","line":301,"loc":{"start":{"line":301,"column":27},"end":{"line":301,"column":53}}},"40":{"name":"(anonymous_40)","line":302,"loc":{"start":{"line":302,"column":44},"end":{"line":302,"column":65}}},"41":{"name":"(anonymous_41)","line":412,"loc":{"start":{"line":412,"column":46},"end":{"line":412,"column":61}}},"42":{"name":"(anonymous_42)","line":417,"loc":{"start":{"line":417,"column":44},"end":{"line":417,"column":60}}},"43":{"name":"statsAPI","line":447,"loc":{"start":{"line":447,"column":4},"end":{"line":447,"column":45}}},"44":{"name":"(anonymous_44)","line":451,"loc":{"start":{"line":451,"column":27},"end":{"line":451,"column":53}}},"45":{"name":"(anonymous_45)","line":504,"loc":{"start":{"line":504,"column":29},"end":{"line":504,"column":54}}},"46":{"name":"botHash","line":533,"loc":{"start":{"line":533,"column":4},"end":{"line":533,"column":26}}},"47":{"name":"(anonymous_47)","line":569,"loc":{"start":{"line":569,"column":33},"end":{"line":569,"column":47}}},"48":{"name":"(anonymous_48)","line":583,"loc":{"start":{"line":583,"column":39},"end":{"line":583,"column":72}}},"49":{"name":"(anonymous_49)","line":597,"loc":{"start":{"line":597,"column":43},"end":{"line":597,"column":75}}},"50":{"name":"(anonymous_50)","line":614,"loc":{"start":{"line":614,"column":44},"end":{"line":614,"column":83}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"5":{"start":{"line":6,"column":0},"end":{"line":637,"column":2}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":26}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":25}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":26}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":27}},"10":{"start":{"line":21,"column":4},"end":{"line":41,"column":6}},"11":{"start":{"line":22,"column":9},"end":{"line":22,"column":25}},"12":{"start":{"line":24,"column":9},"end":{"line":26,"column":10}},"13":{"start":{"line":25,"column":13},"end":{"line":25,"column":59}},"14":{"start":{"line":28,"column":9},"end":{"line":30,"column":10}},"15":{"start":{"line":29,"column":13},"end":{"line":29,"column":71}},"16":{"start":{"line":32,"column":9},"end":{"line":34,"column":10}},"17":{"start":{"line":33,"column":13},"end":{"line":33,"column":66}},"18":{"start":{"line":36,"column":9},"end":{"line":38,"column":10}},"19":{"start":{"line":37,"column":13},"end":{"line":37,"column":78}},"20":{"start":{"line":40,"column":9},"end":{"line":40,"column":23}},"21":{"start":{"line":43,"column":4},"end":{"line":49,"column":6}},"22":{"start":{"line":45,"column":8},"end":{"line":45,"column":33}},"23":{"start":{"line":46,"column":8},"end":{"line":46,"column":42}},"24":{"start":{"line":47,"column":8},"end":{"line":47,"column":51}},"25":{"start":{"line":55,"column":4},"end":{"line":60,"column":6}},"26":{"start":{"line":57,"column":8},"end":{"line":57,"column":33}},"27":{"start":{"line":58,"column":8},"end":{"line":58,"column":42}},"28":{"start":{"line":59,"column":8},"end":{"line":59,"column":41}},"29":{"start":{"line":64,"column":4},"end":{"line":76,"column":6}},"30":{"start":{"line":66,"column":8},"end":{"line":69,"column":9}},"31":{"start":{"line":67,"column":12},"end":{"line":67,"column":44}},"32":{"start":{"line":70,"column":8},"end":{"line":73,"column":9}},"33":{"start":{"line":71,"column":12},"end":{"line":71,"column":49}},"34":{"start":{"line":72,"column":12},"end":{"line":72,"column":55}},"35":{"start":{"line":75,"column":8},"end":{"line":75,"column":33}},"36":{"start":{"line":78,"column":4},"end":{"line":87,"column":6}},"37":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"38":{"start":{"line":81,"column":12},"end":{"line":81,"column":44}},"39":{"start":{"line":84,"column":8},"end":{"line":84,"column":46}},"40":{"start":{"line":86,"column":8},"end":{"line":86,"column":33}},"41":{"start":{"line":89,"column":4},"end":{"line":99,"column":6}},"42":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"43":{"start":{"line":92,"column":12},"end":{"line":92,"column":43}},"44":{"start":{"line":95,"column":8},"end":{"line":95,"column":45}},"45":{"start":{"line":97,"column":8},"end":{"line":97,"column":33}},"46":{"start":{"line":101,"column":4},"end":{"line":116,"column":5}},"47":{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},"48":{"start":{"line":104,"column":12},"end":{"line":104,"column":29}},"49":{"start":{"line":107,"column":8},"end":{"line":107,"column":33}},"50":{"start":{"line":109,"column":8},"end":{"line":115,"column":11}},"51":{"start":{"line":110,"column":12},"end":{"line":114,"column":13}},"52":{"start":{"line":111,"column":16},"end":{"line":111,"column":43}},"53":{"start":{"line":113,"column":16},"end":{"line":113,"column":33}},"54":{"start":{"line":121,"column":4},"end":{"line":133,"column":6}},"55":{"start":{"line":123,"column":8},"end":{"line":131,"column":11}},"56":{"start":{"line":125,"column":12},"end":{"line":130,"column":15}},"57":{"start":{"line":126,"column":16},"end":{"line":126,"column":33}},"58":{"start":{"line":127,"column":16},"end":{"line":127,"column":31}},"59":{"start":{"line":129,"column":16},"end":{"line":129,"column":28}},"60":{"start":{"line":138,"column":4},"end":{"line":175,"column":6}},"61":{"start":{"line":139,"column":8},"end":{"line":143,"column":10}},"62":{"start":{"line":144,"column":8},"end":{"line":174,"column":11}},"63":{"start":{"line":145,"column":12},"end":{"line":173,"column":15}},"64":{"start":{"line":146,"column":16},"end":{"line":146,"column":81}},"65":{"start":{"line":147,"column":16},"end":{"line":172,"column":19}},"66":{"start":{"line":154,"column":20},"end":{"line":162,"column":23}},"67":{"start":{"line":155,"column":24},"end":{"line":161,"column":26}},"68":{"start":{"line":159,"column":32},"end":{"line":159,"column":105}},"69":{"start":{"line":163,"column":20},"end":{"line":169,"column":22}},"70":{"start":{"line":167,"column":28},"end":{"line":167,"column":43}},"71":{"start":{"line":171,"column":20},"end":{"line":171,"column":32}},"72":{"start":{"line":178,"column":4},"end":{"line":227,"column":6}},"73":{"start":{"line":179,"column":8},"end":{"line":183,"column":10}},"74":{"start":{"line":184,"column":8},"end":{"line":225,"column":11}},"75":{"start":{"line":185,"column":12},"end":{"line":224,"column":15}},"76":{"start":{"line":186,"column":16},"end":{"line":221,"column":17}},"77":{"start":{"line":187,"column":20},"end":{"line":187,"column":85}},"78":{"start":{"line":188,"column":20},"end":{"line":216,"column":23}},"79":{"start":{"line":196,"column":24},"end":{"line":204,"column":27}},"80":{"start":{"line":197,"column":28},"end":{"line":203,"column":30}},"81":{"start":{"line":201,"column":36},"end":{"line":201,"column":109}},"82":{"start":{"line":206,"column":24},"end":{"line":213,"column":26}},"83":{"start":{"line":210,"column":32},"end":{"line":210,"column":49}},"84":{"start":{"line":211,"column":32},"end":{"line":211,"column":47}},"85":{"start":{"line":215,"column":24},"end":{"line":215,"column":36}},"86":{"start":{"line":220,"column":20},"end":{"line":220,"column":34}},"87":{"start":{"line":223,"column":16},"end":{"line":223,"column":28}},"88":{"start":{"line":230,"column":4},"end":{"line":248,"column":6}},"89":{"start":{"line":231,"column":8},"end":{"line":235,"column":10}},"90":{"start":{"line":236,"column":8},"end":{"line":246,"column":11}},"91":{"start":{"line":237,"column":12},"end":{"line":245,"column":15}},"92":{"start":{"line":238,"column":16},"end":{"line":242,"column":17}},"93":{"start":{"line":239,"column":20},"end":{"line":239,"column":34}},"94":{"start":{"line":241,"column":20},"end":{"line":241,"column":35}},"95":{"start":{"line":244,"column":16},"end":{"line":244,"column":28}},"96":{"start":{"line":250,"column":4},"end":{"line":437,"column":6}},"97":{"start":{"line":251,"column":8},"end":{"line":299,"column":9}},"98":{"start":{"line":252,"column":12},"end":{"line":252,"column":29}},"99":{"start":{"line":254,"column":12},"end":{"line":260,"column":13}},"100":{"start":{"line":255,"column":16},"end":{"line":255,"column":65}},"101":{"start":{"line":256,"column":19},"end":{"line":260,"column":13}},"102":{"start":{"line":257,"column":16},"end":{"line":257,"column":54}},"103":{"start":{"line":258,"column":19},"end":{"line":260,"column":13}},"104":{"start":{"line":259,"column":16},"end":{"line":259,"column":42}},"105":{"start":{"line":262,"column":12},"end":{"line":297,"column":14}},"106":{"start":{"line":266,"column":20},"end":{"line":266,"column":35}},"107":{"start":{"line":267,"column":20},"end":{"line":269,"column":21}},"108":{"start":{"line":268,"column":24},"end":{"line":268,"column":78}},"109":{"start":{"line":270,"column":20},"end":{"line":272,"column":21}},"110":{"start":{"line":271,"column":24},"end":{"line":271,"column":57}},"111":{"start":{"line":274,"column":20},"end":{"line":295,"column":23}},"112":{"start":{"line":275,"column":24},"end":{"line":294,"column":25}},"113":{"start":{"line":277,"column":32},"end":{"line":277,"column":45}},"114":{"start":{"line":278,"column":32},"end":{"line":278,"column":38}},"115":{"start":{"line":282,"column":32},"end":{"line":282,"column":82}},"116":{"start":{"line":283,"column":32},"end":{"line":283,"column":45}},"117":{"start":{"line":284,"column":32},"end":{"line":284,"column":38}},"118":{"start":{"line":286,"column":32},"end":{"line":286,"column":45}},"119":{"start":{"line":287,"column":32},"end":{"line":287,"column":38}},"120":{"start":{"line":289,"column":32},"end":{"line":289,"column":53}},"121":{"start":{"line":290,"column":32},"end":{"line":290,"column":38}},"122":{"start":{"line":292,"column":32},"end":{"line":292,"column":66}},"123":{"start":{"line":293,"column":32},"end":{"line":293,"column":38}},"124":{"start":{"line":301,"column":8},"end":{"line":436,"column":11}},"125":{"start":{"line":302,"column":12},"end":{"line":435,"column":15}},"126":{"start":{"line":304,"column":16},"end":{"line":304,"column":88}},"127":{"start":{"line":305,"column":16},"end":{"line":307,"column":17}},"128":{"start":{"line":306,"column":20},"end":{"line":306,"column":39}},"129":{"start":{"line":308,"column":16},"end":{"line":433,"column":17}},"130":{"start":{"line":309,"column":20},"end":{"line":309,"column":48}},"131":{"start":{"line":310,"column":20},"end":{"line":432,"column":21}},"132":{"start":{"line":312,"column":24},"end":{"line":312,"column":41}},"133":{"start":{"line":314,"column":24},"end":{"line":316,"column":25}},"134":{"start":{"line":315,"column":28},"end":{"line":315,"column":68}},"135":{"start":{"line":319,"column":24},"end":{"line":328,"column":25}},"136":{"start":{"line":320,"column":28},"end":{"line":320,"column":82}},"137":{"start":{"line":324,"column":28},"end":{"line":327,"column":29}},"138":{"start":{"line":325,"column":32},"end":{"line":325,"column":97}},"139":{"start":{"line":326,"column":32},"end":{"line":326,"column":69}},"140":{"start":{"line":331,"column":24},"end":{"line":348,"column":25}},"141":{"start":{"line":332,"column":28},"end":{"line":332,"column":79}},"142":{"start":{"line":333,"column":28},"end":{"line":343,"column":29}},"143":{"start":{"line":334,"column":32},"end":{"line":336,"column":33}},"144":{"start":{"line":335,"column":36},"end":{"line":335,"column":67}},"145":{"start":{"line":337,"column":32},"end":{"line":340,"column":34}},"146":{"start":{"line":341,"column":35},"end":{"line":343,"column":29}},"147":{"start":{"line":342,"column":32},"end":{"line":342,"column":64}},"148":{"start":{"line":346,"column":28},"end":{"line":346,"column":48}},"149":{"start":{"line":351,"column":24},"end":{"line":359,"column":25}},"150":{"start":{"line":352,"column":28},"end":{"line":352,"column":76}},"151":{"start":{"line":353,"column":28},"end":{"line":355,"column":29}},"152":{"start":{"line":354,"column":32},"end":{"line":354,"column":59}},"153":{"start":{"line":356,"column":28},"end":{"line":358,"column":29}},"154":{"start":{"line":357,"column":32},"end":{"line":357,"column":71}},"155":{"start":{"line":362,"column":24},"end":{"line":380,"column":25}},"156":{"start":{"line":364,"column":28},"end":{"line":364,"column":84}},"157":{"start":{"line":365,"column":28},"end":{"line":379,"column":29}},"158":{"start":{"line":366,"column":32},"end":{"line":378,"column":33}},"159":{"start":{"line":367,"column":36},"end":{"line":377,"column":37}},"160":{"start":{"line":368,"column":40},"end":{"line":370,"column":41}},"161":{"start":{"line":369,"column":44},"end":{"line":369,"column":71}},"162":{"start":{"line":371,"column":40},"end":{"line":376,"column":43}},"163":{"start":{"line":382,"column":24},"end":{"line":384,"column":25}},"164":{"start":{"line":383,"column":28},"end":{"line":383,"column":72}},"165":{"start":{"line":386,"column":24},"end":{"line":431,"column":25}},"166":{"start":{"line":388,"column":28},"end":{"line":388,"column":53}},"167":{"start":{"line":389,"column":28},"end":{"line":389,"column":46}},"168":{"start":{"line":390,"column":28},"end":{"line":390,"column":84}},"169":{"start":{"line":391,"column":28},"end":{"line":393,"column":29}},"170":{"start":{"line":392,"column":32},"end":{"line":392,"column":86}},"171":{"start":{"line":395,"column":28},"end":{"line":397,"column":29}},"172":{"start":{"line":396,"column":32},"end":{"line":396,"column":64}},"173":{"start":{"line":399,"column":28},"end":{"line":399,"column":54}},"174":{"start":{"line":400,"column":28},"end":{"line":406,"column":29}},"175":{"start":{"line":401,"column":32},"end":{"line":401,"column":87}},"176":{"start":{"line":402,"column":32},"end":{"line":402,"column":55}},"177":{"start":{"line":403,"column":32},"end":{"line":405,"column":33}},"178":{"start":{"line":404,"column":36},"end":{"line":404,"column":57}},"179":{"start":{"line":409,"column":28},"end":{"line":423,"column":29}},"180":{"start":{"line":410,"column":32},"end":{"line":422,"column":35}},"181":{"start":{"line":414,"column":40},"end":{"line":420,"column":42}},"182":{"start":{"line":418,"column":48},"end":{"line":418,"column":57}},"183":{"start":{"line":425,"column":28},"end":{"line":425,"column":89}},"184":{"start":{"line":430,"column":28},"end":{"line":430,"column":61}},"185":{"start":{"line":434,"column":16},"end":{"line":434,"column":31}},"186":{"start":{"line":447,"column":4},"end":{"line":530,"column":5}},"187":{"start":{"line":448,"column":8},"end":{"line":448,"column":96}},"188":{"start":{"line":449,"column":8},"end":{"line":449,"column":58}},"189":{"start":{"line":451,"column":8},"end":{"line":529,"column":11}},"190":{"start":{"line":453,"column":12},"end":{"line":455,"column":14}},"191":{"start":{"line":457,"column":12},"end":{"line":463,"column":13}},"192":{"start":{"line":458,"column":16},"end":{"line":458,"column":87}},"193":{"start":{"line":459,"column":19},"end":{"line":463,"column":13}},"194":{"start":{"line":460,"column":16},"end":{"line":460,"column":94}},"195":{"start":{"line":465,"column":12},"end":{"line":465,"column":38}},"196":{"start":{"line":466,"column":12},"end":{"line":466,"column":33}},"197":{"start":{"line":467,"column":12},"end":{"line":469,"column":13}},"198":{"start":{"line":468,"column":16},"end":{"line":468,"column":34}},"199":{"start":{"line":472,"column":12},"end":{"line":472,"column":32}},"200":{"start":{"line":473,"column":12},"end":{"line":473,"column":46}},"201":{"start":{"line":474,"column":12},"end":{"line":476,"column":13}},"202":{"start":{"line":475,"column":16},"end":{"line":475,"column":56}},"203":{"start":{"line":478,"column":12},"end":{"line":480,"column":13}},"204":{"start":{"line":479,"column":16},"end":{"line":479,"column":70}},"205":{"start":{"line":483,"column":12},"end":{"line":483,"column":54}},"206":{"start":{"line":484,"column":12},"end":{"line":484,"column":48}},"207":{"start":{"line":485,"column":12},"end":{"line":485,"column":48}},"208":{"start":{"line":486,"column":12},"end":{"line":486,"column":34}},"209":{"start":{"line":487,"column":12},"end":{"line":487,"column":33}},"210":{"start":{"line":488,"column":12},"end":{"line":488,"column":53}},"211":{"start":{"line":489,"column":12},"end":{"line":489,"column":59}},"212":{"start":{"line":490,"column":12},"end":{"line":492,"column":13}},"213":{"start":{"line":491,"column":16},"end":{"line":491,"column":73}},"214":{"start":{"line":493,"column":12},"end":{"line":495,"column":13}},"215":{"start":{"line":494,"column":16},"end":{"line":494,"column":70}},"216":{"start":{"line":496,"column":12},"end":{"line":496,"column":63}},"217":{"start":{"line":497,"column":12},"end":{"line":497,"column":61}},"218":{"start":{"line":498,"column":12},"end":{"line":498,"column":83}},"219":{"start":{"line":499,"column":12},"end":{"line":499,"column":57}},"220":{"start":{"line":500,"column":12},"end":{"line":500,"column":53}},"221":{"start":{"line":501,"column":12},"end":{"line":501,"column":59}},"222":{"start":{"line":502,"column":12},"end":{"line":502,"column":38}},"223":{"start":{"line":503,"column":12},"end":{"line":503,"column":59}},"224":{"start":{"line":504,"column":12},"end":{"line":528,"column":15}},"225":{"start":{"line":505,"column":16},"end":{"line":508,"column":17}},"226":{"start":{"line":506,"column":20},"end":{"line":506,"column":70}},"227":{"start":{"line":507,"column":20},"end":{"line":507,"column":39}},"228":{"start":{"line":510,"column":16},"end":{"line":510,"column":32}},"229":{"start":{"line":511,"column":16},"end":{"line":516,"column":17}},"230":{"start":{"line":512,"column":20},"end":{"line":512,"column":44}},"231":{"start":{"line":514,"column":20},"end":{"line":514,"column":68}},"232":{"start":{"line":515,"column":20},"end":{"line":515,"column":50}},"233":{"start":{"line":518,"column":16},"end":{"line":526,"column":17}},"234":{"start":{"line":519,"column":20},"end":{"line":519,"column":123}},"235":{"start":{"line":520,"column":20},"end":{"line":520,"column":95}},"236":{"start":{"line":521,"column":23},"end":{"line":526,"column":17}},"237":{"start":{"line":522,"column":20},"end":{"line":522,"column":77}},"238":{"start":{"line":523,"column":20},"end":{"line":523,"column":46}},"239":{"start":{"line":525,"column":20},"end":{"line":525,"column":34}},"240":{"start":{"line":533,"column":4},"end":{"line":561,"column":5}},"241":{"start":{"line":534,"column":8},"end":{"line":534,"column":19}},"242":{"start":{"line":535,"column":8},"end":{"line":559,"column":9}},"243":{"start":{"line":537,"column":16},"end":{"line":541,"column":17}},"244":{"start":{"line":538,"column":20},"end":{"line":538,"column":46}},"245":{"start":{"line":540,"column":20},"end":{"line":540,"column":38}},"246":{"start":{"line":542,"column":16},"end":{"line":542,"column":22}},"247":{"start":{"line":545,"column":16},"end":{"line":545,"column":56}},"248":{"start":{"line":546,"column":16},"end":{"line":546,"column":22}},"249":{"start":{"line":549,"column":16},"end":{"line":549,"column":59}},"250":{"start":{"line":550,"column":16},"end":{"line":550,"column":22}},"251":{"start":{"line":553,"column":16},"end":{"line":553,"column":67}},"252":{"start":{"line":554,"column":16},"end":{"line":554,"column":22}},"253":{"start":{"line":557,"column":16},"end":{"line":557,"column":39}},"254":{"start":{"line":558,"column":16},"end":{"line":558,"column":22}},"255":{"start":{"line":560,"column":8},"end":{"line":560,"column":17}},"256":{"start":{"line":567,"column":4},"end":{"line":635,"column":5}},"257":{"start":{"line":569,"column":8},"end":{"line":580,"column":11}},"258":{"start":{"line":571,"column":12},"end":{"line":574,"column":14}},"259":{"start":{"line":575,"column":12},"end":{"line":575,"column":53}},"260":{"start":{"line":576,"column":12},"end":{"line":579,"column":15}},"261":{"start":{"line":583,"column":8},"end":{"line":595,"column":11}},"262":{"start":{"line":584,"column":12},"end":{"line":589,"column":14}},"263":{"start":{"line":590,"column":12},"end":{"line":590,"column":63}},"264":{"start":{"line":591,"column":12},"end":{"line":594,"column":24}},"265":{"start":{"line":597,"column":8},"end":{"line":612,"column":11}},"266":{"start":{"line":598,"column":12},"end":{"line":606,"column":14}},"267":{"start":{"line":607,"column":12},"end":{"line":607,"column":67}},"268":{"start":{"line":608,"column":12},"end":{"line":611,"column":24}},"269":{"start":{"line":614,"column":8},"end":{"line":633,"column":11}},"270":{"start":{"line":615,"column":12},"end":{"line":626,"column":14}},"271":{"start":{"line":627,"column":12},"end":{"line":627,"column":68}},"272":{"start":{"line":628,"column":12},"end":{"line":631,"column":24}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":9},"end":{"line":24,"column":9}},{"start":{"line":24,"column":9},"end":{"line":24,"column":9}}]},"2":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":13},"end":{"line":24,"column":23}},{"start":{"line":24,"column":27},"end":{"line":24,"column":50}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":9},"end":{"line":28,"column":9}},{"start":{"line":28,"column":9},"end":{"line":28,"column":9}}]},"4":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":13},"end":{"line":28,"column":23}},{"start":{"line":28,"column":27},"end":{"line":28,"column":56}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":9},"end":{"line":32,"column":9}},{"start":{"line":32,"column":9},"end":{"line":32,"column":9}}]},"6":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":13},"end":{"line":32,"column":30}},{"start":{"line":32,"column":34},"end":{"line":32,"column":64}}]},"7":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":9},"end":{"line":36,"column":9}},{"start":{"line":36,"column":9},"end":{"line":36,"column":9}}]},"8":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":13},"end":{"line":36,"column":30}},{"start":{"line":36,"column":34},"end":{"line":36,"column":70}}]},"9":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"10":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":8}},{"start":{"line":70,"column":8},"end":{"line":70,"column":8}}]},"11":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":15}},{"start":{"line":70,"column":19},"end":{"line":70,"column":51}}]},"12":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"13":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"14":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":8}},{"start":{"line":103,"column":8},"end":{"line":103,"column":8}}]},"15":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":12},"end":{"line":103,"column":18}},{"start":{"line":103,"column":22},"end":{"line":103,"column":35}}]},"16":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":12},"end":{"line":110,"column":12}},{"start":{"line":110,"column":12},"end":{"line":110,"column":12}}]},"17":{"line":156,"type":"cond-expr","locations":[{"start":{"line":156,"column":59},"end":{"line":156,"column":95}},{"start":{"line":156,"column":98},"end":{"line":156,"column":100}}]},"18":{"line":164,"type":"cond-expr","locations":[{"start":{"line":164,"column":56},"end":{"line":164,"column":93}},{"start":{"line":164,"column":96},"end":{"line":164,"column":98}}]},"19":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":16},"end":{"line":186,"column":16}},{"start":{"line":186,"column":16},"end":{"line":186,"column":16}}]},"20":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":20},"end":{"line":186,"column":34}},{"start":{"line":186,"column":38},"end":{"line":186,"column":48}}]},"21":{"line":198,"type":"cond-expr","locations":[{"start":{"line":198,"column":63},"end":{"line":198,"column":99}},{"start":{"line":198,"column":102},"end":{"line":198,"column":104}}]},"22":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":60},"end":{"line":207,"column":97}},{"start":{"line":207,"column":100},"end":{"line":207,"column":102}}]},"23":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":16},"end":{"line":238,"column":16}},{"start":{"line":238,"column":16},"end":{"line":238,"column":16}}]},"24":{"line":238,"type":"binary-expr","locations":[{"start":{"line":238,"column":20},"end":{"line":238,"column":34}},{"start":{"line":238,"column":38},"end":{"line":238,"column":48}}]},"25":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":12},"end":{"line":254,"column":12}},{"start":{"line":254,"column":12},"end":{"line":254,"column":12}}]},"26":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":19},"end":{"line":256,"column":19}},{"start":{"line":256,"column":19},"end":{"line":256,"column":19}}]},"27":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":19},"end":{"line":258,"column":19}},{"start":{"line":258,"column":19},"end":{"line":258,"column":19}}]},"28":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":20},"end":{"line":267,"column":20}},{"start":{"line":267,"column":20},"end":{"line":267,"column":20}}]},"29":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":24},"end":{"line":267,"column":33}},{"start":{"line":267,"column":37},"end":{"line":267,"column":63}},{"start":{"line":267,"column":67},"end":{"line":267,"column":104}}]},"30":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":20},"end":{"line":270,"column":20}},{"start":{"line":270,"column":20},"end":{"line":270,"column":20}}]},"31":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":24},"end":{"line":270,"column":48}},{"start":{"line":270,"column":52},"end":{"line":270,"column":66}}]},"32":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":28},"end":{"line":278,"column":38}},{"start":{"line":279,"column":28},"end":{"line":284,"column":38}},{"start":{"line":285,"column":28},"end":{"line":287,"column":38}},{"start":{"line":288,"column":28},"end":{"line":290,"column":38}},{"start":{"line":291,"column":28},"end":{"line":293,"column":38}}]},"33":{"line":304,"type":"binary-expr","locations":[{"start":{"line":304,"column":33},"end":{"line":304,"column":66}},{"start":{"line":304,"column":71},"end":{"line":304,"column":85}}]},"34":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":16},"end":{"line":305,"column":16}},{"start":{"line":305,"column":16},"end":{"line":305,"column":16}}]},"35":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":24},"end":{"line":314,"column":24}},{"start":{"line":314,"column":24},"end":{"line":314,"column":24}}]},"36":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":24},"end":{"line":319,"column":24}},{"start":{"line":319,"column":24},"end":{"line":319,"column":24}}]},"37":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":24},"end":{"line":331,"column":24}},{"start":{"line":331,"column":24},"end":{"line":331,"column":24}}]},"38":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":28},"end":{"line":333,"column":28}},{"start":{"line":333,"column":28},"end":{"line":333,"column":28}}]},"39":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":32},"end":{"line":334,"column":32}},{"start":{"line":334,"column":32},"end":{"line":334,"column":32}}]},"40":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":35},"end":{"line":341,"column":35}},{"start":{"line":341,"column":35},"end":{"line":341,"column":35}}]},"41":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":24},"end":{"line":351,"column":24}},{"start":{"line":351,"column":24},"end":{"line":351,"column":24}}]},"42":{"line":353,"type":"if","locations":[{"start":{"line":353,"column":28},"end":{"line":353,"column":28}},{"start":{"line":353,"column":28},"end":{"line":353,"column":28}}]},"43":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":24},"end":{"line":362,"column":24}},{"start":{"line":362,"column":24},"end":{"line":362,"column":24}}]},"44":{"line":364,"type":"binary-expr","locations":[{"start":{"line":364,"column":42},"end":{"line":364,"column":77}},{"start":{"line":364,"column":81},"end":{"line":364,"column":83}}]},"45":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":28},"end":{"line":365,"column":28}},{"start":{"line":365,"column":28},"end":{"line":365,"column":28}}]},"46":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":36},"end":{"line":367,"column":36}},{"start":{"line":367,"column":36},"end":{"line":367,"column":36}}]},"47":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":40},"end":{"line":368,"column":40}},{"start":{"line":368,"column":40},"end":{"line":368,"column":40}}]},"48":{"line":382,"type":"if","locations":[{"start":{"line":382,"column":24},"end":{"line":382,"column":24}},{"start":{"line":382,"column":24},"end":{"line":382,"column":24}}]},"49":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":24},"end":{"line":386,"column":24}},{"start":{"line":386,"column":24},"end":{"line":386,"column":24}}]},"50":{"line":390,"type":"binary-expr","locations":[{"start":{"line":390,"column":42},"end":{"line":390,"column":77}},{"start":{"line":390,"column":81},"end":{"line":390,"column":83}}]},"51":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":28},"end":{"line":391,"column":28}},{"start":{"line":391,"column":28},"end":{"line":391,"column":28}}]},"52":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":28},"end":{"line":395,"column":28}},{"start":{"line":395,"column":28},"end":{"line":395,"column":28}}]},"53":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":32},"end":{"line":403,"column":32}},{"start":{"line":403,"column":32},"end":{"line":403,"column":32}}]},"54":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":28},"end":{"line":409,"column":28}},{"start":{"line":409,"column":28},"end":{"line":409,"column":28}}]},"55":{"line":415,"type":"cond-expr","locations":[{"start":{"line":415,"column":73},"end":{"line":415,"column":107}},{"start":{"line":415,"column":110},"end":{"line":415,"column":112}}]},"56":{"line":448,"type":"binary-expr","locations":[{"start":{"line":448,"column":32},"end":{"line":448,"column":66}},{"start":{"line":448,"column":70},"end":{"line":448,"column":95}}]},"57":{"line":457,"type":"if","locations":[{"start":{"line":457,"column":12},"end":{"line":457,"column":12}},{"start":{"line":457,"column":12},"end":{"line":457,"column":12}}]},"58":{"line":457,"type":"binary-expr","locations":[{"start":{"line":457,"column":16},"end":{"line":457,"column":26}},{"start":{"line":457,"column":30},"end":{"line":457,"column":53}}]},"59":{"line":459,"type":"if","locations":[{"start":{"line":459,"column":19},"end":{"line":459,"column":19}},{"start":{"line":459,"column":19},"end":{"line":459,"column":19}}]},"60":{"line":459,"type":"binary-expr","locations":[{"start":{"line":459,"column":23},"end":{"line":459,"column":40}},{"start":{"line":459,"column":44},"end":{"line":459,"column":74}}]},"61":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":12},"end":{"line":467,"column":12}},{"start":{"line":467,"column":12},"end":{"line":467,"column":12}}]},"62":{"line":474,"type":"if","locations":[{"start":{"line":474,"column":12},"end":{"line":474,"column":12}},{"start":{"line":474,"column":12},"end":{"line":474,"column":12}}]},"63":{"line":474,"type":"binary-expr","locations":[{"start":{"line":474,"column":16},"end":{"line":474,"column":35}},{"start":{"line":474,"column":39},"end":{"line":474,"column":52}}]},"64":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":12},"end":{"line":478,"column":12}},{"start":{"line":478,"column":12},"end":{"line":478,"column":12}}]},"65":{"line":478,"type":"binary-expr","locations":[{"start":{"line":478,"column":16},"end":{"line":478,"column":40}},{"start":{"line":478,"column":44},"end":{"line":478,"column":51}},{"start":{"line":478,"column":55},"end":{"line":478,"column":79}},{"start":{"line":478,"column":83},"end":{"line":478,"column":113}}]},"66":{"line":490,"type":"if","locations":[{"start":{"line":490,"column":12},"end":{"line":490,"column":12}},{"start":{"line":490,"column":12},"end":{"line":490,"column":12}}]},"67":{"line":493,"type":"if","locations":[{"start":{"line":493,"column":12},"end":{"line":493,"column":12}},{"start":{"line":493,"column":12},"end":{"line":493,"column":12}}]},"68":{"line":503,"type":"binary-expr","locations":[{"start":{"line":503,"column":40},"end":{"line":503,"column":51}},{"start":{"line":503,"column":55},"end":{"line":503,"column":58}}]},"69":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":16},"end":{"line":505,"column":16}},{"start":{"line":505,"column":16},"end":{"line":505,"column":16}}]},"70":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":16},"end":{"line":518,"column":16}},{"start":{"line":518,"column":16},"end":{"line":518,"column":16}}]},"71":{"line":518,"type":"binary-expr","locations":[{"start":{"line":518,"column":20},"end":{"line":518,"column":25}},{"start":{"line":518,"column":29},"end":{"line":518,"column":41}}]},"72":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":23},"end":{"line":521,"column":23}},{"start":{"line":521,"column":23},"end":{"line":521,"column":23}}]},"73":{"line":535,"type":"switch","locations":[{"start":{"line":536,"column":12},"end":{"line":542,"column":22}},{"start":{"line":544,"column":12},"end":{"line":546,"column":22}},{"start":{"line":548,"column":12},"end":{"line":550,"column":22}},{"start":{"line":552,"column":12},"end":{"line":554,"column":22}},{"start":{"line":556,"column":12},"end":{"line":558,"column":22}}]},"74":{"line":537,"type":"if","locations":[{"start":{"line":537,"column":16},"end":{"line":537,"column":16}},{"start":{"line":537,"column":16},"end":{"line":537,"column":16}}]},"75":{"line":567,"type":"if","locations":[{"start":{"line":567,"column":4},"end":{"line":567,"column":4}},{"start":{"line":567,"column":4},"end":{"line":567,"column":4}}]}},"code":["var request = require('request');","var Promise = require('promise');","var md5 = require('md5');","var SDK = require('botkit-studio-sdk');","","module.exports = function(controller) {","    var before_hooks = {};","    var after_hooks = {};","    var answer_hooks = {};","","","    // define a place for the studio specific features to live.","    controller.studio = {};","","    /* ----------------------------------------------------------------","     * Botkit Studio Script Services","     * The features in this section grant access to Botkit Studio's","     * script and trigger services","     * ---------------------------------------------------------------- */","","    function genConfig(bot) {","         var config = {};","","         if (bot.config && bot.config.studio_token) {","             config.studio_token = bot.config.studio_token;","         }","","         if (bot.config && bot.config.studio_command_uri) {","             config.studio_command_uri = bot.config.studio_command_uri;","         }","","         if (controller.config && controller.config.studio_token) {","             config.studio_token = controller.config.studio_token;","         }","","         if (controller.config && controller.config.studio_command_uri) {","             config.studio_command_uri = controller.config.studio_command_uri;","         }","","         return config;","     }","","    controller.studio.evaluateTrigger = function(bot, text, user) {","","        var userHash = md5(user);","        var sdk = new SDK(genConfig(bot));","        return sdk.evaluateTrigger(text, userHash);","","    };","","","","","    // load a script from the pro service","    controller.studio.getScript = function(bot, text, user) {","","        var userHash = md5(user);","        var sdk = new SDK(genConfig(bot));","        return sdk.getScript(text, user);","    };","","","    // these are middleware functions","    controller.studio.validate = function(command_name, key, func) {","","        if (!answer_hooks[command_name]) {","            answer_hooks[command_name] = [];","","        }","        if (key && !answer_hooks[command_name][key]) {","            answer_hooks[command_name][key] = [];","            answer_hooks[command_name][key].push(func);","        }","","        return controller.studio;","    };","","    controller.studio.before = function(command_name, func) {","","        if (!before_hooks[command_name]) {","            before_hooks[command_name] = [];","        }","","        before_hooks[command_name].push(func);","","        return controller.studio;","    };","","    controller.studio.after = function(command_name, func) {","","        if (!after_hooks[command_name]) {","            after_hooks[command_name] = [];","        }","","        after_hooks[command_name].push(func);","","        return controller.studio;","","    };","","    function runHooks(hooks, convo, cb) {","","        if (!hooks || !hooks.length) {","            return cb(convo);","        }","","        var func = hooks.shift();","","        func(convo, function() {","            if (hooks.length) {","                runHooks(hooks, convo, cb);","            } else {","                return cb(convo);","            }","        });","    }","","","    /* Fetch a script from Botkit Studio by name, then execute it.","     * returns a promise that resolves when the conversation is loaded and active */","    controller.studio.run = function(bot, input_text, user, channel) {","","        return new Promise(function(resolve, reject) {","","            controller.studio.get(bot, input_text, user, channel).then(function(convo) {","                convo.activate();","                resolve(convo);","            }).catch(function(err) {","                reject(err);","            });","        });","","    };","","    /* Fetch a script from Botkit Studio by name, but do not execute it.","     * returns a promise that resolves when the conversation is loaded","     * but developer still needs to call convo.activate() to put it in motion */","    controller.studio.get = function(bot, input_text, user, channel) {","        var context = {","            text: input_text,","            user: user,","            channel: channel,","        };","        return new Promise(function(resolve, reject) {","            controller.studio.getScript(bot, input_text, user).then(function(command) {","                controller.trigger('command_triggered', [bot, context, command]);","                controller.studio.compileScript(","                    bot,","                    context,","                    command.command,","                    command.script,","                    command.variables","                ).then(function(convo) {","                    convo.on('end', function(convo) {","                        runHooks(","                            after_hooks[command.command] ? after_hooks[command.command].slice() : [],","                            convo,","                            function(convo) {","                                controller.trigger('remote_command_end', [bot, context, command, convo]);","                            }","                        );","                    });","                    runHooks(","                        before_hooks[command.command] ? before_hooks[command.command].slice() : [],","                        convo,","                        function(convo) {","                            resolve(convo);","                        }","                    );","                }).catch(function(err) {","                    reject(err);","                });","            });","        });","    };","","","    controller.studio.runTrigger = function(bot, input_text, user, channel) {","        var context = {","            text: input_text,","            user: user,","            channel: channel,","        };","        return new Promise(function(resolve, reject) {","            controller.studio.evaluateTrigger(bot, input_text, user).then(function(command) {","                if (command !== {} && command.id) {","                    controller.trigger('command_triggered', [bot, context, command]);","                    controller.studio.compileScript(","                        bot,","                        context,","                        command.command,","                        command.script,","                        command.variables","                    ).then(function(convo) {","","                        convo.on('end', function(convo) {","                            runHooks(","                                after_hooks[command.command] ? after_hooks[command.command].slice() : [],","                                convo,","                                function(convo) {","                                    controller.trigger('remote_command_end', [bot, context, command, convo]);","                                }","                            );","                        });","","                        runHooks(","                            before_hooks[command.command] ? before_hooks[command.command].slice() : [],","                            convo,","                            function(convo) {","                                convo.activate();","                                resolve(convo);","                            }","                        );","                    }).catch(function(err) {","                        reject(err);","                    });","                } else {","                    // return with no conversation","                    // allow developer to run a default script","                    resolve(null);","                }","            }).catch(function(err) {","                reject(err);","            });","        });","","    };","","","    controller.studio.testTrigger = function(bot, input_text, user, channel) {","        var context = {","            text: input_text,","            user: user,","            channel: channel,","        };","        return new Promise(function(resolve, reject) {","            controller.studio.evaluateTrigger(bot, input_text, user).then(function(command) {","                if (command !== {} && command.id) {","                    resolve(true);","                } else {","                    resolve(false);","                }","            }).catch(function(err) {","                reject(err);","            });","        });","","    };","","    controller.studio.compileScript = function(bot, message, command_name, topics, vars) {","        function makeHandler(options, field) {","            var pattern = '';","","            if (options.type == 'utterance') {","                pattern = controller.utterances[options.pattern];","            } else if (options.type == 'string') {","                pattern = '^' + options.pattern + '$';","            } else if (options.type == 'regex') {","                pattern = options.pattern;","            }","","            return {","                pattern: pattern,","                default: options.default,","                callback: function(response, convo) {","                    var hooks = [];","                    if (field.key && answer_hooks[command_name] && answer_hooks[command_name][field.key]) {","                        hooks = answer_hooks[command_name][field.key].slice();","                    }","                    if (options.action != 'wait' && field.multiple) {","                        convo.responses[field.key].pop();","                    }","","                    runHooks(hooks, convo, function(convo) {","                        switch (options.action) {","                            case 'next':","                                convo.next();","                                break;","                            case 'repeat':","                                // before continuing, repeat the last send message","                                // use sayFirst, so that it prepends it to the front of script","                                convo.sayFirst(convo.sent[convo.sent.length - 1]);","                                convo.next();","                                break;","                            case 'stop':","                                convo.stop();","                                break;","                            case 'wait':","                                convo.silentRepeat();","                                break;","                            default:","                                convo.changeTopic(options.action);","                                break;","                        }","                    });","                }","            };","","        }","","        return new Promise(function(resolve, reject) {","            bot.createConversation(message, function(err, convo) {","","                convo.setTimeout(controller.config.default_timeout || (15 * 60 * 1000)); // 15 minute default timeout","                if (err) {","                    return reject(err);","                }","                for (var t = 0; t < topics.length; t++) {","                    var topic = topics[t].topic;","                    for (var m = 0; m < topics[t].script.length; m++) {","","                        var message = {};","","                        if (topics[t].script[m].text) {","                            message.text = topics[t].script[m].text;","                        }","","                        // handle Slack attachments","                        if (topics[t].script[m].attachments) {","                            message.attachments = topics[t].script[m].attachments;","","","                            // enable mrkdwn formatting in all fields of the attachment","                            for (var a = 0; a < message.attachments.length; a++) {","                                message.attachments[a].mrkdwn_in = ['text', 'pretext', 'fields'];","                                message.attachments[a].mrkdwn = true;","                            }","                        }","","                        // handle Facebook attachments","                        if (topics[t].script[m].fb_attachment) {","                            var attachment = topics[t].script[m].fb_attachment;","                            if (attachment.template_type) {","                                if (attachment.template_type == 'button') {","                                    attachment.text = message.text;","                                }","                                message.attachment = {","                                    type: 'template',","                                    payload: attachment","                                };","                            } else if (attachment.type) {","                                message.attachment = attachment;","                            }","","                            // blank text, not allowed with attachment","                            message.text = null;","","                        }","","                        // handle Facebook quick replies","                        if (topics[t].script[m].quick_replies) {","                            var options = topics[t].script[m].quick_replies;","                            if (!message.quick_replies) {","                                message.quick_replies = [];","                            }","                            for (var o = 0; o < options.length; o++) {","                                message.quick_replies.push(options[o]);","                            }","                        }","","                        // handle Facebook quick replies that are embedded in question options","                        if (topics[t].script[m].collect) {","","                            var options = topics[t].script[m].collect.options || [];","                            if (options.length > 0) {","                                for (var o = 0; o < options.length; o++) {","                                    if (options[o].fb_quick_reply) {","                                        if (!message.quick_replies) {","                                            message.quick_replies = [];","                                        }","                                        message.quick_replies.push({","                                            title: options[o].pattern,","                                            payload: options[o].fb_quick_reply_payload,","                                            image_url: options[o].fb_quick_reply_image_url,","                                            content_type: options[o].fb_quick_reply_content_type,","                                        });","                                    }","                                }","                            }","                        }","","                        if (topics[t].script[m].action) {","                            message.action = topics[t].script[m].action;","                        }","","                        if (topics[t].script[m].collect) {","                            // this is a question message","                            var capture_options = {};","                            var handlers = [];","                            var options = topics[t].script[m].collect.options || [];","                            if (topics[t].script[m].collect.key) {","                                capture_options.key = topics[t].script[m].collect.key;","                            }","","                            if (topics[t].script[m].collect.multiple) {","                                capture_options.multiple = true;","                            }","","                            var default_found = false;","                            for (var o = 0; o < options.length; o++) {","                                var handler = makeHandler(options[o], capture_options);","                                handlers.push(handler);","                                if (options[o].default) {","                                    default_found = true;","                                }","                            }","","                            // make sure there is a default","                            if (!default_found) {","                                handlers.push({","                                    default: true,","                                    callback: function(r, c) {","","                                        runHooks(","                                            answer_hooks[command_name] ? answer_hooks[command_name].slice() : [],","                                            convo,","                                            function(convo) {","                                                c.next();","                                            }","                                        );","                                    }","                                });","                            }","","                            convo.addQuestion(message, handlers, capture_options, topic);","","                        } else {","","                            // this is a simple message","                            convo.addMessage(message, topic);","                        }","                    }","                }","                resolve(convo);","            });","        });","    };","","    /* ----------------------------------------------------------------","     * Botkit Studio Stats","     * The features below this line pertain to communicating with Botkit Studio's","     * stats feature.","     * ---------------------------------------------------------------- */","","","","    function statsAPI(bot, options, message) {","        var _STUDIO_STATS_API = controller.config.studio_stats_uri || 'https://stats.botkit.ai';","        options.uri = _STUDIO_STATS_API + '/api/v1/stats';","","        return new Promise(function(resolve, reject) {","","            var headers = {","                'content-type': 'application/json',","            };","","            if (bot.config && bot.config.studio_token) {","                options.uri = options.uri + '?access_token=' + bot.config.studio_token;","            } else if (controller.config && controller.config.studio_token) {","                options.uri = options.uri + '?access_token=' + controller.config.studio_token;","            } else {","                // console.log('DEBUG: Making an unathenticated request to stats api');","            }","","            options.headers = headers;","            var now = new Date();","            if (options.now) {","                now = options.now;","            }","","","            var stats_body = {};","            stats_body.botHash = botHash(bot);","            if (bot.type == 'slack' && bot.team_info) {","                stats_body.team = md5(bot.team_info.id);","            }","","            if (bot.type == 'ciscospark' && message && message.original_message && message.original_message.orgId) {","                stats_body.team = md5(message.original_message.orgId);","            }","","","            stats_body.channel = options.form.channel;","            stats_body.user = options.form.user;","            stats_body.type = options.form.type;","            stats_body.time = now;","            stats_body.meta = {};","            stats_body.meta.user = options.form.user;","            stats_body.meta.channel = options.form.channel;","            if (options.form.final_thread) {","                stats_body.meta.final_thread = options.form.final_thread;","            }","            if (bot.botkit.config.clientId) {","                stats_body.meta.app = md5(bot.botkit.config.clientId);","            }","            stats_body.meta.timestamp = options.form.timestamp;","            stats_body.meta.bot_type = options.form.bot_type;","            stats_body.meta.conversation_length = options.form.conversation_length;","            stats_body.meta.status = options.form.status;","            stats_body.meta.type = options.form.type;","            stats_body.meta.command = options.form.command;","            options.form = stats_body;","            stats_body.meta.timestamp = options.now || now;","            request(options, function(err, res, body) {","                if (err) {","                    console.log('Error in Botkit Studio Stats:', err);","                    return reject(err);","                }","","                var json = null;","                try {","                    json = JSON.parse(body);","                } catch (e) {","                    console.log('Error in Botkit Studio Stats:', e);","                    return reject('Invalid JSON');","                }","","                if (!json || json == null) {","                    console.log('Error in Botkit Studio Stats: Response from Botkit Studio API was empty or invalid JSON');","                    return reject('Response from Botkit Studio API was empty or invalid JSON');","                } else if (json.error) {","                    console.log('Error in Botkit Studio Stats:', json.error);","                    return reject(json.error);","                } else {","                    resolve(json);","                }","","            });","        });","    }","","    /* generate an anonymous hash to uniquely identify this bot instance */","    function botHash(bot) {","        var x = '';","        switch (bot.type) {","            case 'slack':","                if (bot.config.token) {","                    x = md5(bot.config.token);","                } else {","                    x = 'non-rtm-bot';","                }","                break;","","            case 'fb':","                x = md5(bot.botkit.config.access_token);","                break;","","            case 'twilioipm':","                x = md5(bot.config.TWILIO_IPM_SERVICE_SID);","                break;","","            case 'ciscospark':","                x = md5(bot.botkit.config.ciscospark_access_token);","                break;","","            default:","                x = 'unknown-bot-type';","                break;","        }","        return x;","    };","","","    /* Every time a bot spawns, Botkit calls home to identify this unique bot","     * so that the maintainers of Botkit can measure the size of the installed","     * userbase of Botkit-powered bots. */","    if (!controller.config.stats_optout) {","","        controller.on('spawned', function(bot) {","","            var data = {","                type: 'spawn',","                bot_type: bot.type,","            };","            controller.trigger('stats:spawned', bot);","            return statsAPI(bot, {","                method: 'post',","                form: data,","            });","        });","","","        controller.on('heard_trigger', function(bot, keywords, message) {","            var data = {","                type: 'heard_trigger',","                user: md5(message.user),","                channel: md5(message.channel),","                bot_type: bot.type,","            };","            controller.trigger('stats:heard_trigger', message);","            return statsAPI(bot, {","                method: 'post',","                form: data,","            }, message);","        });","","        controller.on('command_triggered', function(bot, message, command) {","            var data = {","                type: 'command_triggered',","                now: message.now,","                user: md5(message.user),","                channel: md5(message.channel),","                command: command.command,","                timestamp: command.created,","                bot_type: bot.type,","            };","            controller.trigger('stats:command_triggered', message);","            return statsAPI(bot, {","                method: 'post',","                form: data,","            }, message);","        });","","        controller.on('remote_command_end', function(bot, message, command, convo) {","            var data = {","                now: message.now,","                user: md5(message.user),","                channel: md5(message.channel),","                command: command.command,","                timestamp: command.created,","                conversation_length: convo.lastActive - convo.startTime,","                status: convo.status,","                type: 'remote_command_end',","                final_thread: convo.thread,","                bot_type: bot.type,","            };","            controller.trigger('stats:remote_command_end', message);","            return statsAPI(bot, {","                method: 'post',","                form: data,","            }, message);","","        });","","    }","","};",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"13":0,"21":1,"22":0,"24":0,"25":0,"28":0,"29":0,"32":0,"33":0,"36":0,"37":0,"40":0,"43":0,"45":0,"46":0,"47":0,"55":0,"57":0,"58":0,"59":0,"64":0,"66":0,"67":0,"70":0,"71":0,"72":0,"75":0,"78":0,"80":0,"81":0,"84":0,"86":0,"89":0,"91":0,"92":0,"95":0,"97":0,"101":1,"103":0,"104":0,"107":0,"109":0,"110":0,"111":0,"113":0,"121":0,"123":0,"125":0,"126":0,"127":0,"129":0,"138":0,"139":0,"144":0,"145":0,"146":0,"147":0,"154":0,"155":0,"159":0,"163":0,"167":0,"171":0,"178":0,"179":0,"184":0,"185":0,"186":0,"187":0,"188":0,"196":0,"197":0,"201":0,"206":0,"210":0,"211":0,"215":0,"220":0,"223":0,"230":0,"231":0,"236":0,"237":0,"238":0,"239":0,"241":0,"244":0,"250":0,"251":1,"252":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"262":0,"266":0,"267":0,"268":0,"270":0,"271":0,"274":0,"275":0,"277":0,"278":0,"282":0,"283":0,"284":0,"286":0,"287":0,"289":0,"290":0,"292":0,"293":0,"301":0,"302":0,"304":0,"305":0,"306":0,"308":0,"309":0,"310":0,"312":0,"314":0,"315":0,"319":0,"320":0,"324":0,"325":0,"326":0,"331":0,"332":0,"333":0,"334":0,"335":0,"337":0,"341":0,"342":0,"346":0,"351":0,"352":0,"353":0,"354":0,"356":0,"357":0,"362":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"371":0,"382":0,"383":0,"386":0,"388":0,"389":0,"390":0,"391":0,"392":0,"395":0,"396":0,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"409":0,"410":0,"414":0,"418":0,"425":0,"430":0,"434":0,"447":1,"448":0,"449":0,"451":0,"453":0,"457":0,"458":0,"459":0,"460":0,"465":0,"466":0,"467":0,"468":0,"472":0,"473":0,"474":0,"475":0,"478":0,"479":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"493":0,"494":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"510":0,"511":0,"512":0,"514":0,"515":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"525":0,"533":1,"534":0,"535":0,"537":0,"538":0,"540":0,"542":0,"545":0,"546":0,"549":0,"550":0,"553":0,"554":0,"557":0,"558":0,"560":0,"567":0,"569":0,"571":0,"575":0,"576":0,"583":0,"584":0,"590":0,"591":0,"597":0,"598":0,"607":0,"608":0,"614":0,"615":0,"627":0,"628":0}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/SlackBot.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/SlackBot.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"fnMap":{"1":{"name":"Slackbot","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"2":{"name":"(anonymous_2)","line":30,"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":61}}},"3":{"name":"(anonymous_3)","line":66,"loc":{"start":{"line":66,"column":37},"end":{"line":66,"column":68}}},"4":{"name":"(anonymous_4)","line":89,"loc":{"start":{"line":89,"column":42},"end":{"line":89,"column":62}}},"5":{"name":"(anonymous_5)","line":96,"loc":{"start":{"line":96,"column":27},"end":{"line":96,"column":46}}},"6":{"name":"secureWebhookEndpoints","line":108,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":38}}},"7":{"name":"(anonymous_7)","line":123,"loc":{"start":{"line":123,"column":42},"end":{"line":123,"column":84}}},"8":{"name":"(anonymous_8)","line":132,"loc":{"start":{"line":132,"column":41},"end":{"line":132,"column":60}}},"9":{"name":"(anonymous_9)","line":145,"loc":{"start":{"line":145,"column":39},"end":{"line":145,"column":61}}},"10":{"name":"(anonymous_10)","line":150,"loc":{"start":{"line":150,"column":43},"end":{"line":150,"column":63}}},"11":{"name":"(anonymous_11)","line":155,"loc":{"start":{"line":155,"column":59},"end":{"line":155,"column":83}}},"12":{"name":"(anonymous_12)","line":156,"loc":{"start":{"line":156,"column":59},"end":{"line":156,"column":79}}},"13":{"name":"(anonymous_13)","line":164,"loc":{"start":{"line":164,"column":23},"end":{"line":164,"column":37}}},"14":{"name":"(anonymous_14)","line":176,"loc":{"start":{"line":176,"column":40},"end":{"line":176,"column":59}}},"15":{"name":"(anonymous_15)","line":190,"loc":{"start":{"line":190,"column":50},"end":{"line":190,"column":70}}},"16":{"name":"handleInteractiveMessage","line":250,"loc":{"start":{"line":250,"column":4},"end":{"line":250,"column":52}}},"17":{"name":"handleEventsAPI","line":275,"loc":{"start":{"line":275,"column":4},"end":{"line":275,"column":43}}},"18":{"name":"handleSlashCommand","line":302,"loc":{"start":{"line":302,"column":4},"end":{"line":302,"column":46}}},"19":{"name":"handleOutgoingWebhook","line":318,"loc":{"start":{"line":318,"column":4},"end":{"line":318,"column":49}}},"20":{"name":"(anonymous_20)","line":337,"loc":{"start":{"line":337,"column":28},"end":{"line":337,"column":47}}},"21":{"name":"(anonymous_21)","line":343,"loc":{"start":{"line":343,"column":32},"end":{"line":343,"column":49}}},"22":{"name":"(anonymous_22)","line":347,"loc":{"start":{"line":347,"column":34},"end":{"line":347,"column":53}}},"23":{"name":"(anonymous_23)","line":371,"loc":{"start":{"line":371,"column":12},"end":{"line":371,"column":23}}},"24":{"name":"(anonymous_24)","line":382,"loc":{"start":{"line":382,"column":35},"end":{"line":382,"column":70}}},"25":{"name":"(anonymous_25)","line":411,"loc":{"start":{"line":411,"column":40},"end":{"line":411,"column":70}}},"26":{"name":"(anonymous_26)","line":429,"loc":{"start":{"line":429,"column":23},"end":{"line":429,"column":54}}},"27":{"name":"(anonymous_27)","line":435,"loc":{"start":{"line":435,"column":55},"end":{"line":435,"column":87}}},"28":{"name":"(anonymous_28)","line":450,"loc":{"start":{"line":450,"column":27},"end":{"line":450,"column":49}}},"29":{"name":"(anonymous_29)","line":454,"loc":{"start":{"line":454,"column":24},"end":{"line":454,"column":46}}},"30":{"name":"(anonymous_30)","line":458,"loc":{"start":{"line":458,"column":32},"end":{"line":458,"column":51}}},"31":{"name":"(anonymous_31)","line":465,"loc":{"start":{"line":465,"column":32},"end":{"line":465,"column":51}}},"32":{"name":"(anonymous_32)","line":490,"loc":{"start":{"line":490,"column":31},"end":{"line":490,"column":51}}},"33":{"name":"(anonymous_33)","line":517,"loc":{"start":{"line":517,"column":58},"end":{"line":517,"column":82}}},"34":{"name":"(anonymous_34)","line":535,"loc":{"start":{"line":535,"column":72},"end":{"line":535,"column":92}}},"35":{"name":"(anonymous_35)","line":572,"loc":{"start":{"line":572,"column":60},"end":{"line":572,"column":78}}},"36":{"name":"(anonymous_36)","line":593,"loc":{"start":{"line":593,"column":47},"end":{"line":593,"column":72}}},"37":{"name":"(anonymous_37)","line":595,"loc":{"start":{"line":595,"column":76},"end":{"line":595,"column":94}}},"38":{"name":"(anonymous_38)","line":604,"loc":{"start":{"line":604,"column":89},"end":{"line":604,"column":109}}},"39":{"name":"(anonymous_39)","line":620,"loc":{"start":{"line":620,"column":82},"end":{"line":620,"column":100}}},"40":{"name":"(anonymous_40)","line":664,"loc":{"start":{"line":664,"column":37},"end":{"line":664,"column":48}}},"41":{"name":"(anonymous_41)","line":667,"loc":{"start":{"line":667,"column":44},"end":{"line":667,"column":67}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"7":{"start":{"line":8,"column":0},"end":{"line":781,"column":1}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"9":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":56}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":26}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":71}},"13":{"start":{"line":30,"column":4},"end":{"line":58,"column":7}},"14":{"start":{"line":36,"column":8},"end":{"line":36,"column":32}},"15":{"start":{"line":37,"column":8},"end":{"line":47,"column":9}},"16":{"start":{"line":38,"column":12},"end":{"line":46,"column":13}},"17":{"start":{"line":39,"column":16},"end":{"line":45,"column":17}},"18":{"start":{"line":40,"column":20},"end":{"line":44,"column":21}},"19":{"start":{"line":43,"column":24},"end":{"line":43,"column":55}},"20":{"start":{"line":49,"column":8},"end":{"line":55,"column":9}},"21":{"start":{"line":50,"column":12},"end":{"line":50,"column":38}},"22":{"start":{"line":51,"column":15},"end":{"line":55,"column":9}},"23":{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},"24":{"start":{"line":53,"column":16},"end":{"line":53,"column":46}},"25":{"start":{"line":56,"column":8},"end":{"line":56,"column":15}},"26":{"start":{"line":66,"column":4},"end":{"line":86,"column":6}},"27":{"start":{"line":68,"column":8},"end":{"line":68,"column":63}},"28":{"start":{"line":69,"column":8},"end":{"line":82,"column":9}},"29":{"start":{"line":71,"column":12},"end":{"line":71,"column":60}},"30":{"start":{"line":73,"column":12},"end":{"line":73,"column":69}},"31":{"start":{"line":74,"column":12},"end":{"line":74,"column":77}},"32":{"start":{"line":75,"column":12},"end":{"line":75,"column":109}},"33":{"start":{"line":75,"column":46},"end":{"line":75,"column":109}},"34":{"start":{"line":76,"column":12},"end":{"line":80,"column":13}},"35":{"start":{"line":77,"column":16},"end":{"line":77,"column":81}},"36":{"start":{"line":79,"column":16},"end":{"line":79,"column":69}},"37":{"start":{"line":81,"column":12},"end":{"line":81,"column":29}},"38":{"start":{"line":81,"column":20},"end":{"line":81,"column":29}},"39":{"start":{"line":84,"column":8},"end":{"line":84,"column":28}},"40":{"start":{"line":89,"column":4},"end":{"line":104,"column":6}},"41":{"start":{"line":91,"column":8},"end":{"line":92,"column":81}},"42":{"start":{"line":96,"column":8},"end":{"line":100,"column":11}},"43":{"start":{"line":98,"column":12},"end":{"line":98,"column":31}},"44":{"start":{"line":102,"column":8},"end":{"line":102,"column":28}},"45":{"start":{"line":108,"column":4},"end":{"line":120,"column":5}},"46":{"start":{"line":109,"column":8},"end":{"line":109,"column":98}},"47":{"start":{"line":111,"column":8},"end":{"line":111,"column":59}},"48":{"start":{"line":112,"column":8},"end":{"line":112,"column":39}},"49":{"start":{"line":114,"column":8},"end":{"line":117,"column":10}},"50":{"start":{"line":119,"column":8},"end":{"line":119,"column":56}},"51":{"start":{"line":123,"column":4},"end":{"line":143,"column":6}},"52":{"start":{"line":125,"column":8},"end":{"line":127,"column":9}},"53":{"start":{"line":126,"column":12},"end":{"line":126,"column":58}},"54":{"start":{"line":129,"column":8},"end":{"line":131,"column":119}},"55":{"start":{"line":132,"column":8},"end":{"line":140,"column":11}},"56":{"start":{"line":135,"column":12},"end":{"line":135,"column":28}},"57":{"start":{"line":138,"column":12},"end":{"line":138,"column":56}},"58":{"start":{"line":142,"column":8},"end":{"line":142,"column":28}},"59":{"start":{"line":145,"column":4},"end":{"line":174,"column":6}},"60":{"start":{"line":147,"column":8},"end":{"line":147,"column":30}},"61":{"start":{"line":149,"column":8},"end":{"line":149,"column":83}},"62":{"start":{"line":150,"column":8},"end":{"line":173,"column":11}},"63":{"start":{"line":151,"column":12},"end":{"line":172,"column":13}},"64":{"start":{"line":152,"column":16},"end":{"line":152,"column":30}},"65":{"start":{"line":154,"column":16},"end":{"line":171,"column":17}},"66":{"start":{"line":155,"column":20},"end":{"line":170,"column":23}},"67":{"start":{"line":156,"column":24},"end":{"line":163,"column":27}},"68":{"start":{"line":157,"column":28},"end":{"line":162,"column":29}},"69":{"start":{"line":158,"column":32},"end":{"line":158,"column":50}},"70":{"start":{"line":159,"column":32},"end":{"line":159,"column":39}},"71":{"start":{"line":161,"column":32},"end":{"line":161,"column":42}},"72":{"start":{"line":165,"column":24},"end":{"line":169,"column":25}},"73":{"start":{"line":166,"column":28},"end":{"line":166,"column":36}},"74":{"start":{"line":168,"column":28},"end":{"line":168,"column":49}},"75":{"start":{"line":176,"column":4},"end":{"line":243,"column":6}},"76":{"start":{"line":179,"column":8},"end":{"line":183,"column":9}},"77":{"start":{"line":180,"column":12},"end":{"line":180,"column":57}},"78":{"start":{"line":181,"column":12},"end":{"line":181,"column":56}},"79":{"start":{"line":182,"column":12},"end":{"line":182,"column":19}},"80":{"start":{"line":185,"column":8},"end":{"line":185,"column":31}},"81":{"start":{"line":186,"column":8},"end":{"line":188,"column":9}},"82":{"start":{"line":187,"column":12},"end":{"line":187,"column":50}},"83":{"start":{"line":190,"column":8},"end":{"line":242,"column":11}},"84":{"start":{"line":191,"column":12},"end":{"line":224,"column":13}},"85":{"start":{"line":192,"column":16},"end":{"line":192,"column":94}},"86":{"start":{"line":193,"column":16},"end":{"line":193,"column":23}},"87":{"start":{"line":194,"column":19},"end":{"line":224,"column":13}},"88":{"start":{"line":197,"column":16},"end":{"line":201,"column":17}},"89":{"start":{"line":198,"column":20},"end":{"line":198,"column":49}},"90":{"start":{"line":200,"column":20},"end":{"line":200,"column":27}},"91":{"start":{"line":204,"column":16},"end":{"line":204,"column":47}},"92":{"start":{"line":207,"column":16},"end":{"line":207,"column":37}},"93":{"start":{"line":212,"column":16},"end":{"line":223,"column":17}},"94":{"start":{"line":214,"column":20},"end":{"line":217,"column":21}},"95":{"start":{"line":215,"column":24},"end":{"line":215,"column":73}},"96":{"start":{"line":216,"column":24},"end":{"line":216,"column":31}},"97":{"start":{"line":219,"column":20},"end":{"line":222,"column":22}},"98":{"start":{"line":226,"column":12},"end":{"line":226,"column":26}},"99":{"start":{"line":228,"column":12},"end":{"line":241,"column":13}},"100":{"start":{"line":230,"column":16},"end":{"line":230,"column":29}},"101":{"start":{"line":231,"column":16},"end":{"line":231,"column":53}},"102":{"start":{"line":232,"column":19},"end":{"line":241,"column":13}},"103":{"start":{"line":234,"column":16},"end":{"line":234,"column":29}},"104":{"start":{"line":235,"column":16},"end":{"line":235,"column":62}},"105":{"start":{"line":236,"column":19},"end":{"line":241,"column":13}},"106":{"start":{"line":238,"column":16},"end":{"line":238,"column":56}},"107":{"start":{"line":239,"column":19},"end":{"line":241,"column":13}},"108":{"start":{"line":240,"column":16},"end":{"line":240,"column":59}},"109":{"start":{"line":250,"column":4},"end":{"line":273,"column":5}},"110":{"start":{"line":252,"column":8},"end":{"line":252,"column":25}},"111":{"start":{"line":253,"column":8},"end":{"line":255,"column":9}},"112":{"start":{"line":254,"column":12},"end":{"line":254,"column":40}},"113":{"start":{"line":258,"column":8},"end":{"line":258,"column":39}},"114":{"start":{"line":259,"column":8},"end":{"line":259,"column":45}},"115":{"start":{"line":263,"column":8},"end":{"line":263,"column":48}},"116":{"start":{"line":265,"column":8},"end":{"line":265,"column":54}},"117":{"start":{"line":267,"column":8},"end":{"line":267,"column":77}},"118":{"start":{"line":269,"column":8},"end":{"line":272,"column":9}},"119":{"start":{"line":270,"column":12},"end":{"line":270,"column":37}},"120":{"start":{"line":271,"column":12},"end":{"line":271,"column":54}},"121":{"start":{"line":275,"column":4},"end":{"line":300,"column":5}},"122":{"start":{"line":277,"column":8},"end":{"line":277,"column":25}},"123":{"start":{"line":278,"column":8},"end":{"line":280,"column":9}},"124":{"start":{"line":279,"column":12},"end":{"line":279,"column":46}},"125":{"start":{"line":283,"column":8},"end":{"line":283,"column":39}},"126":{"start":{"line":284,"column":8},"end":{"line":284,"column":34}},"127":{"start":{"line":285,"column":8},"end":{"line":285,"column":52}},"128":{"start":{"line":287,"column":8},"end":{"line":299,"column":9}},"129":{"start":{"line":288,"column":12},"end":{"line":288,"column":61}},"130":{"start":{"line":289,"column":12},"end":{"line":289,"column":19}},"131":{"start":{"line":290,"column":15},"end":{"line":299,"column":9}},"132":{"start":{"line":291,"column":12},"end":{"line":291,"column":76}},"133":{"start":{"line":292,"column":12},"end":{"line":292,"column":19}},"134":{"start":{"line":294,"column":12},"end":{"line":298,"column":13}},"135":{"start":{"line":295,"column":16},"end":{"line":295,"column":58}},"136":{"start":{"line":297,"column":16},"end":{"line":297,"column":67}},"137":{"start":{"line":302,"column":4},"end":{"line":316,"column":5}},"138":{"start":{"line":303,"column":8},"end":{"line":303,"column":25}},"139":{"start":{"line":305,"column":8},"end":{"line":307,"column":9}},"140":{"start":{"line":306,"column":12},"end":{"line":306,"column":40}},"141":{"start":{"line":310,"column":8},"end":{"line":310,"column":39}},"142":{"start":{"line":311,"column":8},"end":{"line":311,"column":45}},"143":{"start":{"line":313,"column":8},"end":{"line":313,"column":39}},"144":{"start":{"line":315,"column":8},"end":{"line":315,"column":50}},"145":{"start":{"line":318,"column":4},"end":{"line":332,"column":5}},"146":{"start":{"line":319,"column":8},"end":{"line":319,"column":25}},"147":{"start":{"line":321,"column":8},"end":{"line":323,"column":9}},"148":{"start":{"line":322,"column":12},"end":{"line":322,"column":40}},"149":{"start":{"line":326,"column":8},"end":{"line":326,"column":39}},"150":{"start":{"line":327,"column":8},"end":{"line":327,"column":45}},"151":{"start":{"line":329,"column":8},"end":{"line":329,"column":42}},"152":{"start":{"line":331,"column":8},"end":{"line":331,"column":50}},"153":{"start":{"line":337,"column":4},"end":{"line":339,"column":6}},"154":{"start":{"line":338,"column":8},"end":{"line":338,"column":50}},"155":{"start":{"line":343,"column":4},"end":{"line":345,"column":6}},"156":{"start":{"line":344,"column":8},"end":{"line":344,"column":47}},"157":{"start":{"line":347,"column":4},"end":{"line":379,"column":6}},"158":{"start":{"line":349,"column":8},"end":{"line":351,"column":9}},"159":{"start":{"line":350,"column":12},"end":{"line":350,"column":69}},"160":{"start":{"line":352,"column":8},"end":{"line":354,"column":9}},"161":{"start":{"line":353,"column":12},"end":{"line":353,"column":68}},"162":{"start":{"line":356,"column":8},"end":{"line":356,"column":52}},"163":{"start":{"line":358,"column":8},"end":{"line":359,"column":66}},"164":{"start":{"line":359,"column":12},"end":{"line":359,"column":66}},"165":{"start":{"line":361,"column":8},"end":{"line":361,"column":40}},"166":{"start":{"line":363,"column":8},"end":{"line":363,"column":43}},"167":{"start":{"line":364,"column":8},"end":{"line":364,"column":54}},"168":{"start":{"line":365,"column":8},"end":{"line":365,"column":78}},"169":{"start":{"line":366,"column":8},"end":{"line":366,"column":63}},"170":{"start":{"line":368,"column":8},"end":{"line":375,"column":15}},"171":{"start":{"line":372,"column":16},"end":{"line":373,"column":46}},"172":{"start":{"line":374,"column":16},"end":{"line":374,"column":61}},"173":{"start":{"line":374,"column":26},"end":{"line":374,"column":59}},"174":{"start":{"line":377,"column":8},"end":{"line":377,"column":28}},"175":{"start":{"line":382,"column":4},"end":{"line":405,"column":6}},"176":{"start":{"line":384,"column":8},"end":{"line":384,"column":48}},"177":{"start":{"line":385,"column":8},"end":{"line":385,"column":105}},"178":{"start":{"line":387,"column":8},"end":{"line":388,"column":90}},"179":{"start":{"line":390,"column":8},"end":{"line":391,"column":38}},"180":{"start":{"line":391,"column":12},"end":{"line":391,"column":38}},"181":{"start":{"line":393,"column":8},"end":{"line":401,"column":9}},"182":{"start":{"line":394,"column":12},"end":{"line":394,"column":36}},"183":{"start":{"line":395,"column":12},"end":{"line":395,"column":63}},"184":{"start":{"line":396,"column":12},"end":{"line":399,"column":13}},"185":{"start":{"line":397,"column":16},"end":{"line":397,"column":93}},"186":{"start":{"line":398,"column":16},"end":{"line":398,"column":67}},"187":{"start":{"line":400,"column":12},"end":{"line":400,"column":51}},"188":{"start":{"line":403,"column":8},"end":{"line":403,"column":19}},"189":{"start":{"line":411,"column":4},"end":{"line":662,"column":6}},"190":{"start":{"line":413,"column":8},"end":{"line":414,"column":86}},"191":{"start":{"line":416,"column":8},"end":{"line":419,"column":9}},"192":{"start":{"line":417,"column":12},"end":{"line":418,"column":107}},"193":{"start":{"line":420,"column":8},"end":{"line":423,"column":9}},"194":{"start":{"line":421,"column":12},"end":{"line":422,"column":111}},"195":{"start":{"line":424,"column":8},"end":{"line":427,"column":9}},"196":{"start":{"line":425,"column":12},"end":{"line":426,"column":113}},"197":{"start":{"line":429,"column":8},"end":{"line":448,"column":10}},"198":{"start":{"line":431,"column":12},"end":{"line":431,"column":109}},"199":{"start":{"line":434,"column":12},"end":{"line":434,"column":77}},"200":{"start":{"line":435,"column":12},"end":{"line":447,"column":29}},"201":{"start":{"line":436,"column":16},"end":{"line":436,"column":64}},"202":{"start":{"line":437,"column":16},"end":{"line":446,"column":17}},"203":{"start":{"line":438,"column":20},"end":{"line":438,"column":48}},"204":{"start":{"line":439,"column":20},"end":{"line":443,"column":21}},"205":{"start":{"line":440,"column":24},"end":{"line":440,"column":47}},"206":{"start":{"line":440,"column":32},"end":{"line":440,"column":47}},"207":{"start":{"line":442,"column":24},"end":{"line":442,"column":53}},"208":{"start":{"line":442,"column":32},"end":{"line":442,"column":53}},"209":{"start":{"line":445,"column":20},"end":{"line":445,"column":38}},"210":{"start":{"line":445,"column":28},"end":{"line":445,"column":38}},"211":{"start":{"line":450,"column":8},"end":{"line":452,"column":10}},"212":{"start":{"line":451,"column":12},"end":{"line":451,"column":50}},"213":{"start":{"line":454,"column":8},"end":{"line":456,"column":10}},"214":{"start":{"line":455,"column":12},"end":{"line":455,"column":47}},"215":{"start":{"line":458,"column":8},"end":{"line":460,"column":11}},"216":{"start":{"line":459,"column":12},"end":{"line":459,"column":57}},"217":{"start":{"line":462,"column":8},"end":{"line":463,"column":86}},"218":{"start":{"line":465,"column":8},"end":{"line":658,"column":11}},"219":{"start":{"line":467,"column":12},"end":{"line":467,"column":38}},"220":{"start":{"line":468,"column":12},"end":{"line":468,"column":40}},"221":{"start":{"line":470,"column":12},"end":{"line":474,"column":14}},"222":{"start":{"line":476,"column":12},"end":{"line":476,"column":37}},"223":{"start":{"line":477,"column":12},"end":{"line":488,"column":13}},"224":{"start":{"line":478,"column":16},"end":{"line":478,"column":58}},"225":{"start":{"line":479,"column":16},"end":{"line":479,"column":44}},"226":{"start":{"line":480,"column":16},"end":{"line":480,"column":45}},"227":{"start":{"line":482,"column":16},"end":{"line":482,"column":76}},"228":{"start":{"line":483,"column":16},"end":{"line":483,"column":67}},"229":{"start":{"line":484,"column":16},"end":{"line":486,"column":17}},"230":{"start":{"line":485,"column":20},"end":{"line":485,"column":71}},"231":{"start":{"line":487,"column":16},"end":{"line":487,"column":49}},"232":{"start":{"line":490,"column":12},"end":{"line":657,"column":15}},"233":{"start":{"line":492,"column":16},"end":{"line":656,"column":17}},"234":{"start":{"line":493,"column":20},"end":{"line":497,"column":21}},"235":{"start":{"line":494,"column":24},"end":{"line":494,"column":48}},"236":{"start":{"line":496,"column":24},"end":{"line":496,"column":50}},"237":{"start":{"line":498,"column":20},"end":{"line":498,"column":63}},"238":{"start":{"line":511,"column":20},"end":{"line":511,"column":56}},"239":{"start":{"line":517,"column":20},"end":{"line":655,"column":23}},"240":{"start":{"line":519,"column":24},"end":{"line":654,"column":25}},"241":{"start":{"line":520,"column":28},"end":{"line":524,"column":29}},"242":{"start":{"line":521,"column":32},"end":{"line":521,"column":56}},"243":{"start":{"line":523,"column":32},"end":{"line":523,"column":58}},"244":{"start":{"line":526,"column":28},"end":{"line":526,"column":71}},"245":{"start":{"line":529,"column":28},"end":{"line":529,"column":52}},"246":{"start":{"line":535,"column":28},"end":{"line":653,"column":31}},"247":{"start":{"line":537,"column":32},"end":{"line":537,"column":50}},"248":{"start":{"line":538,"column":32},"end":{"line":546,"column":33}},"249":{"start":{"line":539,"column":36},"end":{"line":539,"column":49}},"250":{"start":{"line":540,"column":36},"end":{"line":545,"column":38}},"251":{"start":{"line":548,"column":32},"end":{"line":548,"column":51}},"252":{"start":{"line":550,"column":32},"end":{"line":550,"column":67}},"253":{"start":{"line":552,"column":32},"end":{"line":558,"column":33}},"254":{"start":{"line":553,"column":36},"end":{"line":553,"column":84}},"255":{"start":{"line":554,"column":36},"end":{"line":554,"column":87}},"256":{"start":{"line":555,"column":36},"end":{"line":555,"column":82}},"257":{"start":{"line":556,"column":36},"end":{"line":556,"column":88}},"258":{"start":{"line":557,"column":36},"end":{"line":557,"column":114}},"259":{"start":{"line":560,"column":32},"end":{"line":570,"column":33}},"260":{"start":{"line":562,"column":36},"end":{"line":567,"column":38}},"261":{"start":{"line":568,"column":36},"end":{"line":568,"column":63}},"262":{"start":{"line":569,"column":36},"end":{"line":569,"column":88}},"263":{"start":{"line":572,"column":32},"end":{"line":652,"column":35}},"264":{"start":{"line":573,"column":36},"end":{"line":651,"column":37}},"265":{"start":{"line":574,"column":40},"end":{"line":574,"column":111}},"266":{"start":{"line":575,"column":40},"end":{"line":579,"column":41}},"267":{"start":{"line":576,"column":44},"end":{"line":576,"column":68}},"268":{"start":{"line":578,"column":44},"end":{"line":578,"column":70}},"269":{"start":{"line":580,"column":40},"end":{"line":580,"column":77}},"270":{"start":{"line":582,"column":40},"end":{"line":586,"column":41}},"271":{"start":{"line":583,"column":44},"end":{"line":583,"column":93}},"272":{"start":{"line":585,"column":44},"end":{"line":585,"column":93}},"273":{"start":{"line":588,"column":40},"end":{"line":602,"column":41}},"274":{"start":{"line":591,"column":44},"end":{"line":601,"column":47}},"275":{"start":{"line":594,"column":48},"end":{"line":594,"column":79}},"276":{"start":{"line":595,"column":48},"end":{"line":599,"column":51}},"277":{"start":{"line":596,"column":52},"end":{"line":598,"column":53}},"278":{"start":{"line":597,"column":56},"end":{"line":597,"column":127}},"279":{"start":{"line":604,"column":40},"end":{"line":650,"column":43}},"280":{"start":{"line":605,"column":44},"end":{"line":605,"column":58}},"281":{"start":{"line":606,"column":44},"end":{"line":613,"column":45}},"282":{"start":{"line":607,"column":48},"end":{"line":607,"column":61}},"283":{"start":{"line":608,"column":48},"end":{"line":612,"column":50}},"284":{"start":{"line":617,"column":44},"end":{"line":617,"column":82}},"285":{"start":{"line":618,"column":44},"end":{"line":618,"column":65}},"286":{"start":{"line":620,"column":44},"end":{"line":649,"column":47}},"287":{"start":{"line":622,"column":48},"end":{"line":648,"column":49}},"288":{"start":{"line":623,"column":52},"end":{"line":624,"column":104}},"289":{"start":{"line":625,"column":52},"end":{"line":629,"column":53}},"290":{"start":{"line":626,"column":56},"end":{"line":626,"column":80}},"291":{"start":{"line":628,"column":56},"end":{"line":628,"column":82}},"292":{"start":{"line":630,"column":52},"end":{"line":630,"column":89}},"293":{"start":{"line":632,"column":52},"end":{"line":642,"column":53}},"294":{"start":{"line":633,"column":56},"end":{"line":636,"column":58}},"295":{"start":{"line":638,"column":56},"end":{"line":641,"column":58}},"296":{"start":{"line":643,"column":52},"end":{"line":647,"column":53}},"297":{"start":{"line":644,"column":56},"end":{"line":644,"column":81}},"298":{"start":{"line":646,"column":56},"end":{"line":646,"column":74}},"299":{"start":{"line":660,"column":8},"end":{"line":660,"column":28}},"300":{"start":{"line":664,"column":4},"end":{"line":775,"column":6}},"301":{"start":{"line":666,"column":8},"end":{"line":666,"column":88}},"302":{"start":{"line":667,"column":8},"end":{"line":774,"column":11}},"303":{"start":{"line":668,"column":12},"end":{"line":668,"column":112}},"304":{"start":{"line":669,"column":12},"end":{"line":669,"column":57}},"305":{"start":{"line":670,"column":12},"end":{"line":670,"column":70}},"306":{"start":{"line":672,"column":12},"end":{"line":691,"column":13}},"307":{"start":{"line":674,"column":16},"end":{"line":689,"column":17}},"308":{"start":{"line":677,"column":20},"end":{"line":688,"column":21}},"309":{"start":{"line":678,"column":24},"end":{"line":687,"column":25}},"310":{"start":{"line":679,"column":28},"end":{"line":686,"column":29}},"311":{"start":{"line":680,"column":32},"end":{"line":685,"column":33}},"312":{"start":{"line":681,"column":36},"end":{"line":684,"column":37}},"313":{"start":{"line":682,"column":40},"end":{"line":682,"column":97}},"314":{"start":{"line":683,"column":40},"end":{"line":683,"column":109}},"315":{"start":{"line":690,"column":16},"end":{"line":690,"column":29}},"316":{"start":{"line":693,"column":12},"end":{"line":693,"column":71}},"317":{"start":{"line":694,"column":12},"end":{"line":773,"column":13}},"318":{"start":{"line":696,"column":16},"end":{"line":698,"column":17}},"319":{"start":{"line":697,"column":20},"end":{"line":697,"column":55}},"320":{"start":{"line":701,"column":16},"end":{"line":769,"column":17}},"321":{"start":{"line":703,"column":20},"end":{"line":709,"column":21}},"322":{"start":{"line":704,"column":24},"end":{"line":704,"column":81}},"323":{"start":{"line":705,"column":24},"end":{"line":705,"column":37}},"324":{"start":{"line":707,"column":24},"end":{"line":707,"column":82}},"325":{"start":{"line":708,"column":24},"end":{"line":708,"column":37}},"326":{"start":{"line":710,"column":23},"end":{"line":769,"column":17}},"327":{"start":{"line":712,"column":20},"end":{"line":718,"column":21}},"328":{"start":{"line":713,"column":24},"end":{"line":713,"column":79}},"329":{"start":{"line":714,"column":24},"end":{"line":714,"column":37}},"330":{"start":{"line":716,"column":24},"end":{"line":716,"column":80}},"331":{"start":{"line":717,"column":24},"end":{"line":717,"column":37}},"332":{"start":{"line":719,"column":23},"end":{"line":769,"column":17}},"333":{"start":{"line":720,"column":20},"end":{"line":720,"column":74}},"334":{"start":{"line":721,"column":20},"end":{"line":721,"column":33}},"335":{"start":{"line":722,"column":23},"end":{"line":769,"column":17}},"336":{"start":{"line":724,"column":20},"end":{"line":726,"column":21}},"337":{"start":{"line":725,"column":24},"end":{"line":725,"column":37}},"338":{"start":{"line":727,"column":20},"end":{"line":730,"column":21}},"339":{"start":{"line":729,"column":24},"end":{"line":729,"column":37}},"340":{"start":{"line":733,"column":20},"end":{"line":734,"column":83}},"341":{"start":{"line":736,"column":20},"end":{"line":736,"column":53}},"342":{"start":{"line":738,"column":20},"end":{"line":738,"column":75}},"343":{"start":{"line":739,"column":20},"end":{"line":739,"column":33}},"344":{"start":{"line":742,"column":20},"end":{"line":744,"column":21}},"345":{"start":{"line":743,"column":24},"end":{"line":743,"column":37}},"346":{"start":{"line":745,"column":20},"end":{"line":748,"column":21}},"347":{"start":{"line":747,"column":24},"end":{"line":747,"column":37}},"348":{"start":{"line":751,"column":20},"end":{"line":768,"column":21}},"349":{"start":{"line":753,"column":24},"end":{"line":754,"column":87}},"350":{"start":{"line":755,"column":24},"end":{"line":755,"column":57}},"351":{"start":{"line":757,"column":24},"end":{"line":757,"column":79}},"352":{"start":{"line":758,"column":24},"end":{"line":758,"column":37}},"353":{"start":{"line":759,"column":27},"end":{"line":768,"column":21}},"354":{"start":{"line":760,"column":24},"end":{"line":760,"column":50}},"355":{"start":{"line":761,"column":24},"end":{"line":761,"column":72}},"356":{"start":{"line":762,"column":24},"end":{"line":762,"column":37}},"357":{"start":{"line":764,"column":24},"end":{"line":764,"column":50}},"358":{"start":{"line":765,"column":24},"end":{"line":765,"column":72}},"359":{"start":{"line":766,"column":24},"end":{"line":766,"column":37}},"360":{"start":{"line":772,"column":16},"end":{"line":772,"column":67}},"361":{"start":{"line":778,"column":4},"end":{"line":778,"column":37}},"362":{"start":{"line":780,"column":4},"end":{"line":780,"column":24}},"363":{"start":{"line":783,"column":0},"end":{"line":783,"column":26}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":30},"end":{"line":11,"column":43}},{"start":{"line":11,"column":47},"end":{"line":11,"column":49}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":16},"end":{"line":39,"column":16}},{"start":{"line":39,"column":16},"end":{"line":39,"column":16}}]},"5":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":20},"end":{"line":40,"column":20}},{"start":{"line":40,"column":20},"end":{"line":40,"column":20}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"7":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":25}},{"start":{"line":49,"column":29},"end":{"line":49,"column":45}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":15},"end":{"line":51,"column":15}},{"start":{"line":51,"column":15},"end":{"line":51,"column":15}}]},"9":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"10":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":69,"column":8}},{"start":{"line":69,"column":8},"end":{"line":69,"column":8}}]},"11":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":29}},{"start":{"line":69,"column":33},"end":{"line":69,"column":59}},{"start":{"line":70,"column":12},"end":{"line":70,"column":42}},{"start":{"line":70,"column":46},"end":{"line":70,"column":70}}]},"12":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":12}},{"start":{"line":75,"column":12},"end":{"line":75,"column":12}}]},"13":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"14":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]},"15":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":8}},{"start":{"line":125,"column":8},"end":{"line":125,"column":8}}]},"16":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":12},"end":{"line":125,"column":46}},{"start":{"line":125,"column":50},"end":{"line":125,"column":70}},{"start":{"line":125,"column":74},"end":{"line":125,"column":93}}]},"17":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":22},"end":{"line":149,"column":37}},{"start":{"line":149,"column":42},"end":{"line":149,"column":54}},{"start":{"line":149,"column":58},"end":{"line":149,"column":73}},{"start":{"line":149,"column":78},"end":{"line":149,"column":82}}]},"18":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":12}},{"start":{"line":151,"column":12},"end":{"line":151,"column":12}}]},"19":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":16},"end":{"line":154,"column":16}},{"start":{"line":154,"column":16},"end":{"line":154,"column":16}}]},"20":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":28},"end":{"line":157,"column":28}},{"start":{"line":157,"column":28},"end":{"line":157,"column":28}}]},"21":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":24},"end":{"line":165,"column":24}},{"start":{"line":165,"column":24},"end":{"line":165,"column":24}}]},"22":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":179,"column":8}},{"start":{"line":179,"column":8},"end":{"line":179,"column":8}}]},"23":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"24":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":12},"end":{"line":191,"column":12}},{"start":{"line":191,"column":12},"end":{"line":191,"column":12}}]},"25":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":19},"end":{"line":194,"column":19}},{"start":{"line":194,"column":19},"end":{"line":194,"column":19}}]},"26":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":16},"end":{"line":197,"column":16}},{"start":{"line":197,"column":16},"end":{"line":197,"column":16}}]},"27":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":16},"end":{"line":212,"column":16}},{"start":{"line":212,"column":16},"end":{"line":212,"column":16}}]},"28":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":20},"end":{"line":214,"column":20}},{"start":{"line":214,"column":20},"end":{"line":214,"column":20}}]},"29":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":12},"end":{"line":228,"column":12}},{"start":{"line":228,"column":12},"end":{"line":228,"column":12}}]},"30":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":19},"end":{"line":232,"column":19}},{"start":{"line":232,"column":19},"end":{"line":232,"column":19}}]},"31":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":19},"end":{"line":236,"column":19}},{"start":{"line":236,"column":19},"end":{"line":236,"column":19}}]},"32":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":19},"end":{"line":239,"column":19}},{"start":{"line":239,"column":19},"end":{"line":239,"column":19}}]},"33":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":8},"end":{"line":269,"column":8}},{"start":{"line":269,"column":8},"end":{"line":269,"column":8}}]},"34":{"line":287,"type":"if","locations":[{"start":{"line":287,"column":8},"end":{"line":287,"column":8}},{"start":{"line":287,"column":8},"end":{"line":287,"column":8}}]},"35":{"line":287,"type":"binary-expr","locations":[{"start":{"line":287,"column":12},"end":{"line":287,"column":37}},{"start":{"line":287,"column":41},"end":{"line":287,"column":64}}]},"36":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":15},"end":{"line":290,"column":15}},{"start":{"line":290,"column":15},"end":{"line":290,"column":15}}]},"37":{"line":290,"type":"binary-expr","locations":[{"start":{"line":290,"column":19},"end":{"line":290,"column":51}},{"start":{"line":290,"column":55},"end":{"line":290,"column":89}},{"start":{"line":290,"column":93},"end":{"line":290,"column":125}}]},"38":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":12},"end":{"line":294,"column":12}},{"start":{"line":294,"column":12},"end":{"line":294,"column":12}}]},"39":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":8},"end":{"line":349,"column":8}},{"start":{"line":349,"column":8},"end":{"line":349,"column":8}}]},"40":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":8},"end":{"line":352,"column":8}},{"start":{"line":352,"column":8},"end":{"line":352,"column":8}}]},"41":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":8},"end":{"line":358,"column":8}},{"start":{"line":358,"column":8},"end":{"line":358,"column":8}}]},"42":{"line":358,"type":"binary-expr","locations":[{"start":{"line":358,"column":12},"end":{"line":358,"column":31}},{"start":{"line":358,"column":35},"end":{"line":358,"column":64}},{"start":{"line":358,"column":68},"end":{"line":358,"column":108}}]},"43":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":16},"end":{"line":374,"column":16}},{"start":{"line":374,"column":16},"end":{"line":374,"column":16}}]},"44":{"line":385,"type":"cond-expr","locations":[{"start":{"line":385,"column":54},"end":{"line":385,"column":82}},{"start":{"line":385,"column":85},"end":{"line":385,"column":104}}]},"45":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":8},"end":{"line":390,"column":8}},{"start":{"line":390,"column":8},"end":{"line":390,"column":8}}]},"46":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":8},"end":{"line":393,"column":8}},{"start":{"line":393,"column":8},"end":{"line":393,"column":8}}]},"47":{"line":396,"type":"if","locations":[{"start":{"line":396,"column":12},"end":{"line":396,"column":12}},{"start":{"line":396,"column":12},"end":{"line":396,"column":12}}]},"48":{"line":416,"type":"if","locations":[{"start":{"line":416,"column":8},"end":{"line":416,"column":8}},{"start":{"line":416,"column":8},"end":{"line":416,"column":8}}]},"49":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":8},"end":{"line":420,"column":8}},{"start":{"line":420,"column":8},"end":{"line":420,"column":8}}]},"50":{"line":424,"type":"if","locations":[{"start":{"line":424,"column":8},"end":{"line":424,"column":8}},{"start":{"line":424,"column":8},"end":{"line":424,"column":8}}]},"51":{"line":431,"type":"cond-expr","locations":[{"start":{"line":431,"column":58},"end":{"line":431,"column":86}},{"start":{"line":431,"column":89},"end":{"line":431,"column":108}}]},"52":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":16},"end":{"line":437,"column":16}},{"start":{"line":437,"column":16},"end":{"line":437,"column":16}}]},"53":{"line":437,"type":"binary-expr","locations":[{"start":{"line":437,"column":20},"end":{"line":437,"column":26}},{"start":{"line":437,"column":30},"end":{"line":437,"column":56}}]},"54":{"line":439,"type":"if","locations":[{"start":{"line":439,"column":20},"end":{"line":439,"column":20}},{"start":{"line":439,"column":20},"end":{"line":439,"column":20}}]},"55":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":24},"end":{"line":440,"column":24}},{"start":{"line":440,"column":24},"end":{"line":440,"column":24}}]},"56":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":24},"end":{"line":442,"column":24}},{"start":{"line":442,"column":24},"end":{"line":442,"column":24}}]},"57":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":20},"end":{"line":445,"column":20}},{"start":{"line":445,"column":20},"end":{"line":445,"column":20}}]},"58":{"line":477,"type":"if","locations":[{"start":{"line":477,"column":12},"end":{"line":477,"column":12}},{"start":{"line":477,"column":12},"end":{"line":477,"column":12}}]},"59":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":16},"end":{"line":484,"column":16}},{"start":{"line":484,"column":16},"end":{"line":484,"column":16}}]},"60":{"line":492,"type":"if","locations":[{"start":{"line":492,"column":16},"end":{"line":492,"column":16}},{"start":{"line":492,"column":16},"end":{"line":492,"column":16}}]},"61":{"line":493,"type":"if","locations":[{"start":{"line":493,"column":20},"end":{"line":493,"column":20}},{"start":{"line":493,"column":20},"end":{"line":493,"column":20}}]},"62":{"line":519,"type":"if","locations":[{"start":{"line":519,"column":24},"end":{"line":519,"column":24}},{"start":{"line":519,"column":24},"end":{"line":519,"column":24}}]},"63":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":28},"end":{"line":520,"column":28}},{"start":{"line":520,"column":28},"end":{"line":520,"column":28}}]},"64":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":32},"end":{"line":538,"column":32}},{"start":{"line":538,"column":32},"end":{"line":538,"column":32}}]},"65":{"line":552,"type":"if","locations":[{"start":{"line":552,"column":32},"end":{"line":552,"column":32}},{"start":{"line":552,"column":32},"end":{"line":552,"column":32}}]},"66":{"line":560,"type":"if","locations":[{"start":{"line":560,"column":32},"end":{"line":560,"column":32}},{"start":{"line":560,"column":32},"end":{"line":560,"column":32}}]},"67":{"line":573,"type":"if","locations":[{"start":{"line":573,"column":36},"end":{"line":573,"column":36}},{"start":{"line":573,"column":36},"end":{"line":573,"column":36}}]},"68":{"line":575,"type":"if","locations":[{"start":{"line":575,"column":40},"end":{"line":575,"column":40}},{"start":{"line":575,"column":40},"end":{"line":575,"column":40}}]},"69":{"line":582,"type":"if","locations":[{"start":{"line":582,"column":40},"end":{"line":582,"column":40}},{"start":{"line":582,"column":40},"end":{"line":582,"column":40}}]},"70":{"line":588,"type":"if","locations":[{"start":{"line":588,"column":40},"end":{"line":588,"column":40}},{"start":{"line":588,"column":40},"end":{"line":588,"column":40}}]},"71":{"line":596,"type":"if","locations":[{"start":{"line":596,"column":52},"end":{"line":596,"column":52}},{"start":{"line":596,"column":52},"end":{"line":596,"column":52}}]},"72":{"line":606,"type":"if","locations":[{"start":{"line":606,"column":44},"end":{"line":606,"column":44}},{"start":{"line":606,"column":44},"end":{"line":606,"column":44}}]},"73":{"line":622,"type":"if","locations":[{"start":{"line":622,"column":48},"end":{"line":622,"column":48}},{"start":{"line":622,"column":48},"end":{"line":622,"column":48}}]},"74":{"line":625,"type":"if","locations":[{"start":{"line":625,"column":52},"end":{"line":625,"column":52}},{"start":{"line":625,"column":52},"end":{"line":625,"column":52}}]},"75":{"line":632,"type":"if","locations":[{"start":{"line":632,"column":52},"end":{"line":632,"column":52}},{"start":{"line":632,"column":52},"end":{"line":632,"column":52}}]},"76":{"line":643,"type":"if","locations":[{"start":{"line":643,"column":52},"end":{"line":643,"column":52}},{"start":{"line":643,"column":52},"end":{"line":643,"column":52}}]},"77":{"line":672,"type":"if","locations":[{"start":{"line":672,"column":12},"end":{"line":672,"column":12}},{"start":{"line":672,"column":12},"end":{"line":672,"column":12}}]},"78":{"line":674,"type":"if","locations":[{"start":{"line":674,"column":16},"end":{"line":674,"column":16}},{"start":{"line":674,"column":16},"end":{"line":674,"column":16}}]},"79":{"line":678,"type":"if","locations":[{"start":{"line":678,"column":24},"end":{"line":678,"column":24}},{"start":{"line":678,"column":24},"end":{"line":678,"column":24}}]},"80":{"line":681,"type":"if","locations":[{"start":{"line":681,"column":36},"end":{"line":681,"column":36}},{"start":{"line":681,"column":36},"end":{"line":681,"column":36}}]},"81":{"line":681,"type":"binary-expr","locations":[{"start":{"line":681,"column":40},"end":{"line":681,"column":92}},{"start":{"line":681,"column":96},"end":{"line":681,"column":171}}]},"82":{"line":694,"type":"if","locations":[{"start":{"line":694,"column":12},"end":{"line":694,"column":12}},{"start":{"line":694,"column":12},"end":{"line":694,"column":12}}]},"83":{"line":696,"type":"if","locations":[{"start":{"line":696,"column":16},"end":{"line":696,"column":16}},{"start":{"line":696,"column":16},"end":{"line":696,"column":16}}]},"84":{"line":701,"type":"if","locations":[{"start":{"line":701,"column":16},"end":{"line":701,"column":16}},{"start":{"line":701,"column":16},"end":{"line":701,"column":16}}]},"85":{"line":701,"type":"binary-expr","locations":[{"start":{"line":701,"column":20},"end":{"line":701,"column":35}},{"start":{"line":701,"column":39},"end":{"line":701,"column":72}}]},"86":{"line":703,"type":"if","locations":[{"start":{"line":703,"column":20},"end":{"line":703,"column":20}},{"start":{"line":703,"column":20},"end":{"line":703,"column":20}}]},"87":{"line":710,"type":"if","locations":[{"start":{"line":710,"column":23},"end":{"line":710,"column":23}},{"start":{"line":710,"column":23},"end":{"line":710,"column":23}}]},"88":{"line":710,"type":"binary-expr","locations":[{"start":{"line":710,"column":27},"end":{"line":710,"column":42}},{"start":{"line":710,"column":46},"end":{"line":710,"column":77}}]},"89":{"line":712,"type":"if","locations":[{"start":{"line":712,"column":20},"end":{"line":712,"column":20}},{"start":{"line":712,"column":20},"end":{"line":712,"column":20}}]},"90":{"line":719,"type":"if","locations":[{"start":{"line":719,"column":23},"end":{"line":719,"column":23}},{"start":{"line":719,"column":23},"end":{"line":719,"column":23}}]},"91":{"line":722,"type":"if","locations":[{"start":{"line":722,"column":23},"end":{"line":722,"column":23}},{"start":{"line":722,"column":23},"end":{"line":722,"column":23}}]},"92":{"line":724,"type":"if","locations":[{"start":{"line":724,"column":20},"end":{"line":724,"column":20}},{"start":{"line":724,"column":20},"end":{"line":724,"column":20}}]},"93":{"line":724,"type":"binary-expr","locations":[{"start":{"line":724,"column":24},"end":{"line":724,"column":55}},{"start":{"line":724,"column":59},"end":{"line":724,"column":73}}]},"94":{"line":727,"type":"if","locations":[{"start":{"line":727,"column":20},"end":{"line":727,"column":20}},{"start":{"line":727,"column":20},"end":{"line":727,"column":20}}]},"95":{"line":742,"type":"if","locations":[{"start":{"line":742,"column":20},"end":{"line":742,"column":20}},{"start":{"line":742,"column":20},"end":{"line":742,"column":20}}]},"96":{"line":742,"type":"binary-expr","locations":[{"start":{"line":742,"column":24},"end":{"line":742,"column":55}},{"start":{"line":742,"column":59},"end":{"line":742,"column":73}}]},"97":{"line":745,"type":"if","locations":[{"start":{"line":745,"column":20},"end":{"line":745,"column":20}},{"start":{"line":745,"column":20},"end":{"line":745,"column":20}}]},"98":{"line":751,"type":"if","locations":[{"start":{"line":751,"column":20},"end":{"line":751,"column":20}},{"start":{"line":751,"column":20},"end":{"line":751,"column":20}}]},"99":{"line":759,"type":"if","locations":[{"start":{"line":759,"column":27},"end":{"line":759,"column":27}},{"start":{"line":759,"column":27},"end":{"line":759,"column":27}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var request = require('request');","var express = require('express');","var bodyParser = require('body-parser');","var querystring = require('querystring');","var async = require('async');","","function Slackbot(configuration) {","","    // Create a core botkit bot","    var slack_botkit = Botkit(configuration || {});","","    // Set some default configurations unless they've already been set.","","    // Should the RTM connections ingest received messages","    // Developers using the new Events API will set this to false","    // This allows an RTM connection to be kept alive (so bot appears online)","    // but receive messages only via events api","    if (slack_botkit.config.rtm_receive_messages === undefined) {","        slack_botkit.config.rtm_receive_messages = true;","    }","","    var spawned_bots = [];","","    // customize the bot definition, which will be used when new connections","    // spawn!","    slack_botkit.defineBot(require(__dirname + '/Slackbot_worker.js'));","","    // Middleware to track spawned bots and connect existing RTM bots to incoming webhooks","    slack_botkit.middleware.spawn.use(function(worker, next) {","","        // lets first check and make sure we don't already have a bot","        // for this team! If we already have an RTM connection, copy it","        // into the new bot so it can be used for replies.","","        var existing_bot = null;","        if (worker.config.id) {","            for (var b = 0; b < spawned_bots.length; b++) {","                if (spawned_bots[b].config.id) {","                    if (spawned_bots[b].config.id == worker.config.id) {","                        // WAIT! We already have a bot spawned here.","                        // so instead of using the new one, use the exist one.","                        existing_bot = spawned_bots[b];","                    }","                }","            }","        }","","        if (!existing_bot && worker.config.id) {","            spawned_bots.push(worker);","        } else if (existing_bot) {","            if (existing_bot.rtm) {","                worker.rtm = existing_bot.rtm;","            }","        }","        next();","","    });","","","","    // set up configuration for oauth","    // slack_app_config should contain","    // { clientId, clientSecret, scopes}","    // https://api.slack.com/docs/oauth-scopes","    slack_botkit.configureSlackApp = function(slack_app_config, cb) {","","        slack_botkit.log('** Configuring app as a Slack App!');","        if (!slack_app_config || !slack_app_config.clientId ||","            !slack_app_config.clientSecret || !slack_app_config.scopes) {","            throw new Error('Missing oauth config details');","        } else {","            slack_botkit.config.clientId = slack_app_config.clientId;","            slack_botkit.config.clientSecret = slack_app_config.clientSecret;","            if (slack_app_config.redirectUri) slack_botkit.config.redirectUri = slack_app_config.redirectUri;","            if (typeof(slack_app_config.scopes) == 'string') {","                slack_botkit.config.scopes = slack_app_config.scopes.split(/\\,/);","            } else {","                slack_botkit.config.scopes = slack_app_config.scopes;","            }","            if (cb) cb(null);","        }","","        return slack_botkit;","","    };","","    // set up a web route that is a landing page","    slack_botkit.createHomepageEndpoint = function(webserver) {","","        slack_botkit.log('** Serving app landing page at : http://' +","            slack_botkit.config.hostname + ':' + slack_botkit.config.port + '/');","","        // FIX THIS!!!","        // this is obvs not right.","        webserver.get('/', function(req, res) {","","            res.send('Howdy!');","","        });","","        return slack_botkit;","","    };","","","    // adds the webhook authentication middleware module to the webserver","    function secureWebhookEndpoints() {","        var authenticationMiddleware = require(__dirname + '/middleware/slack_authentication.js');","        // convert a variable argument list to an array, drop the webserver argument","        var tokens = Array.prototype.slice.call(arguments);","        var webserver = tokens.shift();","","        slack_botkit.log(","            '** Requiring token authentication for webhook endpoints for Slash commands ' +","            'and outgoing webhooks; configured ' + tokens.length + ' token(s)'","        );","","        webserver.use(authenticationMiddleware(tokens));","    }","","    // set up a web route for receiving outgoing webhooks and/or slash commands","    slack_botkit.createWebhookEndpoints = function(webserver, authenticationTokens) {","","        if (authenticationTokens !== undefined && arguments.length > 1 && arguments[1].length) {","            secureWebhookEndpoints.apply(null, arguments);","        }","","        slack_botkit.log(","            '** Serving webhook endpoints for Slash commands and outgoing ' +","            'webhooks at: http://' + slack_botkit.config.hostname + ':' + slack_botkit.config.port + '/slack/receive');","        webserver.post('/slack/receive', function(req, res) {","","            // respond to Slack that the webhook has been received.","            res.status(200);","","            // Now, pass the webhook into be processed","            slack_botkit.handleWebhookPayload(req, res);","","        });","","        return slack_botkit;","    };","","    slack_botkit.findAppropriateTeam = function(payload, cb) {","","        var found_team = null;","","        var team_id = payload.team_id || (payload.team && payload.team.id) || null;","        slack_botkit.findTeamById(team_id, function(err, team) {","            if (team) {","                cb(err, team);","            } else {","                if (payload.authed_teams) {","                    async.eachSeries(payload.authed_teams, function(team_id, next) {","                        slack_botkit.findTeamById(team_id, function(err, team) {","                            if (team) {","                                found_team = team;","                                next();","                            } else {","                                next(err);","                            }","                        });","                    }, function(err) {","                        if (!found_team) {","                            cb(err);","                        } else {","                            cb(null, found_team);","                        }","                    });","                }","            }","        });","    };","","    slack_botkit.handleWebhookPayload = function(req, res) {","","        // is this an events api url handshake?","        if (req.body.type === 'url_verification') {","            slack_botkit.debug('Received url handshake');","            res.json({ challenge: req.body.challenge });","            return;","        }","","        var payload = req.body;","        if (payload.payload) {","            payload = JSON.parse(payload.payload);","        }","","        slack_botkit.findAppropriateTeam(payload, function(err, team) {","            if (err) {","                slack_botkit.log.error('Could not load team while processing webhook: ', err);","                return;","            } else if (!team) {","                // if this is NOT a slack app, it is ok to spawn a generic bot","                // this is only likely to happen with custom slash commands","                if (!slack_botkit.config.clientId) {","                    bot = slack_botkit.spawn({});","                } else {","                    return;","                }","            } else {","                // spawn a bot","                bot = slack_botkit.spawn(team);","","                // Identify the bot from either team storage or identifyBot()","                bot.team_info = team;","","                // The bot identity is only used in handleEventsAPI during this flow","                // Recent changes in Slack will break other integrations as they no longer","                // require a bot and therefore Slack won't send the bot information.","                if (payload.type === 'event_callback') {","","                    if (!team.bot) {","                        slack_botkit.log.error('No bot identity found.');","                        return;","                    }","","                    bot.identity = {","                        id: team.bot.user_id,","                        name: team.bot.name","                    };","                }","            }","","            bot.res = res;","","            if (payload.type === 'event_callback') {","                // Receive messages and trigger events from the Events API","                res.send('');","                return handleEventsAPI(payload, bot);","            } else if (payload.callback_id) {","                // is this an interactive message callback?","                res.send('');","                return handleInteractiveMessage(payload, bot);","            } else if (payload.command) {","                // this is a slash command","                return handleSlashCommand(payload, bot);","            } else if (payload.trigger_word) {","                return handleOutgoingWebhook(payload, bot);","            }","        });","    };","","    /* Handler functions for the various ways Slack might send a message to","     * Botkit via webhooks.  These include interactive messages (button clicks),","     * events api (messages sent over web hook), slash commands, and outgoing webhooks","     * (patterns matched in slack that result in a webhook)","     */","    function handleInteractiveMessage(payload, bot) {","","        var message = {};","        for (var key in payload) {","            message[key] = payload[key];","        }","","        // let's normalize some of these fields to match the rtm message format","        message.user = message.user.id;","        message.channel = message.channel.id;","","        // put the action value in the text field","        // this allows button clicks to respond to asks","        message.text = message.actions[0].value;","","        message.type = 'interactive_message_callback';","","        slack_botkit.trigger('interactive_message_callback', [bot, message]);","","        if (configuration.interactive_replies) {","            message.type = 'message';","            slack_botkit.receiveMessage(bot, message);","        }","    }","","    function handleEventsAPI(payload, bot) {","","        var message = {};","        for (var key in payload.event) {","            message[key] = payload.event[key];","        }","","        // let's normalize some of these fields to match the rtm message format","        message.team = payload.team_id;","        message.events_api = true;","        message.authed_users = payload.authed_users;","","        if (bot.identity == undefined || bot.identity.id == null) {","            slack_botkit.log.error('Could not identify bot');","            return;","        } else if (bot.identity.id === message.user && message.subtype !== 'channel_join' && message.subtype !== 'group_join') {","            slack_botkit.debug('Got event from this bot user, ignoring it');","            return;","        } else {","            if (message.type === 'message') {","                slack_botkit.receiveMessage(bot, message);","            } else {","                slack_botkit.trigger(message.type, [bot, message]);","            }","        }","    };","","    function handleSlashCommand(payload, bot) {","        var message = {};","","        for (var key in payload) {","            message[key] = payload[key];","        }","","        // let's normalize some of these fields to match the rtm message format","        message.user = message.user_id;","        message.channel = message.channel_id;","","        message.type = 'slash_command';","","        slack_botkit.receiveMessage(bot, message);","    }","","    function handleOutgoingWebhook(payload, bot) {","        var message = {};","","        for (var key in payload) {","            message[key] = payload[key];","        }","","        // let's normalize some of these fields to match the rtm message format","        message.user = message.user_id;","        message.channel = message.channel_id;","","        message.type = 'outgoing_webhook';","","        slack_botkit.receiveMessage(bot, message);","    };","","    /* End of webhook handler functions","     * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */","","    slack_botkit.saveTeam = function(team, cb) {","        slack_botkit.storage.teams.save(team, cb);","    };","","    // look up a team's memory and configuration and return it, or","    // return an error!","    slack_botkit.findTeamById = function(id, cb) {","        slack_botkit.storage.teams.get(id, cb);","    };","","    slack_botkit.setupWebserver = function(port, cb) {","","        if (!port) {","            throw new Error('Cannot start webserver without a port');","        }","        if (isNaN(port)) {","            throw new Error('Specified port is not a valid number');","        }","","        var static_dir =  process.cwd() + '/public';","","        if (slack_botkit.config && slack_botkit.config.webserver && slack_botkit.config.webserver.static_dir)","            static_dir = slack_botkit.config.webserver.static_dir;","","        slack_botkit.config.port = port;","","        slack_botkit.webserver = express();","        slack_botkit.webserver.use(bodyParser.json());","        slack_botkit.webserver.use(bodyParser.urlencoded({ extended: true }));","        slack_botkit.webserver.use(express.static(static_dir));","","        var server = slack_botkit.webserver.listen(","            slack_botkit.config.port,","            slack_botkit.config.hostname,","            function() {","                slack_botkit.log('** Starting webserver on port ' +","                    slack_botkit.config.port);","                if (cb) { cb(null, slack_botkit.webserver); }","            });","","        return slack_botkit;","","    };","","    // get a team url to redirect the user through oauth process","    slack_botkit.getAuthorizeURL = function(team_id, redirect_params) {","","        var scopes = slack_botkit.config.scopes;","        var api_root = slack_botkit.config.api_root ? slack_botkit.config.api_root : 'https://slack.com';","","        var url = api_root + '/oauth/authorize' + '?client_id=' +","            slack_botkit.config.clientId + '&scope=' + scopes.join(',') + '&state=botkit';","","        if (team_id)","            url += '&team=' + team_id;","","        if (slack_botkit.config.redirectUri) {","            var redirect_query = '';","            var redirect_uri = slack_botkit.config.redirectUri;","            if (redirect_params) {","                redirect_query += encodeURIComponent(querystring.stringify(redirect_params));","                redirect_uri = redirect_uri + '?' + redirect_query;","            }","            url += '&redirect_uri=' + redirect_uri;","        }","","        return url;","","    };","","    // set up a web route for redirecting users","    // and collecting authentication details","    // https://api.slack.com/docs/oauth","    // https://api.slack.com/docs/oauth-scopes","    slack_botkit.createOauthEndpoints = function(webserver, callback) {","","        slack_botkit.log('** Serving login URL: http://' +","            slack_botkit.config.hostname + ':' + slack_botkit.config.port + '/login');","","        if (!slack_botkit.config.clientId) {","            throw new Error(","                'Cannot create oauth endpoints without calling configureSlackApp() with a clientId first');","        }","        if (!slack_botkit.config.clientSecret) {","            throw new Error(","                'Cannot create oauth endpoints without calling configureSlackApp() with a clientSecret first');","        }","        if (!slack_botkit.config.scopes) {","            throw new Error(","                'Cannot create oauth endpoints without calling configureSlackApp() with a list of scopes first');","        }","","        var call_api = function(command, options, cb) {","","            var api_root = slack_botkit.config.api_root ? slack_botkit.config.api_root : 'https://slack.com';","","","            slack_botkit.log('** API CALL: ' + api_root + '/api/' + command);","            request.post(api_root + '/api/' + command, function(error, response, body) {","                slack_botkit.debug('Got response', error, body);","                if (!error && response.statusCode == 200) {","                    var json = JSON.parse(body);","                    if (json.ok) {","                        if (cb) cb(null, json);","                    } else {","                        if (cb) cb(json.error, json);","                    }","                } else {","                    if (cb) cb(error);","                }","            }).form(options);","        };","","        var oauth_access = function(options, cb) {","            call_api('oauth.access', options, cb);","        };","","        var auth_test = function(options, cb) {","            call_api('auth.test', options, cb);","        };","","        webserver.get('/login', function(req, res) {","            res.redirect(slack_botkit.getAuthorizeURL());","        });","","        slack_botkit.log('** Serving oauth return endpoint: http://' +","            slack_botkit.config.hostname + ':' + slack_botkit.config.port + '/oauth');","","        webserver.get('/oauth', function(req, res) {","","            var code = req.query.code;","            var state = req.query.state;","","            var opts = {","                client_id: slack_botkit.config.clientId,","                client_secret: slack_botkit.config.clientSecret,","                code: code","            };","","            var redirect_params = {};","            if (slack_botkit.config.redirectUri) {","                Object.assign(redirect_params, req.query);","                delete redirect_params.code;","                delete redirect_params.state;","","                var redirect_query = querystring.stringify(redirect_params);","                var redirect_uri = slack_botkit.config.redirectUri;","                if (redirect_query) {","                    redirect_uri = redirect_uri + '?' + redirect_query;","                }","                opts.redirect_uri = redirect_uri;","            }","","            oauth_access(opts, function(err, auth) {","","                if (err) {","                    if (callback) {","                        callback(err, req, res);","                    } else {","                        res.status(500).send(err);","                    }","                    slack_botkit.trigger('oauth_error', [err]);","                } else {","","                    // auth contains at least:","                    // { access_token, scope, team_name}","                    // May also contain:","                    // { team_id } (not in incoming_webhook scope)","                    // info about incoming webhooks:","                    // { incoming_webhook: { url, channel, configuration_url} }","                    // might also include slash commands:","                    // { commands: ??}","","                    // what scopes did we get approved for?","                    var scopes = auth.scope.split(/\\,/);","","                    // temporarily use the token we got from the oauth","                    // we need to call auth.test to make sure the token is valid","                    // but also so that we reliably have the team_id field!","                    //slack_botkit.config.token = auth.access_token;","                    auth_test({token: auth.access_token}, function(err, identity) {","","                        if (err) {","                            if (callback) {","                                callback(err, req, res);","                            } else {","                                res.status(500).send(err);","                            }","","                            slack_botkit.trigger('oauth_error', [err]);","","                        } else {","                            req.identity = identity;","","                            // we need to deal with any team-level provisioning info","                            // like incoming webhooks and bot users","                            // and also with the personal access token from the user","","                            slack_botkit.findTeamById(identity.team_id, function(err, team) {","","                                var isnew = false;","                                if (!team) {","                                    isnew = true;","                                    team = {","                                        id: identity.team_id,","                                        createdBy: identity.user_id,","                                        url: identity.url,","                                        name: identity.team,","                                    };","                                }","","                                team.state = state;","","                                var bot = slack_botkit.spawn(team);","","                                if (auth.incoming_webhook) {","                                    auth.incoming_webhook.token = auth.access_token;","                                    auth.incoming_webhook.createdBy = identity.user_id;","                                    team.incoming_webhook = auth.incoming_webhook;","                                    bot.configureIncomingWebhook(team.incoming_webhook);","                                    slack_botkit.trigger('create_incoming_webhook', [bot, team.incoming_webhook]);","                                }","","                                if (auth.bot) {","","                                    team.bot = {","                                        token: auth.bot.bot_access_token,","                                        user_id: auth.bot.bot_user_id,","                                        createdBy: identity.user_id,","                                        app_token: auth.access_token,","                                    };","                                    bot.configureRTM(team.bot);","                                    slack_botkit.trigger('create_bot', [bot, team.bot]);","                                }","","                                slack_botkit.saveTeam(team, function(err, id) {","                                    if (err) {","                                        slack_botkit.log.error('An error occurred while saving a team: ', err);","                                        if (callback) {","                                            callback(err, req, res);","                                        } else {","                                            res.status(500).send(err);","                                        }","                                        slack_botkit.trigger('error', [err]);","                                    } else {","                                        if (isnew) {","                                            slack_botkit.trigger('create_team', [bot, team]);","                                        } else {","                                            slack_botkit.trigger('update_team', [bot, team]);","                                        }","","                                        if (team.bot) {","                                            // call auth test on the bot token","                                            // to capture its name","                                            auth_test({","                                                token: team.bot.token","                                            }, function(err, auth_data) {","                                                team.bot.name = auth_data.user;","                                                slack_botkit.saveTeam(team, function(err, id) {","                                                    if (err) {","                                                        slack_botkit.log.error('An error occurred while saving a team: ', err);","                                                    }","                                                });","","                                            });","                                        }","","                                        slack_botkit.storage.users.get(identity.user_id, function(err, user) {","                                            isnew = false;","                                            if (!user) {","                                                isnew = true;","                                                user = {","                                                    id: identity.user_id,","                                                    team_id: identity.team_id,","                                                    user: identity.user,","                                                };","                                            }","","                                            // Always update these because the token could become invalid","                                            // and scopes could change.","                                            user.access_token = auth.access_token;","                                            user.scopes = scopes;","","                                            slack_botkit.storage.users.save(user, function(err, id) {","","                                                if (err) {","                                                    slack_botkit.log.error(","                                                        'An error occurred while saving a user: ', err);","                                                    if (callback) {","                                                        callback(err, req, res);","                                                    } else {","                                                        res.status(500).send(err);","                                                    }","                                                    slack_botkit.trigger('error', [err]);","                                                } else {","                                                    if (isnew) {","                                                        slack_botkit.trigger(","                                                            'create_user',","                                                            [bot, user, redirect_params]","                                                        );","                                                    } else {","                                                        slack_botkit.trigger(","                                                            'update_user',","                                                            [bot, user, redirect_params]","                                                        );","                                                    }","                                                    if (callback) {","                                                        callback(null, req, res);","                                                    } else {","                                                        res.redirect('/');","                                                    }","                                                }","                                            });","                                        });","                                    }","                                });","                            });","                        }","                    });","                }","            });","        });","","        return slack_botkit;","","    };","","    slack_botkit.handleSlackEvents = function() {","","        slack_botkit.log('** Setting up custom handlers for processing Slack messages');","        slack_botkit.on('message_received', function(bot, message) {","            var mentionSyntax = '<@' + bot.identity.id + '(\\\\|' + bot.identity.name.replace('.', '\\\\.') + ')?>';","            var mention = new RegExp(mentionSyntax, 'i');","            var direct_mention = new RegExp('^' + mentionSyntax, 'i');","","            if (message.ok != undefined) {","                // this is a confirmation of something we sent.","                if (slack_botkit.config.require_delivery) {","                    // loop through all active conversations this bot is having","                    // and mark messages in conversations as delivered = true","                    for (var t = 0; t < slack_botkit.tasks.length; t++) {","                        if (slack_botkit.tasks[t].isActive()) {","                            for (var c = 0; c < slack_botkit.tasks[t].convos.length; c++) {","                                for (var s = 0; s < slack_botkit.tasks[t].convos[c].sent.length; s++) {","                                    if (slack_botkit.tasks[t].convos[c].sent[s].api_response && slack_botkit.tasks[t].convos[c].sent[s].api_response.id == message.reply_to) {","                                        slack_botkit.tasks[t].convos[c].sent[s].delivered = true;","                                        slack_botkit.tasks[t].convos[c].sent[s].api_response.ts = message.ts;","                                    }","                                }","                            }","                        }","                    }","                }","                return false;","            }","","            slack_botkit.debug('DEFAULT SLACK MSG RECEIVED RESPONDER');","            if ('message' == message.type) {","","                if (message.text) {","                    message.text = message.text.trim();","                }","","                // set up a couple of special cases based on subtype","                if (message.subtype && message.subtype == 'channel_join') {","                    // someone joined. maybe do something?","                    if (message.user == bot.identity.id) {","                        slack_botkit.trigger('bot_channel_join', [bot, message]);","                        return false;","                    } else {","                        slack_botkit.trigger('user_channel_join', [bot, message]);","                        return false;","                    }","                } else if (message.subtype && message.subtype == 'group_join') {","                    // someone joined. maybe do something?","                    if (message.user == bot.identity.id) {","                        slack_botkit.trigger('bot_group_join', [bot, message]);","                        return false;","                    } else {","                        slack_botkit.trigger('user_group_join', [bot, message]);","                        return false;","                    }","                } else if (message.subtype) {","                    slack_botkit.trigger(message.subtype, [bot, message]);","                    return false;","                } else if (message.channel.match(/^D/)) {","                    // this is a direct message","                    if (message.user == bot.identity.id && message.bot_id) {","                        return false;","                    }","                    if (!message.text) {","                        // message without text is probably an edit","                        return false;","                    }","","                    // remove direct mention so the handler doesn't have to deal with it","                    message.text = message.text.replace(direct_mention, '')","                    .replace(/^\\s+/, '').replace(/^\\:\\s+/, '').replace(/^\\s+/, '');","","                    message.event = 'direct_message';","","                    slack_botkit.trigger('direct_message', [bot, message]);","                    return false;","","                } else {","                    if (message.user == bot.identity.id && message.bot_id) {","                        return false;","                    }","                    if (!message.text) {","                        // message without text is probably an edit","                        return false;","                    }","","","                    if (message.text.match(direct_mention)) {","                        // this is a direct mention","                        message.text = message.text.replace(direct_mention, '')","                        .replace(/^\\s+/, '').replace(/^\\:\\s+/, '').replace(/^\\s+/, '');","                        message.event = 'direct_mention';","","                        slack_botkit.trigger('direct_mention', [bot, message]);","                        return false;","                    } else if (message.text.match(mention)) {","                        message.event = 'mention';","                        slack_botkit.trigger('mention', [bot, message]);","                        return false;","                    } else {","                        message.event = 'ambient';","                        slack_botkit.trigger('ambient', [bot, message]);","                        return false;","","                    }","                }","            } else {","                // this is a non-message object, so trigger a custom event based on the type","                slack_botkit.trigger(message.type, [bot, message]);","            }","        });","    };","","    // set up the RTM message handlers once","    slack_botkit.handleSlackEvents();","","    return slack_botkit;","};","","module.exports = Slackbot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"11":0,"19":0,"20":0,"23":0,"27":0,"30":0,"36":0,"37":0,"38":0,"39":0,"40":0,"43":0,"49":0,"50":0,"51":0,"52":0,"53":0,"56":0,"66":0,"68":0,"69":0,"71":0,"73":0,"74":0,"75":0,"76":0,"77":0,"79":0,"81":0,"84":0,"89":0,"91":0,"96":0,"98":0,"102":0,"108":1,"109":0,"111":0,"112":0,"114":0,"119":0,"123":0,"125":0,"126":0,"129":0,"132":0,"135":0,"138":0,"142":0,"145":0,"147":0,"149":0,"150":0,"151":0,"152":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"161":0,"165":0,"166":0,"168":0,"176":0,"179":0,"180":0,"181":0,"182":0,"185":0,"186":0,"187":0,"190":0,"191":0,"192":0,"193":0,"194":0,"197":0,"198":0,"200":0,"204":0,"207":0,"212":0,"214":0,"215":0,"216":0,"219":0,"226":0,"228":0,"230":0,"231":0,"232":0,"234":0,"235":0,"236":0,"238":0,"239":0,"240":0,"250":1,"252":0,"253":0,"254":0,"258":0,"259":0,"263":0,"265":0,"267":0,"269":0,"270":0,"271":0,"275":1,"277":0,"278":0,"279":0,"283":0,"284":0,"285":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"294":0,"295":0,"297":0,"302":1,"303":0,"305":0,"306":0,"310":0,"311":0,"313":0,"315":0,"318":1,"319":0,"321":0,"322":0,"326":0,"327":0,"329":0,"331":0,"337":0,"338":0,"343":0,"344":0,"347":0,"349":0,"350":0,"352":0,"353":0,"356":0,"358":0,"359":0,"361":0,"363":0,"364":0,"365":0,"366":0,"368":0,"372":0,"374":0,"377":0,"382":0,"384":0,"385":0,"387":0,"390":0,"391":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"400":0,"403":0,"411":0,"413":0,"416":0,"417":0,"420":0,"421":0,"424":0,"425":0,"429":0,"431":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"442":0,"445":0,"450":0,"451":0,"454":0,"455":0,"458":0,"459":0,"462":0,"465":0,"467":0,"468":0,"470":0,"476":0,"477":0,"478":0,"479":0,"480":0,"482":0,"483":0,"484":0,"485":0,"487":0,"490":0,"492":0,"493":0,"494":0,"496":0,"498":0,"511":0,"517":0,"519":0,"520":0,"521":0,"523":0,"526":0,"529":0,"535":0,"537":0,"538":0,"539":0,"540":0,"548":0,"550":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"560":0,"562":0,"568":0,"569":0,"572":0,"573":0,"574":0,"575":0,"576":0,"578":0,"580":0,"582":0,"583":0,"585":0,"588":0,"591":0,"594":0,"595":0,"596":0,"597":0,"604":0,"605":0,"606":0,"607":0,"608":0,"617":0,"618":0,"620":0,"622":0,"623":0,"625":0,"626":0,"628":0,"630":0,"632":0,"633":0,"638":0,"643":0,"644":0,"646":0,"660":0,"664":0,"666":0,"667":0,"668":0,"669":0,"670":0,"672":0,"674":0,"677":0,"678":0,"679":0,"680":0,"681":0,"682":0,"683":0,"690":0,"693":0,"694":0,"696":0,"697":0,"701":0,"703":0,"704":0,"705":0,"707":0,"708":0,"710":0,"712":0,"713":0,"714":0,"716":0,"717":0,"719":0,"720":0,"721":0,"722":0,"724":0,"725":0,"727":0,"729":0,"733":0,"736":0,"738":0,"739":0,"742":0,"743":0,"745":0,"747":0,"751":0,"753":0,"755":0,"757":0,"758":0,"759":0,"760":0,"761":0,"762":0,"764":0,"765":0,"766":0,"772":0,"778":0,"780":0,"783":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Facebook.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/Facebook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":1,"248":0,"249":0,"250":0,"251":1,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0},"fnMap":{"1":{"name":"Facebookbot","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":48},"end":{"line":16,"column":71}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":62}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":55}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":54}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":33},"end":{"line":55,"column":55}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":19},"end":{"line":60,"column":41}}},"8":{"name":"(anonymous_8)","line":89,"loc":{"start":{"line":89,"column":37},"end":{"line":89,"column":53}}},"9":{"name":"(anonymous_9)","line":98,"loc":{"start":{"line":98,"column":87},"end":{"line":98,"column":102}}},"10":{"name":"(anonymous_10)","line":141,"loc":{"start":{"line":141,"column":16},"end":{"line":141,"column":41}}},"11":{"name":"(anonymous_11)","line":159,"loc":{"start":{"line":159,"column":26},"end":{"line":159,"column":44}}},"12":{"name":"(anonymous_12)","line":166,"loc":{"start":{"line":166,"column":25},"end":{"line":166,"column":43}}},"13":{"name":"(anonymous_13)","line":173,"loc":{"start":{"line":173,"column":30},"end":{"line":173,"column":54}}},"14":{"name":"(anonymous_14)","line":189,"loc":{"start":{"line":189,"column":33},"end":{"line":189,"column":47}}},"15":{"name":"(anonymous_15)","line":191,"loc":{"start":{"line":191,"column":27},"end":{"line":191,"column":38}}},"16":{"name":"(anonymous_16)","line":199,"loc":{"start":{"line":199,"column":20},"end":{"line":199,"column":44}}},"17":{"name":"(anonymous_17)","line":213,"loc":{"start":{"line":213,"column":31},"end":{"line":213,"column":53}}},"18":{"name":"(anonymous_18)","line":234,"loc":{"start":{"line":234,"column":45},"end":{"line":234,"column":74}}},"19":{"name":"(anonymous_19)","line":239,"loc":{"start":{"line":239,"column":44},"end":{"line":239,"column":63}}},"20":{"name":"(anonymous_20)","line":244,"loc":{"start":{"line":244,"column":43},"end":{"line":244,"column":62}}},"21":{"name":"(anonymous_21)","line":261,"loc":{"start":{"line":261,"column":43},"end":{"line":261,"column":67}}},"22":{"name":"(anonymous_22)","line":375,"loc":{"start":{"line":375,"column":37},"end":{"line":375,"column":56}}},"23":{"name":"(anonymous_23)","line":404,"loc":{"start":{"line":404,"column":12},"end":{"line":404,"column":23}}},"24":{"name":"(anonymous_24)","line":412,"loc":{"start":{"line":412,"column":12},"end":{"line":412,"column":37}}},"25":{"name":"(anonymous_25)","line":426,"loc":{"start":{"line":426,"column":18},"end":{"line":426,"column":36}}},"26":{"name":"(anonymous_26)","line":440,"loc":{"start":{"line":440,"column":25},"end":{"line":440,"column":36}}},"27":{"name":"(anonymous_27)","line":443,"loc":{"start":{"line":443,"column":22},"end":{"line":443,"column":35}}},"28":{"name":"(anonymous_28)","line":446,"loc":{"start":{"line":446,"column":21},"end":{"line":446,"column":39}}},"29":{"name":"(anonymous_29)","line":454,"loc":{"start":{"line":454,"column":28},"end":{"line":454,"column":39}}},"30":{"name":"(anonymous_30)","line":457,"loc":{"start":{"line":457,"column":25},"end":{"line":457,"column":38}}},"31":{"name":"(anonymous_31)","line":460,"loc":{"start":{"line":460,"column":14},"end":{"line":460,"column":32}}},"32":{"name":"(anonymous_32)","line":466,"loc":{"start":{"line":466,"column":21},"end":{"line":466,"column":32}}},"33":{"name":"(anonymous_33)","line":469,"loc":{"start":{"line":469,"column":18},"end":{"line":469,"column":31}}},"34":{"name":"(anonymous_34)","line":472,"loc":{"start":{"line":472,"column":25},"end":{"line":472,"column":43}}},"35":{"name":"(anonymous_35)","line":478,"loc":{"start":{"line":478,"column":32},"end":{"line":478,"column":43}}},"36":{"name":"(anonymous_36)","line":481,"loc":{"start":{"line":481,"column":29},"end":{"line":481,"column":42}}},"37":{"name":"(anonymous_37)","line":484,"loc":{"start":{"line":484,"column":26},"end":{"line":484,"column":44}}},"38":{"name":"(anonymous_38)","line":490,"loc":{"start":{"line":490,"column":33},"end":{"line":490,"column":44}}},"39":{"name":"(anonymous_39)","line":493,"loc":{"start":{"line":493,"column":30},"end":{"line":493,"column":43}}},"40":{"name":"(anonymous_40)","line":496,"loc":{"start":{"line":496,"column":17},"end":{"line":496,"column":35}}},"41":{"name":"(anonymous_41)","line":499,"loc":{"start":{"line":499,"column":16},"end":{"line":499,"column":41}}},"42":{"name":"(anonymous_42)","line":521,"loc":{"start":{"line":521,"column":19},"end":{"line":521,"column":34}}},"43":{"name":"(anonymous_43)","line":527,"loc":{"start":{"line":527,"column":16},"end":{"line":527,"column":41}}},"44":{"name":"(anonymous_44)","line":535,"loc":{"start":{"line":535,"column":16},"end":{"line":535,"column":37}}},"45":{"name":"(anonymous_45)","line":537,"loc":{"start":{"line":537,"column":16},"end":{"line":537,"column":41}}},"46":{"name":"(anonymous_46)","line":547,"loc":{"start":{"line":547,"column":28},"end":{"line":547,"column":53}}},"47":{"name":"(anonymous_47)","line":554,"loc":{"start":{"line":554,"column":16},"end":{"line":554,"column":41}}},"48":{"name":"(anonymous_48)","line":581,"loc":{"start":{"line":581,"column":19},"end":{"line":581,"column":37}}},"49":{"name":"(anonymous_49)","line":584,"loc":{"start":{"line":584,"column":20},"end":{"line":584,"column":45}}},"50":{"name":"verifyRequest","line":601,"loc":{"start":{"line":601,"column":4},"end":{"line":601,"column":52}}},"51":{"name":"getSignature","line":611,"loc":{"start":{"line":611,"column":4},"end":{"line":611,"column":31}}},"52":{"name":"abortOnValidationError","line":617,"loc":{"start":{"line":617,"column":4},"end":{"line":617,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"6":{"start":{"line":7,"column":0},"end":{"line":630,"column":1}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":66}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":54}},"9":{"start":{"line":14,"column":4},"end":{"line":38,"column":5}},"10":{"start":{"line":16,"column":8},"end":{"line":36,"column":11}},"11":{"start":{"line":19,"column":12},"end":{"line":34,"column":13}},"12":{"start":{"line":20,"column":16},"end":{"line":20,"column":51}},"13":{"start":{"line":24,"column":16},"end":{"line":33,"column":19}},"14":{"start":{"line":25,"column":20},"end":{"line":32,"column":21}},"15":{"start":{"line":26,"column":24},"end":{"line":31,"column":25}},"16":{"start":{"line":27,"column":28},"end":{"line":30,"column":29}},"17":{"start":{"line":29,"column":32},"end":{"line":29,"column":63}},"18":{"start":{"line":42,"column":4},"end":{"line":231,"column":7}},"19":{"start":{"line":44,"column":8},"end":{"line":49,"column":10}},"20":{"start":{"line":51,"column":8},"end":{"line":53,"column":10}},"21":{"start":{"line":52,"column":12},"end":{"line":52,"column":56}},"22":{"start":{"line":55,"column":8},"end":{"line":57,"column":10}},"23":{"start":{"line":56,"column":12},"end":{"line":56,"column":57}},"24":{"start":{"line":60,"column":8},"end":{"line":157,"column":10}},"25":{"start":{"line":62,"column":12},"end":{"line":65,"column":14}},"26":{"start":{"line":67,"column":12},"end":{"line":71,"column":13}},"27":{"start":{"line":68,"column":16},"end":{"line":68,"column":74}},"28":{"start":{"line":70,"column":16},"end":{"line":70,"column":64}},"29":{"start":{"line":73,"column":12},"end":{"line":119,"column":13}},"30":{"start":{"line":74,"column":16},"end":{"line":76,"column":17}},"31":{"start":{"line":75,"column":20},"end":{"line":75,"column":65}},"32":{"start":{"line":78,"column":16},"end":{"line":80,"column":17}},"33":{"start":{"line":79,"column":20},"end":{"line":79,"column":77}},"34":{"start":{"line":82,"column":16},"end":{"line":84,"column":17}},"35":{"start":{"line":83,"column":20},"end":{"line":83,"column":77}},"36":{"start":{"line":86,"column":16},"end":{"line":116,"column":17}},"37":{"start":{"line":89,"column":20},"end":{"line":96,"column":22}},"38":{"start":{"line":90,"column":24},"end":{"line":95,"column":25}},"39":{"start":{"line":91,"column":28},"end":{"line":91,"column":74}},"40":{"start":{"line":92,"column":28},"end":{"line":92,"column":44}},"41":{"start":{"line":94,"column":28},"end":{"line":94,"column":41}},"42":{"start":{"line":98,"column":20},"end":{"line":115,"column":23}},"43":{"start":{"line":99,"column":24},"end":{"line":99,"column":45}},"44":{"start":{"line":100,"column":24},"end":{"line":113,"column":25}},"45":{"start":{"line":101,"column":28},"end":{"line":106,"column":30}},"46":{"start":{"line":107,"column":31},"end":{"line":113,"column":25}},"47":{"start":{"line":108,"column":28},"end":{"line":110,"column":30}},"48":{"start":{"line":114,"column":24},"end":{"line":114,"column":43}},"49":{"start":{"line":118,"column":16},"end":{"line":118,"column":71}},"50":{"start":{"line":121,"column":12},"end":{"line":123,"column":13}},"51":{"start":{"line":122,"column":16},"end":{"line":122,"column":71}},"52":{"start":{"line":125,"column":12},"end":{"line":127,"column":13}},"53":{"start":{"line":126,"column":16},"end":{"line":126,"column":79}},"54":{"start":{"line":130,"column":12},"end":{"line":130,"column":71}},"55":{"start":{"line":132,"column":12},"end":{"line":156,"column":19}},"56":{"start":{"line":144,"column":20},"end":{"line":147,"column":21}},"57":{"start":{"line":145,"column":24},"end":{"line":145,"column":59}},"58":{"start":{"line":146,"column":24},"end":{"line":146,"column":45}},"59":{"start":{"line":149,"column":20},"end":{"line":152,"column":21}},"60":{"start":{"line":150,"column":24},"end":{"line":150,"column":62}},"61":{"start":{"line":151,"column":24},"end":{"line":151,"column":60}},"62":{"start":{"line":154,"column":20},"end":{"line":154,"column":58}},"63":{"start":{"line":155,"column":20},"end":{"line":155,"column":41}},"64":{"start":{"line":159,"column":8},"end":{"line":164,"column":10}},"65":{"start":{"line":160,"column":12},"end":{"line":160,"column":25}},"66":{"start":{"line":161,"column":12},"end":{"line":161,"column":38}},"67":{"start":{"line":162,"column":12},"end":{"line":162,"column":44}},"68":{"start":{"line":163,"column":12},"end":{"line":163,"column":29}},"69":{"start":{"line":166,"column":8},"end":{"line":171,"column":10}},"70":{"start":{"line":167,"column":12},"end":{"line":167,"column":25}},"71":{"start":{"line":168,"column":12},"end":{"line":168,"column":38}},"72":{"start":{"line":169,"column":12},"end":{"line":169,"column":45}},"73":{"start":{"line":170,"column":12},"end":{"line":170,"column":29}},"74":{"start":{"line":173,"column":8},"end":{"line":196,"column":10}},"75":{"start":{"line":174,"column":12},"end":{"line":174,"column":27}},"76":{"start":{"line":176,"column":12},"end":{"line":182,"column":13}},"77":{"start":{"line":177,"column":16},"end":{"line":177,"column":41}},"78":{"start":{"line":178,"column":19},"end":{"line":182,"column":13}},"79":{"start":{"line":179,"column":16},"end":{"line":179,"column":46}},"80":{"start":{"line":181,"column":16},"end":{"line":181,"column":32}},"81":{"start":{"line":184,"column":12},"end":{"line":184,"column":28}},"82":{"start":{"line":185,"column":12},"end":{"line":185,"column":36}},"83":{"start":{"line":187,"column":12},"end":{"line":187,"column":93}},"84":{"start":{"line":189,"column":12},"end":{"line":194,"column":15}},"85":{"start":{"line":190,"column":16},"end":{"line":190,"column":42}},"86":{"start":{"line":190,"column":25},"end":{"line":190,"column":42}},"87":{"start":{"line":191,"column":16},"end":{"line":193,"column":33}},"88":{"start":{"line":192,"column":20},"end":{"line":192,"column":45}},"89":{"start":{"line":199,"column":8},"end":{"line":211,"column":10}},"90":{"start":{"line":200,"column":12},"end":{"line":200,"column":25}},"91":{"start":{"line":202,"column":12},"end":{"line":206,"column":13}},"92":{"start":{"line":203,"column":16},"end":{"line":203,"column":32}},"93":{"start":{"line":205,"column":16},"end":{"line":205,"column":27}},"94":{"start":{"line":208,"column":12},"end":{"line":208,"column":38}},"95":{"start":{"line":210,"column":12},"end":{"line":210,"column":29}},"96":{"start":{"line":213,"column":8},"end":{"line":229,"column":10}},"97":{"start":{"line":214,"column":12},"end":{"line":214,"column":77}},"98":{"start":{"line":215,"column":12},"end":{"line":226,"column":13}},"99":{"start":{"line":216,"column":16},"end":{"line":225,"column":17}},"100":{"start":{"line":217,"column":20},"end":{"line":224,"column":21}},"101":{"start":{"line":221,"column":24},"end":{"line":221,"column":62}},"102":{"start":{"line":222,"column":24},"end":{"line":222,"column":54}},"103":{"start":{"line":223,"column":24},"end":{"line":223,"column":31}},"104":{"start":{"line":228,"column":12},"end":{"line":228,"column":17}},"105":{"start":{"line":230,"column":8},"end":{"line":230,"column":19}},"106":{"start":{"line":234,"column":4},"end":{"line":259,"column":6}},"107":{"start":{"line":236,"column":8},"end":{"line":238,"column":115}},"108":{"start":{"line":239,"column":8},"end":{"line":242,"column":11}},"109":{"start":{"line":240,"column":12},"end":{"line":240,"column":27}},"110":{"start":{"line":241,"column":12},"end":{"line":241,"column":64}},"111":{"start":{"line":244,"column":8},"end":{"line":252,"column":11}},"112":{"start":{"line":245,"column":12},"end":{"line":251,"column":13}},"113":{"start":{"line":246,"column":16},"end":{"line":250,"column":17}},"114":{"start":{"line":247,"column":20},"end":{"line":247,"column":57}},"115":{"start":{"line":249,"column":20},"end":{"line":249,"column":35}},"116":{"start":{"line":254,"column":8},"end":{"line":256,"column":9}},"117":{"start":{"line":255,"column":12},"end":{"line":255,"column":17}},"118":{"start":{"line":258,"column":8},"end":{"line":258,"column":31}},"119":{"start":{"line":261,"column":4},"end":{"line":373,"column":6}},"120":{"start":{"line":263,"column":8},"end":{"line":263,"column":27}},"121":{"start":{"line":264,"column":8},"end":{"line":372,"column":9}},"122":{"start":{"line":265,"column":12},"end":{"line":371,"column":13}},"123":{"start":{"line":266,"column":16},"end":{"line":370,"column":17}},"124":{"start":{"line":267,"column":20},"end":{"line":267,"column":69}},"125":{"start":{"line":268,"column":20},"end":{"line":369,"column":21}},"126":{"start":{"line":269,"column":24},"end":{"line":282,"column":26}},"127":{"start":{"line":284,"column":24},"end":{"line":284,"column":69}},"128":{"start":{"line":285,"column":27},"end":{"line":369,"column":21}},"129":{"start":{"line":290,"column":24},"end":{"line":298,"column":26}},"130":{"start":{"line":300,"column":24},"end":{"line":300,"column":85}},"131":{"start":{"line":302,"column":24},"end":{"line":314,"column":25}},"132":{"start":{"line":303,"column":28},"end":{"line":311,"column":30}},"133":{"start":{"line":313,"column":28},"end":{"line":313,"column":73}},"134":{"start":{"line":316,"column":27},"end":{"line":369,"column":21}},"135":{"start":{"line":318,"column":24},"end":{"line":324,"column":26}},"136":{"start":{"line":326,"column":24},"end":{"line":326,"column":82}},"137":{"start":{"line":327,"column":27},"end":{"line":369,"column":21}},"138":{"start":{"line":329,"column":24},"end":{"line":334,"column":26}},"139":{"start":{"line":336,"column":24},"end":{"line":336,"column":85}},"140":{"start":{"line":337,"column":27},"end":{"line":369,"column":21}},"141":{"start":{"line":339,"column":24},"end":{"line":345,"column":26}},"142":{"start":{"line":347,"column":24},"end":{"line":347,"column":80}},"143":{"start":{"line":348,"column":27},"end":{"line":369,"column":21}},"144":{"start":{"line":349,"column":24},"end":{"line":355,"column":26}},"145":{"start":{"line":357,"column":24},"end":{"line":357,"column":85}},"146":{"start":{"line":358,"column":27},"end":{"line":369,"column":21}},"147":{"start":{"line":359,"column":24},"end":{"line":364,"column":26}},"148":{"start":{"line":366,"column":24},"end":{"line":366,"column":92}},"149":{"start":{"line":368,"column":24},"end":{"line":368,"column":107}},"150":{"start":{"line":375,"column":4},"end":{"line":423,"column":6}},"151":{"start":{"line":377,"column":8},"end":{"line":379,"column":9}},"152":{"start":{"line":378,"column":12},"end":{"line":378,"column":69}},"153":{"start":{"line":381,"column":8},"end":{"line":381,"column":52}},"154":{"start":{"line":383,"column":8},"end":{"line":384,"column":69}},"155":{"start":{"line":384,"column":12},"end":{"line":384,"column":69}},"156":{"start":{"line":386,"column":8},"end":{"line":386,"column":43}},"157":{"start":{"line":388,"column":8},"end":{"line":388,"column":46}},"158":{"start":{"line":391,"column":8},"end":{"line":395,"column":9}},"159":{"start":{"line":393,"column":12},"end":{"line":393,"column":106}},"160":{"start":{"line":394,"column":12},"end":{"line":394,"column":66}},"161":{"start":{"line":397,"column":8},"end":{"line":397,"column":57}},"162":{"start":{"line":398,"column":8},"end":{"line":398,"column":81}},"163":{"start":{"line":399,"column":8},"end":{"line":399,"column":66}},"164":{"start":{"line":401,"column":8},"end":{"line":408,"column":15}},"165":{"start":{"line":405,"column":16},"end":{"line":406,"column":49}},"166":{"start":{"line":407,"column":16},"end":{"line":407,"column":64}},"167":{"start":{"line":407,"column":26},"end":{"line":407,"column":62}},"168":{"start":{"line":411,"column":8},"end":{"line":419,"column":15}},"169":{"start":{"line":413,"column":16},"end":{"line":418,"column":17}},"170":{"start":{"line":414,"column":20},"end":{"line":414,"column":80}},"171":{"start":{"line":416,"column":20},"end":{"line":416,"column":95}},"172":{"start":{"line":417,"column":20},"end":{"line":417,"column":51}},"173":{"start":{"line":421,"column":8},"end":{"line":421,"column":31}},"174":{"start":{"line":425,"column":4},"end":{"line":592,"column":6}},"175":{"start":{"line":427,"column":12},"end":{"line":429,"column":14}},"176":{"start":{"line":430,"column":12},"end":{"line":437,"column":13}},"177":{"start":{"line":431,"column":16},"end":{"line":431,"column":43}},"178":{"start":{"line":433,"column":16},"end":{"line":436,"column":19}},"179":{"start":{"line":438,"column":12},"end":{"line":438,"column":67}},"180":{"start":{"line":441,"column":12},"end":{"line":441,"column":72}},"181":{"start":{"line":444,"column":12},"end":{"line":444,"column":73}},"182":{"start":{"line":447,"column":12},"end":{"line":451,"column":14}},"183":{"start":{"line":452,"column":12},"end":{"line":452,"column":67}},"184":{"start":{"line":455,"column":12},"end":{"line":455,"column":75}},"185":{"start":{"line":458,"column":12},"end":{"line":458,"column":76}},"186":{"start":{"line":461,"column":12},"end":{"line":463,"column":14}},"187":{"start":{"line":464,"column":12},"end":{"line":464,"column":67}},"188":{"start":{"line":467,"column":12},"end":{"line":467,"column":79}},"189":{"start":{"line":470,"column":12},"end":{"line":470,"column":80}},"190":{"start":{"line":473,"column":12},"end":{"line":475,"column":14}},"191":{"start":{"line":476,"column":12},"end":{"line":476,"column":67}},"192":{"start":{"line":479,"column":12},"end":{"line":479,"column":83}},"193":{"start":{"line":482,"column":12},"end":{"line":482,"column":84}},"194":{"start":{"line":485,"column":12},"end":{"line":487,"column":14}},"195":{"start":{"line":488,"column":12},"end":{"line":488,"column":67}},"196":{"start":{"line":491,"column":12},"end":{"line":491,"column":83}},"197":{"start":{"line":494,"column":12},"end":{"line":494,"column":84}},"198":{"start":{"line":497,"column":12},"end":{"line":519,"column":19}},"199":{"start":{"line":500,"column":20},"end":{"line":518,"column":21}},"200":{"start":{"line":501,"column":24},"end":{"line":501,"column":85}},"201":{"start":{"line":504,"column":24},"end":{"line":504,"column":43}},"202":{"start":{"line":505,"column":24},"end":{"line":509,"column":25}},"203":{"start":{"line":506,"column":28},"end":{"line":506,"column":55}},"204":{"start":{"line":508,"column":28},"end":{"line":508,"column":120}},"205":{"start":{"line":511,"column":24},"end":{"line":517,"column":25}},"206":{"start":{"line":512,"column":28},"end":{"line":516,"column":29}},"207":{"start":{"line":513,"column":32},"end":{"line":513,"column":116}},"208":{"start":{"line":515,"column":32},"end":{"line":515,"column":105}},"209":{"start":{"line":522,"column":12},"end":{"line":524,"column":14}},"210":{"start":{"line":525,"column":12},"end":{"line":533,"column":19}},"211":{"start":{"line":528,"column":20},"end":{"line":532,"column":21}},"212":{"start":{"line":529,"column":24},"end":{"line":529,"column":85}},"213":{"start":{"line":531,"column":24},"end":{"line":531,"column":100}},"214":{"start":{"line":536,"column":12},"end":{"line":545,"column":19}},"215":{"start":{"line":538,"column":20},"end":{"line":544,"column":21}},"216":{"start":{"line":539,"column":24},"end":{"line":539,"column":79}},"217":{"start":{"line":540,"column":24},"end":{"line":540,"column":32}},"218":{"start":{"line":542,"column":24},"end":{"line":542,"column":91}},"219":{"start":{"line":543,"column":24},"end":{"line":543,"column":39}},"220":{"start":{"line":548,"column":12},"end":{"line":551,"column":14}},"221":{"start":{"line":552,"column":12},"end":{"line":579,"column":19}},"222":{"start":{"line":555,"column":20},"end":{"line":578,"column":21}},"223":{"start":{"line":556,"column":24},"end":{"line":556,"column":86}},"224":{"start":{"line":557,"column":24},"end":{"line":557,"column":32}},"225":{"start":{"line":560,"column":24},"end":{"line":560,"column":43}},"226":{"start":{"line":561,"column":24},"end":{"line":566,"column":25}},"227":{"start":{"line":562,"column":28},"end":{"line":562,"column":55}},"228":{"start":{"line":564,"column":28},"end":{"line":564,"column":117}},"229":{"start":{"line":565,"column":28},"end":{"line":565,"column":36}},"230":{"start":{"line":568,"column":24},"end":{"line":577,"column":25}},"231":{"start":{"line":569,"column":28},"end":{"line":576,"column":29}},"232":{"start":{"line":570,"column":32},"end":{"line":570,"column":113}},"233":{"start":{"line":571,"column":32},"end":{"line":571,"column":50}},"234":{"start":{"line":573,"column":32},"end":{"line":573,"column":54}},"235":{"start":{"line":574,"column":32},"end":{"line":574,"column":92}},"236":{"start":{"line":575,"column":32},"end":{"line":575,"column":46}},"237":{"start":{"line":582,"column":16},"end":{"line":590,"column":23}},"238":{"start":{"line":585,"column":24},"end":{"line":589,"column":25}},"239":{"start":{"line":586,"column":28},"end":{"line":586,"column":87}},"240":{"start":{"line":588,"column":28},"end":{"line":588,"column":102}},"241":{"start":{"line":594,"column":4},"end":{"line":597,"column":6}},"242":{"start":{"line":601,"column":4},"end":{"line":609,"column":5}},"243":{"start":{"line":602,"column":8},"end":{"line":602,"column":54}},"244":{"start":{"line":603,"column":8},"end":{"line":603,"column":43}},"245":{"start":{"line":604,"column":8},"end":{"line":608,"column":9}},"246":{"start":{"line":605,"column":12},"end":{"line":605,"column":69}},"247":{"start":{"line":611,"column":4},"end":{"line":615,"column":5}},"248":{"start":{"line":612,"column":8},"end":{"line":612,"column":80}},"249":{"start":{"line":613,"column":8},"end":{"line":613,"column":34}},"250":{"start":{"line":614,"column":8},"end":{"line":614,"column":44}},"251":{"start":{"line":617,"column":4},"end":{"line":627,"column":5}},"252":{"start":{"line":618,"column":8},"end":{"line":626,"column":9}},"253":{"start":{"line":619,"column":12},"end":{"line":619,"column":83}},"254":{"start":{"line":620,"column":12},"end":{"line":620,"column":69}},"255":{"start":{"line":621,"column":12},"end":{"line":623,"column":15}},"256":{"start":{"line":625,"column":12},"end":{"line":625,"column":19}},"257":{"start":{"line":629,"column":4},"end":{"line":629,"column":27}},"258":{"start":{"line":632,"column":0},"end":{"line":632,"column":29}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":19},"end":{"line":9,"column":41}},{"start":{"line":9,"column":45},"end":{"line":9,"column":65}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":33},"end":{"line":12,"column":46}},{"start":{"line":12,"column":50},"end":{"line":12,"column":52}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":20}},{"start":{"line":25,"column":20},"end":{"line":25,"column":20}}]},"5":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":28},"end":{"line":27,"column":28}},{"start":{"line":27,"column":28},"end":{"line":27,"column":28}}]},"6":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":32},"end":{"line":27,"column":90}},{"start":{"line":28,"column":33},"end":{"line":28,"column":59}},{"start":{"line":28,"column":63},"end":{"line":28,"column":100}}]},"7":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":26}},{"start":{"line":47,"column":30},"end":{"line":47,"column":32}}]},"8":{"line":64,"type":"cond-expr","locations":[{"start":{"line":64,"column":49},"end":{"line":64,"column":58}},{"start":{"line":64,"column":61},"end":{"line":64,"column":63}}]},"9":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":12}},{"start":{"line":67,"column":12},"end":{"line":67,"column":12}}]},"10":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":51}},{"start":{"line":67,"column":55},"end":{"line":67,"column":111}}]},"11":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":73,"column":12}},{"start":{"line":73,"column":12},"end":{"line":73,"column":12}}]},"12":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":16},"end":{"line":74,"column":16}},{"start":{"line":74,"column":16},"end":{"line":74,"column":16}}]},"13":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"14":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":16},"end":{"line":82,"column":16}},{"start":{"line":82,"column":16},"end":{"line":82,"column":16}}]},"15":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":16},"end":{"line":86,"column":16}},{"start":{"line":86,"column":16},"end":{"line":86,"column":16}}]},"16":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":24},"end":{"line":90,"column":24}},{"start":{"line":90,"column":24},"end":{"line":90,"column":24}}]},"17":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":24},"end":{"line":100,"column":24}},{"start":{"line":100,"column":24},"end":{"line":100,"column":24}}]},"18":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":28},"end":{"line":100,"column":56}},{"start":{"line":100,"column":60},"end":{"line":100,"column":78}}]},"19":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":31},"end":{"line":107,"column":31}},{"start":{"line":107,"column":31},"end":{"line":107,"column":31}}]},"20":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":12}},{"start":{"line":121,"column":12},"end":{"line":121,"column":12}}]},"21":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":125,"column":12}},{"start":{"line":125,"column":12},"end":{"line":125,"column":12}}]},"22":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":20},"end":{"line":144,"column":20}},{"start":{"line":144,"column":20},"end":{"line":144,"column":20}}]},"23":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":31},"end":{"line":146,"column":33}},{"start":{"line":146,"column":37},"end":{"line":146,"column":44}}]},"24":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":20},"end":{"line":149,"column":20}},{"start":{"line":149,"column":20},"end":{"line":149,"column":20}}]},"25":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":31},"end":{"line":151,"column":33}},{"start":{"line":151,"column":37},"end":{"line":151,"column":59}}]},"26":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":20},"end":{"line":155,"column":22}},{"start":{"line":155,"column":26},"end":{"line":155,"column":40}}]},"27":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":12},"end":{"line":176,"column":12}},{"start":{"line":176,"column":12},"end":{"line":176,"column":12}}]},"28":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":19},"end":{"line":178,"column":19}},{"start":{"line":178,"column":19},"end":{"line":178,"column":19}}]},"29":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":16},"end":{"line":190,"column":16}},{"start":{"line":190,"column":16},"end":{"line":190,"column":16}}]},"30":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":12},"end":{"line":202,"column":12}},{"start":{"line":202,"column":12},"end":{"line":202,"column":12}}]},"31":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":20},"end":{"line":217,"column":20}},{"start":{"line":217,"column":20},"end":{"line":217,"column":20}}]},"32":{"line":218,"type":"binary-expr","locations":[{"start":{"line":218,"column":24},"end":{"line":218,"column":60}},{"start":{"line":219,"column":24},"end":{"line":219,"column":85}}]},"33":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":12},"end":{"line":245,"column":12}},{"start":{"line":245,"column":12},"end":{"line":245,"column":12}}]},"34":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":16},"end":{"line":246,"column":16}},{"start":{"line":246,"column":16},"end":{"line":246,"column":16}}]},"35":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":8},"end":{"line":254,"column":8}},{"start":{"line":254,"column":8},"end":{"line":254,"column":8}}]},"36":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":8}},{"start":{"line":264,"column":8},"end":{"line":264,"column":8}}]},"37":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":20},"end":{"line":268,"column":20}},{"start":{"line":268,"column":20},"end":{"line":268,"column":20}}]},"38":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":27},"end":{"line":285,"column":27}},{"start":{"line":285,"column":27},"end":{"line":285,"column":27}}]},"39":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":24},"end":{"line":302,"column":24}},{"start":{"line":302,"column":24},"end":{"line":302,"column":24}}]},"40":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":27},"end":{"line":316,"column":27}},{"start":{"line":316,"column":27},"end":{"line":316,"column":27}}]},"41":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":27},"end":{"line":327,"column":27}},{"start":{"line":327,"column":27},"end":{"line":327,"column":27}}]},"42":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":27},"end":{"line":337,"column":27}},{"start":{"line":337,"column":27},"end":{"line":337,"column":27}}]},"43":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":27},"end":{"line":348,"column":27}},{"start":{"line":348,"column":27},"end":{"line":348,"column":27}}]},"44":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":27},"end":{"line":358,"column":27}},{"start":{"line":358,"column":27},"end":{"line":358,"column":27}}]},"45":{"line":377,"type":"if","locations":[{"start":{"line":377,"column":8},"end":{"line":377,"column":8}},{"start":{"line":377,"column":8},"end":{"line":377,"column":8}}]},"46":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":8},"end":{"line":383,"column":8}},{"start":{"line":383,"column":8},"end":{"line":383,"column":8}}]},"47":{"line":383,"type":"binary-expr","locations":[{"start":{"line":383,"column":12},"end":{"line":383,"column":34}},{"start":{"line":383,"column":38},"end":{"line":383,"column":70}},{"start":{"line":383,"column":74},"end":{"line":383,"column":117}}]},"48":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":8},"end":{"line":391,"column":8}},{"start":{"line":391,"column":8},"end":{"line":391,"column":8}}]},"49":{"line":407,"type":"if","locations":[{"start":{"line":407,"column":16},"end":{"line":407,"column":16}},{"start":{"line":407,"column":16},"end":{"line":407,"column":16}}]},"50":{"line":413,"type":"if","locations":[{"start":{"line":413,"column":16},"end":{"line":413,"column":16}},{"start":{"line":413,"column":16},"end":{"line":413,"column":16}}]},"51":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":12},"end":{"line":430,"column":12}},{"start":{"line":430,"column":12},"end":{"line":430,"column":12}}]},"52":{"line":486,"type":"cond-expr","locations":[{"start":{"line":486,"column":64},"end":{"line":486,"column":71}},{"start":{"line":486,"column":74},"end":{"line":486,"column":83}}]},"53":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":20},"end":{"line":500,"column":20}},{"start":{"line":500,"column":20},"end":{"line":500,"column":20}}]},"54":{"line":511,"type":"if","locations":[{"start":{"line":511,"column":24},"end":{"line":511,"column":24}},{"start":{"line":511,"column":24},"end":{"line":511,"column":24}}]},"55":{"line":512,"type":"if","locations":[{"start":{"line":512,"column":28},"end":{"line":512,"column":28}},{"start":{"line":512,"column":28},"end":{"line":512,"column":28}}]},"56":{"line":528,"type":"if","locations":[{"start":{"line":528,"column":20},"end":{"line":528,"column":20}},{"start":{"line":528,"column":20},"end":{"line":528,"column":20}}]},"57":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":20},"end":{"line":538,"column":20}},{"start":{"line":538,"column":20},"end":{"line":538,"column":20}}]},"58":{"line":550,"type":"binary-expr","locations":[{"start":{"line":550,"column":30},"end":{"line":550,"column":40}},{"start":{"line":550,"column":44},"end":{"line":550,"column":48}}]},"59":{"line":555,"type":"if","locations":[{"start":{"line":555,"column":20},"end":{"line":555,"column":20}},{"start":{"line":555,"column":20},"end":{"line":555,"column":20}}]},"60":{"line":568,"type":"if","locations":[{"start":{"line":568,"column":24},"end":{"line":568,"column":24}},{"start":{"line":568,"column":24},"end":{"line":568,"column":24}}]},"61":{"line":569,"type":"if","locations":[{"start":{"line":569,"column":28},"end":{"line":569,"column":28}},{"start":{"line":569,"column":28},"end":{"line":569,"column":28}}]},"62":{"line":585,"type":"if","locations":[{"start":{"line":585,"column":24},"end":{"line":585,"column":24}},{"start":{"line":585,"column":24},"end":{"line":585,"column":24}}]},"63":{"line":604,"type":"if","locations":[{"start":{"line":604,"column":8},"end":{"line":604,"column":8}},{"start":{"line":604,"column":8},"end":{"line":604,"column":8}}]},"64":{"line":618,"type":"if","locations":[{"start":{"line":618,"column":8},"end":{"line":618,"column":8}},{"start":{"line":618,"column":8},"end":{"line":618,"column":8}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var request = require('request');","var express = require('express');","var bodyParser = require('body-parser');","var crypto = require('crypto');","","function Facebookbot(configuration) {","","    var api_host = configuration.api_host || 'graph.facebook.com';","","    // Create a core botkit bot","    var facebook_botkit = Botkit(configuration || {});","","    if (facebook_botkit.config.require_delivery) {","","        facebook_botkit.on('message_delivered', function(bot, message) {","","            // get list of mids in this message","            for (var m = 0; m < message.delivery.mids.length; m++) {","                var mid = message.delivery.mids[m];","","                // loop through all active conversations this bot is having","                // and mark messages in conversations as delivered = true","                bot.findConversation(message, function(convo) {","                    if (convo) {","                        for (var s = 0; s < convo.sent.length; s++) {","                            if (convo.sent[s].sent_timestamp <= message.delivery.watermark ||","                                (convo.sent[s].api_response && convo.sent[s].api_response.mid == mid)) {","                                convo.sent[s].delivered = true;","                            }","                        }","                    }","                });","            }","","        });","","    }","","    // customize the bot definition, which will be used when new connections","    // spawn!","    facebook_botkit.defineBot(function(botkit, config) {","","        var bot = {","            type: 'fb',","            botkit: botkit,","            config: config || {},","            utterances: botkit.utterances,","        };","","        bot.startConversation = function(message, cb) {","            botkit.startConversation(this, message, cb);","        };","","        bot.createConversation = function(message, cb) {","            botkit.createConversation(this, message, cb);","        };","","","        bot.send = function(message, cb) {","","            var facebook_message = {","                recipient: {},","                message: message.sender_action ? undefined : {}","            };","","            if (typeof(message.channel) == 'string' && message.channel.match(/\\+\\d+\\(\\d\\d\\d\\)\\d\\d\\d\\-\\d\\d\\d\\d/)) {","                facebook_message.recipient.phone_number = message.channel;","            } else {","                facebook_message.recipient.id = message.channel;","            }","","            if (!message.sender_action) {","                if (message.text) {","                    facebook_message.message.text = message.text;","                }","","                if (message.attachment) {","                    facebook_message.message.attachment = message.attachment;","                }","","                if (message.sticker_id) {","                    facebook_message.message.sticker_id = message.sticker_id;","                }","","                if (message.quick_replies) {","","                    // sanitize the length of the title to maximum of 20 chars","                    var titleLimit = function(title) {","                        if (title.length > 20) {","                            var newTitle = title.substring(0, 16) + '...';","                            return newTitle;","                        } else {","                            return title;","                        }","                    };","","                    facebook_message.message.quick_replies = message.quick_replies.map(function(item) {","                        var quick_reply = {};","                        if (item.content_type === 'text' || !item.content_type) {","                            quick_reply = {","                                content_type: 'text',","                                title: titleLimit(item.title),","                                payload: item.payload,","                                image_url: item.image_url,","                            };","                        } else if (item.content_type === 'location') {","                            quick_reply = {","                                content_type: 'location'","                            };","                        } else {","                            // Future quick replies types","                        }","                        return quick_reply;","                    });","                }","            } else {","                facebook_message.sender_action = message.sender_action;","            }","","            if (message.sender_action) {","                facebook_message.sender_action = message.sender_action;","            }","","            if (message.notification_type) {","                facebook_message.notification_type = message.notification_type;","            }","","            //Add Access Token to outgoing request","            facebook_message.access_token = configuration.access_token;","","            request({","                method: 'POST',","                json: true,","                headers: {","                    'content-type': 'application/json',","                },","                body: facebook_message,","                uri: 'https://' + api_host + '/v2.6/me/messages'","            },","                function(err, res, body) {","","","                    if (err) {","                        botkit.debug('WEBHOOK ERROR', err);","                        return cb && cb(err);","                    }","","                    if (body.error) {","                        botkit.debug('API ERROR', body.error);","                        return cb && cb(body.error.message);","                    }","","                    botkit.debug('WEBHOOK SUCCESS', body);","                    cb && cb(null, body);","                });","        };","","        bot.startTyping = function(src, cb) {","            var msg = {};","            msg.channel = src.channel;","            msg.sender_action = 'typing_on';","            bot.say(msg, cb);","        };","","        bot.stopTyping = function(src, cb) {","            var msg = {};","            msg.channel = src.channel;","            msg.sender_action = 'typing_off';","            bot.say(msg, cb);","        };","","        bot.replyWithTyping = function(src, resp, cb) {","            var textLength;","","            if (typeof(resp) == 'string') {","                textLength = resp.length;","            } else if (resp.text) {","                textLength = resp.text.length;","            } else {","                textLength = 80; //default attachement text length","            }","","            var avgWPM = 85;","            var avgCPM = avgWPM * 7;","","            var typingLength = Math.min(Math.floor(textLength / (avgCPM / 60)) * 1000, 5000);","","            bot.startTyping(src, function(err) {","                if (err) console.log(err);","                setTimeout(function() {","                    bot.reply(src, resp, cb);","                }, typingLength);","            });","","        };","","","        bot.reply = function(src, resp, cb) {","            var msg = {};","","            if (typeof(resp) == 'string') {","                msg.text = resp;","            } else {","                msg = resp;","            }","","            msg.channel = src.channel;","","            bot.say(msg, cb);","        };","","        bot.findConversation = function(message, cb) {","            botkit.debug('CUSTOM FIND CONVO', message.user, message.channel);","            for (var t = 0; t < botkit.tasks.length; t++) {","                for (var c = 0; c < botkit.tasks[t].convos.length; c++) {","                    if (","                        botkit.tasks[t].convos[c].isActive() &&","                        botkit.tasks[t].convos[c].source_message.user == message.user","                    ) {","                        botkit.debug('FOUND EXISTING CONVO!');","                        cb(botkit.tasks[t].convos[c]);","                        return;","                    }","                }","            }","","            cb();","        };","        return bot;","    });","","    // set up a web route for receiving outgoing webhooks and/or slash commands","    facebook_botkit.createWebhookEndpoints = function(webserver, bot, cb) {","","        facebook_botkit.log(","            '** Serving webhook endpoints for Messenger Platform at: ' +","            'http://' + facebook_botkit.config.hostname + ':' + facebook_botkit.config.port + '/facebook/receive');","        webserver.post('/facebook/receive', function(req, res) {","            res.send('ok');","            facebook_botkit.handleWebhookPayload(req, res, bot);","        });","","        webserver.get('/facebook/receive', function(req, res) {","            if (req.query['hub.mode'] == 'subscribe') {","                if (req.query['hub.verify_token'] == configuration.verify_token) {","                    res.send(req.query['hub.challenge']);","                } else {","                    res.send('OK');","                }","            }","        });","","        if (cb) {","            cb();","        }","","        return facebook_botkit;","    };","","    facebook_botkit.handleWebhookPayload = function(req, res, bot) {","","        var obj = req.body;","        if (obj.entry) {","            for (var e = 0; e < obj.entry.length; e++) {","                for (var m = 0; m < obj.entry[e].messaging.length; m++) {","                    var facebook_message = obj.entry[e].messaging[m];","                    if (facebook_message.message) {","                        var message = {","                            text: facebook_message.message.text,","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id,","                            timestamp: facebook_message.timestamp,","                            seq: facebook_message.message.seq,","                            is_echo: facebook_message.message.is_echo,","                            mid: facebook_message.message.mid,","                            sticker_id: facebook_message.message.sticker_id,","                            attachments: facebook_message.message.attachments,","                            quick_reply: facebook_message.message.quick_reply,","                            type: 'user_message',","                        };","","                        facebook_botkit.receiveMessage(bot, message);","                    } else if (facebook_message.postback) {","","                        // trigger BOTH a facebook_postback event","                        // and a normal message received event.","                        // this allows developers to receive postbacks as part of a conversation.","                        var message = {","                            text: facebook_message.postback.payload,","                            payload: facebook_message.postback.payload,","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id,","                            timestamp: facebook_message.timestamp,","                            referral: facebook_message.postback.referral,","                        };","","                        facebook_botkit.trigger('facebook_postback', [bot, message]);","","                        if (facebook_botkit.config.receive_via_postback) {","                            var message = {","                                text: facebook_message.postback.payload,","                                user: facebook_message.sender.id,","                                channel: facebook_message.sender.id,","                                page: facebook_message.recipient.id,","                                timestamp: facebook_message.timestamp,","                                type: 'facebook_postback',","                                referral: facebook_message.postback.referral,","                            };","","                            facebook_botkit.receiveMessage(bot, message);","                        }","","                    } else if (facebook_message.optin) {","","                        var message = {","                            optin: facebook_message.optin,","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id,","                            timestamp: facebook_message.timestamp,","                        };","","                        facebook_botkit.trigger('facebook_optin', [bot, message]);","                    } else if (facebook_message.delivery) {","","                        var message = {","                            delivery: facebook_message.delivery,","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id","                        };","","                        facebook_botkit.trigger('message_delivered', [bot, message]);","                    } else if (facebook_message.read) {","","                        var message = {","                            read: facebook_message.read,","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id,","                            timestamp: facebook_message.timestamp,","                        };","","                        facebook_botkit.trigger('message_read', [bot, message]);","                    } else if (facebook_message.referral) {","                        var message = {","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            page: facebook_message.recipient.id,","                            timestamp: facebook_message.timestamp,","                            referral: facebook_message.referral,","                        };","","                        facebook_botkit.trigger('facebook_referral', [bot, message]);","                    } else if (facebook_message.account_linking) {","                        var message = {","                            user: facebook_message.sender.id,","                            channel: facebook_message.sender.id,","                            timestamp: facebook_message.timestamp,","                            account_linking: facebook_message.account_linking,","                        };","","                        facebook_botkit.trigger('facebook_account_linking', [bot, message]);","                    }  else {","                        facebook_botkit.log('Got an unexpected message from Facebook: ', facebook_message);","                    }","                }","            }","        }","    };","","    facebook_botkit.setupWebserver = function(port, cb) {","","        if (!port) {","            throw new Error('Cannot start webserver without a port');","        }","","        var static_dir =  process.cwd() + '/public';","","        if (facebook_botkit.config && facebook_botkit.config.webserver && facebook_botkit.config.webserver.static_dir)","            static_dir = facebook_botkit.config.webserver.static_dir;","","        facebook_botkit.config.port = port;","","        facebook_botkit.webserver = express();","","        // Validate that requests come from facebook, and abort on validation errors","        if (facebook_botkit.config.validate_requests === true) {","            // Load verify middleware just for post route on our receive webhook, and catch any errors it might throw to prevent the request from being parsed further.","            facebook_botkit.webserver.post('/facebook/receive', bodyParser.json({verify: verifyRequest}));","            facebook_botkit.webserver.use(abortOnValidationError);","        }","","        facebook_botkit.webserver.use(bodyParser.json());","        facebook_botkit.webserver.use(bodyParser.urlencoded({ extended: true }));","        facebook_botkit.webserver.use(express.static(static_dir));","","        var server = facebook_botkit.webserver.listen(","            facebook_botkit.config.port,","            facebook_botkit.config.hostname,","            function() {","                facebook_botkit.log('** Starting webserver on port ' +","                    facebook_botkit.config.port);","                if (cb) { cb(null, facebook_botkit.webserver); }","            });","","","        request.post('https://' + api_host + '/me/subscribed_apps?access_token=' + configuration.access_token,","            function(err, res, body) {","                if (err) {","                    facebook_botkit.log('Could not subscribe to page messages');","                } else {","                    facebook_botkit.debug('Successfully subscribed to Facebook events:', body);","                    facebook_botkit.startTicking();","                }","            });","","        return facebook_botkit;","","    };","","    var messenger_profile_api = {","        greeting: function(payload) {","            var message = {","                'greeting': []","            };","            if (Array.isArray(payload)) {","                message.greeting = payload;","            } else {","                message.greeting.push({","                    'locale': 'default',","                    'text': payload","                });","            }","            facebook_botkit.api.messenger_profile.postAPI(message);","        },","        delete_greeting: function() {","            facebook_botkit.api.messenger_profile.deleteAPI('greeting');","        },","        get_greeting: function(cb) {","            facebook_botkit.api.messenger_profile.getAPI('greeting', cb);","        },","        get_started: function(payload) {","            var message = {","                'get_started': {","                    'payload': payload","                }","            };","            facebook_botkit.api.messenger_profile.postAPI(message);","        },","        delete_get_started: function() {","            facebook_botkit.api.messenger_profile.deleteAPI('get_started');","        },","        get_get_started: function(cb) {","            facebook_botkit.api.messenger_profile.getAPI('get_started', cb);","        },","        menu: function(payload) {","            var messege = {","                persistent_menu: payload","            };","            facebook_botkit.api.messenger_profile.postAPI(messege);","        },","        delete_menu: function() {","            facebook_botkit.api.messenger_profile.deleteAPI('persistent_menu');","        },","        get_menu: function(cb) {","            facebook_botkit.api.messenger_profile.getAPI('persistent_menu', cb);","        },","        account_linking: function(payload) {","            var message = {","                'account_linking_url': payload","            };","            facebook_botkit.api.messenger_profile.postAPI(message);","        },","        delete_account_linking: function() {","            facebook_botkit.api.messenger_profile.deleteAPI('account_linking_url');","        },","        get_account_linking: function(cb) {","            facebook_botkit.api.messenger_profile.getAPI('account_linking_url', cb);","        },","        domain_whitelist: function(payload) {","            var message = {","                'whitelisted_domains': Array.isArray(payload) ? payload : [payload]","            };","            facebook_botkit.api.messenger_profile.postAPI(message);","        },","        delete_domain_whitelist: function() {","            facebook_botkit.api.messenger_profile.deleteAPI('whitelisted_domains');","        },","        get_domain_whitelist: function(cb) {","            facebook_botkit.api.messenger_profile.getAPI('whitelisted_domains', cb);","        },","        postAPI: function(message) {","            request.post('https://graph.facebook.com/v2.6/me/messenger_profile?access_token=' + configuration.access_token,","                {form: message},","                function(err, res, body) {","                    if (err) {","                        facebook_botkit.log('Could not configure messenger profile');","                    } else {","","                        var results = null;","                        try {","                            results = JSON.parse(body);","                        } catch (err) {","                            facebook_botkit.log('ERROR in messenger profile API call: Could not parse JSON', err, body);","                        }","","                        if (results) {","                            if (results.error) {","                                facebook_botkit.log('ERROR in messenger profile API call: ', results.error.message);","                            } else {","                                facebook_botkit.debug('Successfully configured messenger profile', body);","                            }","                        }","                    }","                });","        },","        deleteAPI: function(type) {","            var message = {","                'fields': [type]","            };","            request.delete('https://graph.facebook.com/v2.6/me/messenger_profile?access_token=' + configuration.access_token,","                {form: message},","                function(err, res, body) {","                    if (err) {","                        facebook_botkit.log('Could not configure messenger profile');","                    } else {","                        facebook_botkit.debug('Successfully configured messenger profile', message);","                    }","                });","        },","        getAPI: function(fields, cb) {","            request.get('https://graph.facebook.com/v2.6/me/messenger_profile?fields=' + fields + '&access_token=' + configuration.access_token,","                function(err, res, body) {","                    if (err) {","                        facebook_botkit.log('Could not get messenger profile');","                        cb(err);","                    } else {","                        facebook_botkit.debug('Successfully got messenger profile ', body);","                        cb(null, body);","                    }","                });","        },","        get_messenger_code: function(image_size, cb) {","            var message = {","                'type': 'standard',","                'image_size': image_size || 1000","            };","            request.post('https://graph.facebook.com/v2.6/me/messenger_codes?access_token=' + configuration.access_token,","                {form: message},","                function(err, res, body) {","                    if (err) {","                        facebook_botkit.log('Could not configure get messenger code');","                        cb(err);","                    } else {","","                        var results = null;","                        try {","                            results = JSON.parse(body);","                        } catch (err) {","                            facebook_botkit.log('ERROR in messenger code API call: Could not parse JSON', err, body);","                            cb(err);","                        }","","                        if (results) {","                            if (results.error) {","                                facebook_botkit.log('ERROR in messenger code API call: ', results.error.message);","                                cb(results.error);","                            } else {","                                var uri = results.uri;","                                facebook_botkit.log('Successfully got messenger code', uri);","                                cb(null, uri);","                            }","                        }","                    }","                });","        },","        deleteAPI: function(message) {","                request.delete('https://' + api_host + '/v2.6/me/thread_settings?access_token=' + configuration.access_token,","                    {form: message},","                    function(err, res, body) {","                        if (err) {","                            facebook_botkit.log('Could not configure thread settings');","                        } else {","                            facebook_botkit.debug('Successfully configured thread settings', message);","                        }","                    });","            }","    };","","    facebook_botkit.api = {","        'messenger_profile': messenger_profile_api,","        'thread_settings': messenger_profile_api","    };","","    // Verifies the SHA1 signature of the raw request payload before bodyParser parses it","    // Will abort parsing if signature is invalid, and pass a generic error to response","    function verifyRequest(req, res, buf, encoding) {","        var expected = req.headers['x-hub-signature'];","        var calculated = getSignature(buf);","        if (expected !== calculated) {","            throw new Error('Invalid signature on incoming request');","        } else {","            // facebook_botkit.debug('** X-Hub Verification successful!')","        }","    }","","    function getSignature(buf) {","        var hmac = crypto.createHmac('sha1', facebook_botkit.config.app_secret);","        hmac.update(buf, 'utf-8');","        return 'sha1=' + hmac.digest('hex');","    }","","    function abortOnValidationError(err, req, res, next) {","        if (err) {","            facebook_botkit.log('** Invalid X-HUB signature on incoming request!');","            facebook_botkit.debug('** X-HUB Validation Error:', err);","            res.status(400).send({","                error: 'Invalid signature.'","            });","        } else {","            next();","        }","    }","","    return facebook_botkit;","};","","module.exports = Facebookbot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"9":0,"12":0,"14":0,"16":0,"19":0,"20":0,"24":0,"25":0,"26":0,"27":0,"29":0,"42":0,"44":0,"51":0,"52":0,"55":0,"56":0,"60":0,"62":0,"67":0,"68":0,"70":0,"73":0,"74":0,"75":0,"78":0,"79":0,"82":0,"83":0,"86":0,"89":0,"90":0,"91":0,"92":0,"94":0,"98":0,"99":0,"100":0,"101":0,"107":0,"108":0,"114":0,"118":0,"121":0,"122":0,"125":0,"126":0,"130":0,"132":0,"144":0,"145":0,"146":0,"149":0,"150":0,"151":0,"154":0,"155":0,"159":0,"160":0,"161":0,"162":0,"163":0,"166":0,"167":0,"168":0,"169":0,"170":0,"173":0,"174":0,"176":0,"177":0,"178":0,"179":0,"181":0,"184":0,"185":0,"187":0,"189":0,"190":0,"191":0,"192":0,"199":0,"200":0,"202":0,"203":0,"205":0,"208":0,"210":0,"213":0,"214":0,"215":0,"216":0,"217":0,"221":0,"222":0,"223":0,"228":0,"230":0,"234":0,"236":0,"239":0,"240":0,"241":0,"244":0,"245":0,"246":0,"247":0,"249":0,"254":0,"255":0,"258":0,"261":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"284":0,"285":0,"290":0,"300":0,"302":0,"303":0,"313":0,"316":0,"318":0,"326":0,"327":0,"329":0,"336":0,"337":0,"339":0,"347":0,"348":0,"349":0,"357":0,"358":0,"359":0,"366":0,"368":0,"375":0,"377":0,"378":0,"381":0,"383":0,"384":0,"386":0,"388":0,"391":0,"393":0,"394":0,"397":0,"398":0,"399":0,"401":0,"405":0,"407":0,"411":0,"413":0,"414":0,"416":0,"417":0,"421":0,"425":0,"427":0,"430":0,"431":0,"433":0,"438":0,"441":0,"444":0,"447":0,"452":0,"455":0,"458":0,"461":0,"464":0,"467":0,"470":0,"473":0,"476":0,"479":0,"482":0,"485":0,"488":0,"491":0,"494":0,"497":0,"500":0,"501":0,"504":0,"505":0,"506":0,"508":0,"511":0,"512":0,"513":0,"515":0,"522":0,"525":0,"528":0,"529":0,"531":0,"536":0,"538":0,"539":0,"540":0,"542":0,"543":0,"548":0,"552":0,"555":0,"556":0,"557":0,"560":0,"561":0,"562":0,"564":0,"565":0,"568":0,"569":0,"570":0,"571":0,"573":0,"574":0,"575":0,"582":0,"585":0,"586":0,"588":0,"594":0,"601":1,"602":0,"603":0,"604":0,"605":0,"611":1,"612":0,"613":0,"614":0,"617":1,"618":0,"619":0,"620":0,"621":0,"625":0,"629":0,"632":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/TwilioIPMBot.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/TwilioIPMBot.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},"fnMap":{"1":{"name":"Twiliobot","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":53}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":32},"end":{"line":26,"column":54}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":19},"end":{"line":30,"column":41}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":24},"end":{"line":36,"column":43}}},"6":{"name":"(anonymous_6)","line":38,"loc":{"start":{"line":38,"column":25},"end":{"line":38,"column":39}}},"7":{"name":"(anonymous_7)","line":45,"loc":{"start":{"line":45,"column":24},"end":{"line":45,"column":43}}},"8":{"name":"(anonymous_8)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":39}}},"9":{"name":"(anonymous_9)","line":53,"loc":{"start":{"line":53,"column":20},"end":{"line":53,"column":44}}},"10":{"name":"(anonymous_10)","line":68,"loc":{"start":{"line":68,"column":31},"end":{"line":68,"column":42}}},"11":{"name":"(anonymous_11)","line":69,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":67}}},"12":{"name":"(anonymous_12)","line":72,"loc":{"start":{"line":72,"column":46},"end":{"line":72,"column":61}}},"13":{"name":"(anonymous_13)","line":75,"loc":{"start":{"line":75,"column":28},"end":{"line":75,"column":47}}},"14":{"name":"(anonymous_14)","line":78,"loc":{"start":{"line":78,"column":28},"end":{"line":78,"column":44}}},"15":{"name":"(anonymous_15)","line":91,"loc":{"start":{"line":91,"column":55},"end":{"line":91,"column":76}}},"16":{"name":"(anonymous_16)","line":92,"loc":{"start":{"line":92,"column":67},"end":{"line":92,"column":85}}},"17":{"name":"(anonymous_17)","line":99,"loc":{"start":{"line":99,"column":28},"end":{"line":99,"column":44}}},"18":{"name":"(anonymous_18)","line":105,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":32}}},"19":{"name":"(anonymous_19)","line":114,"loc":{"start":{"line":114,"column":35},"end":{"line":114,"column":46}}},"20":{"name":"(anonymous_20)","line":120,"loc":{"start":{"line":120,"column":55},"end":{"line":120,"column":74}}},"21":{"name":"(anonymous_21)","line":122,"loc":{"start":{"line":122,"column":24},"end":{"line":122,"column":40}}},"22":{"name":"(anonymous_22)","line":126,"loc":{"start":{"line":126,"column":28},"end":{"line":126,"column":47}}},"23":{"name":"(anonymous_23)","line":128,"loc":{"start":{"line":128,"column":28},"end":{"line":128,"column":44}}},"24":{"name":"(anonymous_24)","line":141,"loc":{"start":{"line":141,"column":31},"end":{"line":141,"column":53}}},"25":{"name":"(anonymous_25)","line":174,"loc":{"start":{"line":174,"column":35},"end":{"line":174,"column":54}}},"26":{"name":"(anonymous_26)","line":193,"loc":{"start":{"line":193,"column":12},"end":{"line":193,"column":23}}},"27":{"name":"(anonymous_27)","line":207,"loc":{"start":{"line":207,"column":43},"end":{"line":207,"column":68}}},"28":{"name":"(anonymous_28)","line":213,"loc":{"start":{"line":213,"column":42},"end":{"line":213,"column":61}}},"29":{"name":"(anonymous_29)","line":226,"loc":{"start":{"line":226,"column":41},"end":{"line":226,"column":65}}},"30":{"name":"(anonymous_30)","line":270,"loc":{"start":{"line":270,"column":39},"end":{"line":270,"column":50}}},"31":{"name":"(anonymous_31)","line":272,"loc":{"start":{"line":272,"column":45},"end":{"line":272,"column":68}}},"32":{"name":"(anonymous_32)","line":289,"loc":{"start":{"line":289,"column":47},"end":{"line":289,"column":60}}},"33":{"name":"(anonymous_33)","line":302,"loc":{"start":{"line":302,"column":44},"end":{"line":302,"column":67}}},"34":{"name":"(anonymous_34)","line":305,"loc":{"start":{"line":305,"column":60},"end":{"line":305,"column":73}}},"35":{"name":"(anonymous_35)","line":318,"loc":{"start":{"line":318,"column":47},"end":{"line":318,"column":60}}},"36":{"name":"(anonymous_36)","line":334,"loc":{"start":{"line":334,"column":42},"end":{"line":334,"column":65}}},"37":{"name":"(anonymous_37)","line":336,"loc":{"start":{"line":336,"column":61},"end":{"line":336,"column":80}}},"38":{"name":"(anonymous_38)","line":340,"loc":{"start":{"line":340,"column":24},"end":{"line":340,"column":40}}},"39":{"name":"(anonymous_39)","line":347,"loc":{"start":{"line":347,"column":47},"end":{"line":347,"column":60}}},"40":{"name":"(anonymous_40)","line":366,"loc":{"start":{"line":366,"column":47},"end":{"line":366,"column":70}}},"41":{"name":"(anonymous_41)","line":368,"loc":{"start":{"line":368,"column":60},"end":{"line":368,"column":73}}},"42":{"name":"(anonymous_42)","line":379,"loc":{"start":{"line":379,"column":43},"end":{"line":379,"column":66}}},"43":{"name":"(anonymous_43)","line":384,"loc":{"start":{"line":384,"column":24},"end":{"line":384,"column":43}}},"44":{"name":"(anonymous_44)","line":385,"loc":{"start":{"line":385,"column":65},"end":{"line":385,"column":84}}},"45":{"name":"(anonymous_45)","line":389,"loc":{"start":{"line":389,"column":28},"end":{"line":389,"column":44}}},"46":{"name":"(anonymous_46)","line":392,"loc":{"start":{"line":392,"column":24},"end":{"line":392,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"9":{"start":{"line":11,"column":0},"end":{"line":404,"column":1}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":52}},"11":{"start":{"line":18,"column":4},"end":{"line":171,"column":7}},"12":{"start":{"line":19,"column":8},"end":{"line":24,"column":10}},"13":{"start":{"line":26,"column":8},"end":{"line":28,"column":10}},"14":{"start":{"line":27,"column":12},"end":{"line":27,"column":56}},"15":{"start":{"line":30,"column":8},"end":{"line":51,"column":10}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":43}},"17":{"start":{"line":33,"column":12},"end":{"line":50,"column":13}},"18":{"start":{"line":34,"column":16},"end":{"line":40,"column":19}},"19":{"start":{"line":37,"column":20},"end":{"line":37,"column":39}},"20":{"start":{"line":39,"column":20},"end":{"line":39,"column":28}},"21":{"start":{"line":42,"column":16},"end":{"line":49,"column":19}},"22":{"start":{"line":46,"column":20},"end":{"line":46,"column":39}},"23":{"start":{"line":48,"column":20},"end":{"line":48,"column":28}},"24":{"start":{"line":53,"column":8},"end":{"line":66,"column":10}},"25":{"start":{"line":54,"column":12},"end":{"line":54,"column":25}},"26":{"start":{"line":56,"column":12},"end":{"line":60,"column":13}},"27":{"start":{"line":57,"column":16},"end":{"line":57,"column":32}},"28":{"start":{"line":59,"column":16},"end":{"line":59,"column":27}},"29":{"start":{"line":62,"column":12},"end":{"line":62,"column":32}},"30":{"start":{"line":63,"column":12},"end":{"line":63,"column":38}},"31":{"start":{"line":65,"column":12},"end":{"line":65,"column":29}},"32":{"start":{"line":68,"column":8},"end":{"line":112,"column":8}},"33":{"start":{"line":69,"column":10},"end":{"line":110,"column":11}},"34":{"start":{"line":70,"column":12},"end":{"line":104,"column":13}},"35":{"start":{"line":71,"column":16},"end":{"line":71,"column":49}},"36":{"start":{"line":72,"column":16},"end":{"line":82,"column":19}},"37":{"start":{"line":73,"column":20},"end":{"line":81,"column":23}},"38":{"start":{"line":76,"column":24},"end":{"line":77,"column":86}},"39":{"start":{"line":79,"column":24},"end":{"line":80,"column":63}},"40":{"start":{"line":83,"column":19},"end":{"line":104,"column":13}},"41":{"start":{"line":87,"column":16},"end":{"line":89,"column":18}},"42":{"start":{"line":91,"column":16},"end":{"line":103,"column":19}},"43":{"start":{"line":92,"column":20},"end":{"line":102,"column":23}},"44":{"start":{"line":93,"column":24},"end":{"line":97,"column":25}},"45":{"start":{"line":94,"column":28},"end":{"line":96,"column":29}},"46":{"start":{"line":95,"column":32},"end":{"line":95,"column":65}},"47":{"start":{"line":98,"column":24},"end":{"line":98,"column":31}},"48":{"start":{"line":100,"column":24},"end":{"line":100,"column":81}},"49":{"start":{"line":101,"column":24},"end":{"line":101,"column":31}},"50":{"start":{"line":106,"column":12},"end":{"line":106,"column":63}},"51":{"start":{"line":109,"column":12},"end":{"line":109,"column":44}},"52":{"start":{"line":114,"column":8},"end":{"line":135,"column":10}},"53":{"start":{"line":115,"column":12},"end":{"line":134,"column":13}},"54":{"start":{"line":116,"column":16},"end":{"line":116,"column":37}},"55":{"start":{"line":117,"column":16},"end":{"line":117,"column":44}},"56":{"start":{"line":120,"column":16},"end":{"line":133,"column":19}},"57":{"start":{"line":121,"column":20},"end":{"line":121,"column":43}},"58":{"start":{"line":124,"column":20},"end":{"line":132,"column":23}},"59":{"start":{"line":127,"column":24},"end":{"line":127,"column":47}},"60":{"start":{"line":129,"column":24},"end":{"line":129,"column":66}},"61":{"start":{"line":130,"column":24},"end":{"line":130,"column":42}},"62":{"start":{"line":131,"column":24},"end":{"line":131,"column":40}},"63":{"start":{"line":141,"column":8},"end":{"line":158,"column":10}},"64":{"start":{"line":142,"column":12},"end":{"line":142,"column":77}},"65":{"start":{"line":143,"column":12},"end":{"line":155,"column":13}},"66":{"start":{"line":144,"column":16},"end":{"line":154,"column":17}},"67":{"start":{"line":145,"column":20},"end":{"line":153,"column":21}},"68":{"start":{"line":150,"column":24},"end":{"line":150,"column":62}},"69":{"start":{"line":151,"column":24},"end":{"line":151,"column":54}},"70":{"start":{"line":152,"column":24},"end":{"line":152,"column":31}},"71":{"start":{"line":157,"column":12},"end":{"line":157,"column":17}},"72":{"start":{"line":161,"column":8},"end":{"line":161,"column":103}},"73":{"start":{"line":162,"column":8},"end":{"line":162,"column":69}},"74":{"start":{"line":164,"column":8},"end":{"line":167,"column":9}},"75":{"start":{"line":165,"column":12},"end":{"line":165,"column":43}},"76":{"start":{"line":166,"column":12},"end":{"line":166,"column":39}},"77":{"start":{"line":169,"column":8},"end":{"line":169,"column":19}},"78":{"start":{"line":174,"column":4},"end":{"line":201,"column":6}},"79":{"start":{"line":176,"column":8},"end":{"line":178,"column":9}},"80":{"start":{"line":177,"column":12},"end":{"line":177,"column":69}},"81":{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},"82":{"start":{"line":180,"column":12},"end":{"line":180,"column":68}},"83":{"start":{"line":183,"column":8},"end":{"line":183,"column":41}},"84":{"start":{"line":185,"column":8},"end":{"line":185,"column":44}},"85":{"start":{"line":186,"column":8},"end":{"line":186,"column":55}},"86":{"start":{"line":187,"column":8},"end":{"line":187,"column":79}},"87":{"start":{"line":188,"column":8},"end":{"line":188,"column":75}},"88":{"start":{"line":190,"column":8},"end":{"line":197,"column":15}},"89":{"start":{"line":194,"column":16},"end":{"line":195,"column":47}},"90":{"start":{"line":196,"column":16},"end":{"line":196,"column":62}},"91":{"start":{"line":196,"column":26},"end":{"line":196,"column":60}},"92":{"start":{"line":199,"column":8},"end":{"line":199,"column":29}},"93":{"start":{"line":207,"column":4},"end":{"line":224,"column":6}},"94":{"start":{"line":209,"column":8},"end":{"line":212,"column":63}},"95":{"start":{"line":213,"column":8},"end":{"line":219,"column":11}},"96":{"start":{"line":215,"column":12},"end":{"line":215,"column":28}},"97":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}},"98":{"start":{"line":217,"column":12},"end":{"line":217,"column":62}},"99":{"start":{"line":221,"column":8},"end":{"line":221,"column":37}},"100":{"start":{"line":223,"column":8},"end":{"line":223,"column":29}},"101":{"start":{"line":226,"column":4},"end":{"line":267,"column":6}},"102":{"start":{"line":229,"column":8},"end":{"line":229,"column":31}},"103":{"start":{"line":230,"column":8},"end":{"line":266,"column":9}},"104":{"start":{"line":233,"column":12},"end":{"line":233,"column":41}},"105":{"start":{"line":234,"column":12},"end":{"line":234,"column":41}},"106":{"start":{"line":235,"column":12},"end":{"line":235,"column":37}},"107":{"start":{"line":236,"column":12},"end":{"line":236,"column":41}},"108":{"start":{"line":237,"column":12},"end":{"line":237,"column":50}},"109":{"start":{"line":239,"column":12},"end":{"line":239,"column":55}},"110":{"start":{"line":241,"column":14},"end":{"line":266,"column":9}},"111":{"start":{"line":243,"column":12},"end":{"line":243,"column":50}},"112":{"start":{"line":244,"column":12},"end":{"line":244,"column":70}},"113":{"start":{"line":246,"column":14},"end":{"line":266,"column":9}},"114":{"start":{"line":248,"column":12},"end":{"line":248,"column":50}},"115":{"start":{"line":249,"column":12},"end":{"line":249,"column":70}},"116":{"start":{"line":251,"column":14},"end":{"line":266,"column":9}},"117":{"start":{"line":253,"column":12},"end":{"line":253,"column":45}},"118":{"start":{"line":254,"column":12},"end":{"line":254,"column":50}},"119":{"start":{"line":255,"column":12},"end":{"line":255,"column":70}},"120":{"start":{"line":256,"column":15},"end":{"line":266,"column":9}},"121":{"start":{"line":257,"column":12},"end":{"line":257,"column":45}},"122":{"start":{"line":258,"column":12},"end":{"line":258,"column":50}},"123":{"start":{"line":259,"column":12},"end":{"line":259,"column":70}},"124":{"start":{"line":261,"column":12},"end":{"line":263,"column":13}},"125":{"start":{"line":265,"column":12},"end":{"line":265,"column":70}},"126":{"start":{"line":270,"column":4},"end":{"line":398,"column":6}},"127":{"start":{"line":271,"column":8},"end":{"line":271,"column":90}},"128":{"start":{"line":272,"column":8},"end":{"line":297,"column":11}},"129":{"start":{"line":276,"column":12},"end":{"line":278,"column":13}},"130":{"start":{"line":277,"column":16},"end":{"line":277,"column":29}},"131":{"start":{"line":280,"column":12},"end":{"line":283,"column":13}},"132":{"start":{"line":282,"column":16},"end":{"line":282,"column":29}},"133":{"start":{"line":285,"column":12},"end":{"line":296,"column":13}},"134":{"start":{"line":286,"column":16},"end":{"line":286,"column":53}},"135":{"start":{"line":289,"column":16},"end":{"line":291,"column":19}},"136":{"start":{"line":290,"column":20},"end":{"line":290,"column":53}},"137":{"start":{"line":293,"column":16},"end":{"line":295,"column":17}},"138":{"start":{"line":294,"column":20},"end":{"line":294,"column":33}},"139":{"start":{"line":302,"column":8},"end":{"line":332,"column":11}},"140":{"start":{"line":303,"column":12},"end":{"line":325,"column":13}},"141":{"start":{"line":305,"column":16},"end":{"line":307,"column":40}},"142":{"start":{"line":306,"column":16},"end":{"line":306,"column":30}},"143":{"start":{"line":309,"column":16},"end":{"line":313,"column":17}},"144":{"start":{"line":310,"column":20},"end":{"line":310,"column":65}},"145":{"start":{"line":311,"column":20},"end":{"line":311,"column":95}},"146":{"start":{"line":314,"column":19},"end":{"line":325,"column":13}},"147":{"start":{"line":315,"column":16},"end":{"line":315,"column":53}},"148":{"start":{"line":318,"column":16},"end":{"line":320,"column":19}},"149":{"start":{"line":319,"column":20},"end":{"line":319,"column":53}},"150":{"start":{"line":322,"column":16},"end":{"line":324,"column":17}},"151":{"start":{"line":323,"column":20},"end":{"line":323,"column":33}},"152":{"start":{"line":327,"column":12},"end":{"line":331,"column":13}},"153":{"start":{"line":328,"column":16},"end":{"line":328,"column":75}},"154":{"start":{"line":330,"column":16},"end":{"line":330,"column":76}},"155":{"start":{"line":334,"column":8},"end":{"line":362,"column":11}},"156":{"start":{"line":335,"column":12},"end":{"line":354,"column":13}},"157":{"start":{"line":336,"column":16},"end":{"line":342,"column":19}},"158":{"start":{"line":337,"column":20},"end":{"line":337,"column":57}},"159":{"start":{"line":338,"column":20},"end":{"line":338,"column":88}},"160":{"start":{"line":341,"column":20},"end":{"line":341,"column":38}},"161":{"start":{"line":343,"column":19},"end":{"line":354,"column":13}},"162":{"start":{"line":344,"column":16},"end":{"line":344,"column":53}},"163":{"start":{"line":347,"column":16},"end":{"line":349,"column":19}},"164":{"start":{"line":348,"column":20},"end":{"line":348,"column":53}},"165":{"start":{"line":351,"column":16},"end":{"line":353,"column":17}},"166":{"start":{"line":352,"column":20},"end":{"line":352,"column":33}},"167":{"start":{"line":356,"column":12},"end":{"line":360,"column":13}},"168":{"start":{"line":357,"column":16},"end":{"line":357,"column":74}},"169":{"start":{"line":359,"column":16},"end":{"line":359,"column":75}},"170":{"start":{"line":366,"column":8},"end":{"line":376,"column":11}},"171":{"start":{"line":367,"column":12},"end":{"line":375,"column":13}},"172":{"start":{"line":368,"column":16},"end":{"line":370,"column":40}},"173":{"start":{"line":369,"column":16},"end":{"line":369,"column":30}},"174":{"start":{"line":371,"column":16},"end":{"line":374,"column":17}},"175":{"start":{"line":372,"column":20},"end":{"line":372,"column":65}},"176":{"start":{"line":373,"column":20},"end":{"line":373,"column":81}},"177":{"start":{"line":379,"column":8},"end":{"line":396,"column":11}},"178":{"start":{"line":380,"column":12},"end":{"line":395,"column":13}},"179":{"start":{"line":382,"column":16},"end":{"line":394,"column":19}},"180":{"start":{"line":385,"column":20},"end":{"line":391,"column":23}},"181":{"start":{"line":386,"column":24},"end":{"line":386,"column":61}},"182":{"start":{"line":387,"column":24},"end":{"line":387,"column":75}},"183":{"start":{"line":390,"column":24},"end":{"line":390,"column":42}},"184":{"start":{"line":393,"column":20},"end":{"line":393,"column":38}},"185":{"start":{"line":400,"column":4},"end":{"line":400,"column":39}},"186":{"start":{"line":402,"column":4},"end":{"line":402,"column":25}},"187":{"start":{"line":406,"column":0},"end":{"line":406,"column":27}}},"branchMap":{"1":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":31},"end":{"line":14,"column":44}},{"start":{"line":14,"column":48},"end":{"line":14,"column":50}}]},"2":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":20},"end":{"line":22,"column":26}},{"start":{"line":22,"column":30},"end":{"line":22,"column":32}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":12}},{"start":{"line":33,"column":12},"end":{"line":33,"column":12}}]},"4":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":16},"end":{"line":33,"column":37}},{"start":{"line":33,"column":41},"end":{"line":33,"column":60}}]},"5":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":12}},{"start":{"line":56,"column":12},"end":{"line":56,"column":12}}]},"6":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12}},{"start":{"line":70,"column":12},"end":{"line":70,"column":12}}]},"7":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":19},"end":{"line":83,"column":19}},{"start":{"line":83,"column":19},"end":{"line":83,"column":19}}]},"8":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":28},"end":{"line":94,"column":28}},{"start":{"line":94,"column":28},"end":{"line":94,"column":28}}]},"9":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":115,"column":12}},{"start":{"line":115,"column":12},"end":{"line":115,"column":12}}]},"10":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":16},"end":{"line":115,"column":37}},{"start":{"line":115,"column":41},"end":{"line":115,"column":60}}]},"11":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":20},"end":{"line":145,"column":20}},{"start":{"line":145,"column":20},"end":{"line":145,"column":20}}]},"12":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":24},"end":{"line":146,"column":60}},{"start":{"line":147,"column":24},"end":{"line":147,"column":85}},{"start":{"line":148,"column":28},"end":{"line":148,"column":95}}]},"13":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":8},"end":{"line":164,"column":8}},{"start":{"line":164,"column":8},"end":{"line":164,"column":8}}]},"14":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"15":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":179,"column":8}},{"start":{"line":179,"column":8},"end":{"line":179,"column":8}}]},"16":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":16}},{"start":{"line":196,"column":16},"end":{"line":196,"column":16}}]},"17":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":8},"end":{"line":230,"column":8}},{"start":{"line":230,"column":8},"end":{"line":230,"column":8}}]},"18":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":14},"end":{"line":241,"column":14}},{"start":{"line":241,"column":14},"end":{"line":241,"column":14}}]},"19":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":18},"end":{"line":241,"column":56}},{"start":{"line":241,"column":60},"end":{"line":241,"column":96}}]},"20":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":14},"end":{"line":246,"column":14}},{"start":{"line":246,"column":14},"end":{"line":246,"column":14}}]},"21":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":18},"end":{"line":246,"column":60}},{"start":{"line":246,"column":64},"end":{"line":246,"column":104}}]},"22":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":14},"end":{"line":251,"column":14}},{"start":{"line":251,"column":14},"end":{"line":251,"column":14}}]},"23":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":18},"end":{"line":251,"column":55}},{"start":{"line":251,"column":59},"end":{"line":251,"column":94}}]},"24":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":15},"end":{"line":256,"column":15}},{"start":{"line":256,"column":15},"end":{"line":256,"column":15}}]},"25":{"line":256,"type":"binary-expr","locations":[{"start":{"line":256,"column":19},"end":{"line":256,"column":58}},{"start":{"line":256,"column":62},"end":{"line":256,"column":100}}]},"26":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":12},"end":{"line":261,"column":12}},{"start":{"line":261,"column":12},"end":{"line":261,"column":12}}]},"27":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":12},"end":{"line":276,"column":12}},{"start":{"line":276,"column":12},"end":{"line":276,"column":12}}]},"28":{"line":276,"type":"binary-expr","locations":[{"start":{"line":276,"column":16},"end":{"line":276,"column":28}},{"start":{"line":276,"column":32},"end":{"line":276,"column":60}}]},"29":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":12},"end":{"line":280,"column":12}},{"start":{"line":280,"column":12},"end":{"line":280,"column":12}}]},"30":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":12},"end":{"line":285,"column":12}},{"start":{"line":285,"column":12},"end":{"line":285,"column":12}}]},"31":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":16},"end":{"line":293,"column":16}},{"start":{"line":293,"column":16},"end":{"line":293,"column":16}}]},"32":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":12},"end":{"line":303,"column":12}},{"start":{"line":303,"column":12},"end":{"line":303,"column":12}}]},"33":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":16},"end":{"line":303,"column":28}},{"start":{"line":303,"column":32},"end":{"line":303,"column":60}}]},"34":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":16},"end":{"line":309,"column":16}},{"start":{"line":309,"column":16},"end":{"line":309,"column":16}}]},"35":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":19},"end":{"line":314,"column":19}},{"start":{"line":314,"column":19},"end":{"line":314,"column":19}}]},"36":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":16},"end":{"line":322,"column":16}},{"start":{"line":322,"column":16},"end":{"line":322,"column":16}}]},"37":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":12},"end":{"line":327,"column":12}},{"start":{"line":327,"column":12},"end":{"line":327,"column":12}}]},"38":{"line":327,"type":"binary-expr","locations":[{"start":{"line":327,"column":16},"end":{"line":327,"column":28}},{"start":{"line":327,"column":32},"end":{"line":327,"column":60}}]},"39":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":12},"end":{"line":335,"column":12}},{"start":{"line":335,"column":12},"end":{"line":335,"column":12}}]},"40":{"line":335,"type":"binary-expr","locations":[{"start":{"line":335,"column":16},"end":{"line":335,"column":28}},{"start":{"line":335,"column":32},"end":{"line":335,"column":60}}]},"41":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":19},"end":{"line":343,"column":19}},{"start":{"line":343,"column":19},"end":{"line":343,"column":19}}]},"42":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":16},"end":{"line":351,"column":16}},{"start":{"line":351,"column":16},"end":{"line":351,"column":16}}]},"43":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":12},"end":{"line":356,"column":12}},{"start":{"line":356,"column":12},"end":{"line":356,"column":12}}]},"44":{"line":356,"type":"binary-expr","locations":[{"start":{"line":356,"column":16},"end":{"line":356,"column":28}},{"start":{"line":356,"column":32},"end":{"line":356,"column":60}}]},"45":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":12},"end":{"line":367,"column":12}},{"start":{"line":367,"column":12},"end":{"line":367,"column":12}}]},"46":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":16},"end":{"line":371,"column":16}},{"start":{"line":371,"column":16},"end":{"line":371,"column":16}}]},"47":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":12},"end":{"line":380,"column":12}},{"start":{"line":380,"column":12},"end":{"line":380,"column":12}}]},"48":{"line":380,"type":"binary-expr","locations":[{"start":{"line":380,"column":16},"end":{"line":380,"column":28}},{"start":{"line":380,"column":32},"end":{"line":380,"column":60}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var request = require('request');","var express = require('express');","var bodyParser = require('body-parser');","var twilio = require('twilio');","var async = require('async');","","var AccessToken = twilio.AccessToken;","var IpMessagingGrant = AccessToken.IpMessagingGrant;","","function Twiliobot(configuration) {","","    // Create a core botkit bot","    var twilio_botkit = Botkit(configuration || {});","","    // customize the bot definition, which will be used when new connections","    // spawn!","    twilio_botkit.defineBot(function(botkit, config) {","        var bot = {","            type: 'twilioipm',","            botkit: botkit,","            config: config || {},","            utterances: botkit.utterances,","        };","","        bot.startConversation = function(message, cb) {","            botkit.startConversation(this, message, cb);","        };","","        bot.send = function(message, cb) {","            botkit.debug('SEND ', message);","","            if (bot.identity === null || bot.identity === '') {","                bot.api.channels(message.channel).messages.create({","                    body: message.text,","                }).then(function(response) {","                    cb(null, response);","                }).catch(function(err) {","                    cb(err);","                });","            } else {","                bot.api.channels(message.channel).messages.create({","                    body: message.text,","                    from: bot.identity","                }).then(function(response) {","                    cb(null, response);","                }).catch(function(err) {","                    cb(err);","                });","            }","        };","","        bot.reply = function(src, resp, cb) {","            var msg = {};","","            if (typeof(resp) == 'string') {","                msg.text = resp;","            } else {","                msg = resp;","            }","","            msg.user = src.user;","            msg.channel = src.channel;","","            bot.say(msg, cb);","        };","","        bot.autoJoinChannels = function() {","          bot.api.channels.list().then(function(full_channel_list) {","            if (bot.config.autojoin === true) {","                bot.channels = full_channel_list;","                bot.channels.channels.forEach(function(chan) {","                    bot.api.channels(chan.sid).members.create({","                        identity: bot.identity","                    }).then(function(response) {","                        botkit.debug('added ' +","                          bot.identity + ' as a member of the ' + chan.friendly_name);","                    }).fail(function(error) {","                        botkit.debug('Couldn\\'t join the channel: ' +","                            chan.friendly_name + ': ' + error);","                    });","                });","            } else if (bot.identity) {","","                // load up a list of all the channels that the bot is currently","","                bot.channels = {","                    channels: []","                };","","                async.each(full_channel_list.channels, function(chan, next) {","                    bot.api.channels(chan.sid).members.list().then(function(members) {","                        for (var x = 0; x < members.members.length; x++) {","                            if (members.members[x].identity == bot.identity) {","                                bot.channels.channels.push(chan);","                            }","                        }","                        next();","                    }).fail(function(error) {","                        botkit.log('Error loading channel member list: ', error);","                        next();","                    });","                });","            }","        }).fail(function(error) {","            botkit.log('Error loading channel list: ' + error);","            // fails if no channels exist","            // set the channels to empty","            bot.channels = { channels: [] };","        });","","      };","","        bot.configureBotIdentity = function() {","            if (bot.identity !== null || bot.identity !== '') {","                var userRespIter = 0;","                var existingIdentity = null;","","                // try the get by identity thing","                bot.api.users(bot.identity).get().then(function(response) {","                    bot.autoJoinChannels();","                }).fail(function(error) {","                    // if not make the new user and see if they need to be added to all the channels","                    bot.api.users.create({","                        identity: bot.identity","                    }).then(function(response) {","                        bot.autoJoinChannels();","                    }).fail(function(error) {","                        botkit.log('Could not get Bot Identity:');","                        botkit.log(error);","                        process.exit(1);","                    });","                });","            }","        };","","        /**","        * This handles the particulars of finding an existing conversation or","        * topic to fit the message into...","        */","        bot.findConversation = function(message, cb) {","            botkit.debug('CUSTOM FIND CONVO', message.user, message.channel);","            for (var t = 0; t < botkit.tasks.length; t++) {","                for (var c = 0; c < botkit.tasks[t].convos.length; c++) {","                    if (","                        botkit.tasks[t].convos[c].isActive() &&","                        botkit.tasks[t].convos[c].source_message.user == message.user &&","                            botkit.tasks[t].convos[c].source_message.channel == message.channel","                    ) {","                        botkit.debug('FOUND EXISTING CONVO!');","                        cb(botkit.tasks[t].convos[c]);","                        return;","                    }","                }","            }","","            cb();","        };","","","        bot.client = new twilio.IpMessagingClient(config.TWILIO_ACCOUNT_SID, config.TWILIO_AUTH_TOKEN);","        bot.api = bot.client.services(config.TWILIO_IPM_SERVICE_SID);","","        if (config.identity) {","            bot.identity = config.identity;","            bot.configureBotIdentity();","        }","","        return bot;","","    });","","","    twilio_botkit.setupWebserver = function(port, cb) {","","        if (!port) {","            throw new Error('Cannot start webserver without a port');","        }","        if (isNaN(port)) {","            throw new Error('Specified port is not a valid number');","        }","","        twilio_botkit.config.port = port;","","        twilio_botkit.webserver = express();","        twilio_botkit.webserver.use(bodyParser.json());","        twilio_botkit.webserver.use(bodyParser.urlencoded({ extended: true }));","        twilio_botkit.webserver.use(express.static(__dirname + '/public'));","","        var server = twilio_botkit.webserver.listen(","            twilio_botkit.config.port,","            twilio_botkit.config.hostname,","            function() {","                twilio_botkit.log('** Starting webserver on port ' +","                    twilio_botkit.config.port);","                if (cb) { cb(null, twilio_botkit.webserver); }","            });","","        return twilio_botkit;","","    };","","","","","    // set up a web route for receiving outgoing webhooks and/or slash commands","    twilio_botkit.createWebhookEndpoints = function(webserver, bot) {","","        twilio_botkit.log(","            '** Serving webhook endpoints for receiving messages ' +","            'webhooks at: http://' + twilio_botkit.config.hostname + ':' +","                twilio_botkit.config.port + '/twilio/receive');","        webserver.post('/twilio/receive', function(req, res) {","","            res.status(200);","            res.send('ok');","            twilio_botkit.handleWebhookPayload(req, res, bot);","","        });","","        twilio_botkit.startTicking();","","        return twilio_botkit;","    };","","    twilio_botkit.handleWebhookPayload = function(req, res, bot) {","        // ensure all messages","        // have a user & channel","        var message = req.body;","        if (req.body.EventType == 'onMessageSent') {","","            // customize fields to be compatible with Botkit","            message.text = req.body.Body;","            message.from = req.body.From;","            message.to = req.body.To;","            message.user = req.body.From;","            message.channel = req.body.ChannelSid;","","            twilio_botkit.receiveMessage(bot, message);","","        }else if (req.body.EventType == 'onChannelAdded' || req.body.EventType == 'onChannelAdd') {","            // this event has a channel sid but not a user","            message.channel = req.body.ChannelSid;","            twilio_botkit.trigger(req.body.EventType, [bot, message]);","","        }else if (req.body.EventType == 'onChannelDestroyed' || req.body.EventType == 'onChannelDestroy') {","            // this event has a channel sid but not a user","            message.channel = req.body.ChannelSid;","            twilio_botkit.trigger(req.body.EventType, [bot, message]);","","        }else if (req.body.EventType == 'onMemberAdded' || req.body.EventType == 'onMemberAdd') {","            // should user be MemberSid the The Member Sid of the newly added Member","            message.user = req.body.Identity;","            message.channel = req.body.ChannelSid;","            twilio_botkit.trigger(req.body.EventType, [bot, message]);","        } else if (req.body.EventType == 'onMemberRemoved' || req.body.EventType == 'onMemberRemove') {","            message.user = req.body.Identity;","            message.channel = req.body.ChannelSid;","            twilio_botkit.trigger(req.body.EventType, [bot, message]);","","            if (req.body.EventType == 'onMemberRemoved') {","","            }","        } else {","            twilio_botkit.trigger(req.body.EventType, [bot, message]);","        }","    };","","    // handle events here","    twilio_botkit.handleTwilioEvents = function() {","        twilio_botkit.log('** Setting up custom handlers for processing Twilio messages');","        twilio_botkit.on('message_received', function(bot, message) {","","","","            if (bot.identity && message.from == bot.identity) {","                return false;","            }","","            if (!message.text) {","                // message without text is probably an edit","                return false;","            }","","            if (bot.identity) {","                var channels = bot.channels.channels;","","                // if its not in a channel with the bot","                var apprChan = channels.filter(function(ch) {","                    return ch.sid == message.channel;","                });","","                if (apprChan.length === 0) {","                    return false;","                }","            }","        });","","","        // if a member is removed from a channel, check to see if it matches the bot's identity","        // and if so remove it from the list of channels the bot listens to","        twilio_botkit.on('onMemberRemoved', function(bot, message) {","            if (bot.identity && message.user == bot.identity) {","                // remove that channel from bot.channels.channels","                var chan_to_rem = bot.channels.channels.map(function(ch) {","                return ch.sid;","            }).indexOf(message.channel);","","                if (chan_to_rem != -1) {","                    bot.channels.channels.splice(chan_to_rem, 1);","                    twilio_botkit.debug('Unsubscribing from channel because of memberremove.');","","                }","            } else if (bot.identity) {","                var channels = bot.channels.channels;","","                // if its not in a channel with the bot","                var apprChan = channels.filter(function(ch) {","                    return ch.sid == message.channel;","                });","","                if (apprChan.length === 0) {","                    return false;","                }","            }","","            if (bot.identity && bot.identity == message.user) {","                twilio_botkit.trigger('bot_channel_leave', [bot, message]);","            } else {","                twilio_botkit.trigger('user_channel_leave', [bot, message]);","            }","        });","","        twilio_botkit.on('onMemberAdded', function(bot, message) {","            if (bot.identity && message.user == bot.identity) {","                bot.api.channels(message.channel).get().then(function(response) {","                    bot.channels.channels.push(response);","                    twilio_botkit.debug('Subscribing to channel because of memberadd.');","","                }).fail(function(error) {","                    botkit.log(error);","                });","            } else if (bot.identity) {","                var channels = bot.channels.channels;","","                // if its not in a channel with the bot","                var apprChan = channels.filter(function(ch) {","                    return ch.sid == message.channel;","                });","","                if (apprChan.length === 0) {","                    return false;","                }","            }","","            if (bot.identity && bot.identity == message.user) {","                twilio_botkit.trigger('bot_channel_join', [bot, message]);","            } else {","                twilio_botkit.trigger('user_channel_join', [bot, message]);","            }","","        });","","","        // if a channel is destroyed, remove it from the list of channels this bot listens to","        twilio_botkit.on('onChannelDestroyed', function(bot, message) {","            if (bot.identity) {","                var chan_to_rem = bot.channels.channels.map(function(ch) {","                return ch.sid;","            }).indexOf(message.channel);","                if (chan_to_rem != -1) {","                    bot.channels.channels.splice(chan_to_rem, 1);","                    twilio_botkit.debug('Unsubscribing from destroyed channel.');","                }","            }","        });","","        // if a channel is created, and the bot is set in autojoin mode, join the channel","        twilio_botkit.on('onChannelAdded', function(bot, message) {","            if (bot.identity && bot.config.autojoin === true) {","                // join the channel","                bot.api.channels(message.channel).members.create({","                    identity: bot.identity","                }).then(function(response) {","                    bot.api.channels(message.channel).get().then(function(response) {","                        bot.channels.channels.push(response);","                        twilio_botkit.debug('Subscribing to new channel.');","","                    }).fail(function(error) {","                        botkit.log(error);","                    });","                }).fail(function(error) {","                    botkit.log(error);","                });","            }","        });","","    };","","    twilio_botkit.handleTwilioEvents();","","    return twilio_botkit;","","}","","module.exports = Twiliobot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"11":1,"14":0,"18":0,"19":0,"26":0,"27":0,"30":0,"31":0,"33":0,"34":0,"37":0,"39":0,"42":0,"46":0,"48":0,"53":0,"54":0,"56":0,"57":0,"59":0,"62":0,"63":0,"65":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"76":0,"79":0,"83":0,"87":0,"91":0,"92":0,"93":0,"94":0,"95":0,"98":0,"100":0,"101":0,"106":0,"109":0,"114":0,"115":0,"116":0,"117":0,"120":0,"121":0,"124":0,"127":0,"129":0,"130":0,"131":0,"141":0,"142":0,"143":0,"144":0,"145":0,"150":0,"151":0,"152":0,"157":0,"161":0,"162":0,"164":0,"165":0,"166":0,"169":0,"174":0,"176":0,"177":0,"179":0,"180":0,"183":0,"185":0,"186":0,"187":0,"188":0,"190":0,"194":0,"196":0,"199":0,"207":0,"209":0,"213":0,"215":0,"216":0,"217":0,"221":0,"223":0,"226":0,"229":0,"230":0,"233":0,"234":0,"235":0,"236":0,"237":0,"239":0,"241":0,"243":0,"244":0,"246":0,"248":0,"249":0,"251":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"261":0,"265":0,"270":0,"271":0,"272":0,"276":0,"277":0,"280":0,"282":0,"285":0,"286":0,"289":0,"290":0,"293":0,"294":0,"302":0,"303":0,"305":0,"306":0,"309":0,"310":0,"311":0,"314":0,"315":0,"318":0,"319":0,"322":0,"323":0,"327":0,"328":0,"330":0,"334":0,"335":0,"336":0,"337":0,"338":0,"341":0,"343":0,"344":0,"347":0,"348":0,"351":0,"352":0,"356":0,"357":0,"359":0,"366":0,"367":0,"368":0,"369":0,"371":0,"372":0,"373":0,"379":0,"380":0,"382":0,"385":0,"386":0,"387":0,"390":0,"393":0,"400":0,"402":0,"406":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/BotFramework.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/BotFramework.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"BotFrameworkBot","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":24},"end":{"line":13,"column":49}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":32},"end":{"line":21,"column":54}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":19},"end":{"line":25,"column":41}}},"5":{"name":"done","line":26,"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":31}}},"6":{"name":"(anonymous_6)","line":58,"loc":{"start":{"line":58,"column":68},"end":{"line":58,"column":87}}},"7":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":44}}},"8":{"name":"(anonymous_8)","line":89,"loc":{"start":{"line":89,"column":31},"end":{"line":89,"column":53}}},"9":{"name":"(anonymous_9)","line":118,"loc":{"start":{"line":118,"column":39},"end":{"line":118,"column":68}}},"10":{"name":"(anonymous_10)","line":128,"loc":{"start":{"line":128,"column":30},"end":{"line":128,"column":53}}},"11":{"name":"(anonymous_11)","line":161,"loc":{"start":{"line":161,"column":31},"end":{"line":161,"column":50}}},"12":{"name":"(anonymous_12)","line":180,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":191,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":48}},"7":{"start":{"line":13,"column":4},"end":{"line":113,"column":7}},"8":{"start":{"line":15,"column":8},"end":{"line":19,"column":10}},"9":{"start":{"line":21,"column":8},"end":{"line":23,"column":10}},"10":{"start":{"line":22,"column":12},"end":{"line":22,"column":56}},"11":{"start":{"line":25,"column":8},"end":{"line":71,"column":10}},"12":{"start":{"line":26,"column":12},"end":{"line":30,"column":13}},"13":{"start":{"line":27,"column":16},"end":{"line":29,"column":17}},"14":{"start":{"line":28,"column":20},"end":{"line":28,"column":28}},"15":{"start":{"line":32,"column":12},"end":{"line":37,"column":13}},"16":{"start":{"line":33,"column":16},"end":{"line":35,"column":17}},"17":{"start":{"line":34,"column":20},"end":{"line":34,"column":82}},"18":{"start":{"line":36,"column":16},"end":{"line":36,"column":23}},"19":{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},"20":{"start":{"line":41,"column":12},"end":{"line":51,"column":13}},"21":{"start":{"line":42,"column":16},"end":{"line":50,"column":17}},"22":{"start":{"line":46,"column":24},"end":{"line":46,"column":30}},"23":{"start":{"line":48,"column":24},"end":{"line":48,"column":55}},"24":{"start":{"line":49,"column":24},"end":{"line":49,"column":30}},"25":{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},"26":{"start":{"line":53,"column":16},"end":{"line":53,"column":44}},"27":{"start":{"line":57,"column":12},"end":{"line":70,"column":13}},"28":{"start":{"line":58,"column":16},"end":{"line":66,"column":19}},"29":{"start":{"line":59,"column":20},"end":{"line":65,"column":21}},"30":{"start":{"line":61,"column":24},"end":{"line":61,"column":49}},"31":{"start":{"line":62,"column":24},"end":{"line":62,"column":63}},"32":{"start":{"line":64,"column":24},"end":{"line":64,"column":34}},"33":{"start":{"line":69,"column":16},"end":{"line":69,"column":55}},"34":{"start":{"line":73,"column":8},"end":{"line":87,"column":10}},"35":{"start":{"line":74,"column":12},"end":{"line":74,"column":25}},"36":{"start":{"line":76,"column":12},"end":{"line":80,"column":13}},"37":{"start":{"line":77,"column":16},"end":{"line":77,"column":32}},"38":{"start":{"line":79,"column":16},"end":{"line":79,"column":27}},"39":{"start":{"line":82,"column":12},"end":{"line":82,"column":32}},"40":{"start":{"line":83,"column":12},"end":{"line":83,"column":38}},"41":{"start":{"line":84,"column":12},"end":{"line":84,"column":38}},"42":{"start":{"line":86,"column":12},"end":{"line":86,"column":29}},"43":{"start":{"line":89,"column":8},"end":{"line":106,"column":10}},"44":{"start":{"line":90,"column":12},"end":{"line":90,"column":77}},"45":{"start":{"line":91,"column":12},"end":{"line":103,"column":13}},"46":{"start":{"line":92,"column":16},"end":{"line":102,"column":17}},"47":{"start":{"line":93,"column":20},"end":{"line":101,"column":21}},"48":{"start":{"line":98,"column":24},"end":{"line":98,"column":62}},"49":{"start":{"line":99,"column":24},"end":{"line":99,"column":54}},"50":{"start":{"line":100,"column":24},"end":{"line":100,"column":31}},"51":{"start":{"line":105,"column":12},"end":{"line":105,"column":17}},"52":{"start":{"line":109,"column":8},"end":{"line":109,"column":58}},"53":{"start":{"line":111,"column":8},"end":{"line":111,"column":19}},"54":{"start":{"line":118,"column":4},"end":{"line":159,"column":6}},"55":{"start":{"line":121,"column":8},"end":{"line":124,"column":65}},"56":{"start":{"line":125,"column":8},"end":{"line":125,"column":72}},"57":{"start":{"line":128,"column":8},"end":{"line":150,"column":11}},"58":{"start":{"line":129,"column":12},"end":{"line":145,"column":13}},"59":{"start":{"line":134,"column":16},"end":{"line":134,"column":41}},"60":{"start":{"line":135,"column":16},"end":{"line":135,"column":62}},"61":{"start":{"line":136,"column":16},"end":{"line":136,"column":66}},"62":{"start":{"line":137,"column":16},"end":{"line":137,"column":77}},"63":{"start":{"line":140,"column":16},"end":{"line":144,"column":17}},"64":{"start":{"line":141,"column":20},"end":{"line":141,"column":60}},"65":{"start":{"line":143,"column":20},"end":{"line":143,"column":70}},"66":{"start":{"line":147,"column":12},"end":{"line":149,"column":13}},"67":{"start":{"line":148,"column":16},"end":{"line":148,"column":27}},"68":{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},"69":{"start":{"line":153,"column":12},"end":{"line":153,"column":17}},"70":{"start":{"line":156,"column":8},"end":{"line":156,"column":33}},"71":{"start":{"line":158,"column":8},"end":{"line":158,"column":25}},"72":{"start":{"line":161,"column":4},"end":{"line":188,"column":6}},"73":{"start":{"line":163,"column":8},"end":{"line":165,"column":9}},"74":{"start":{"line":164,"column":12},"end":{"line":164,"column":69}},"75":{"start":{"line":166,"column":8},"end":{"line":168,"column":9}},"76":{"start":{"line":167,"column":12},"end":{"line":167,"column":68}},"77":{"start":{"line":170,"column":8},"end":{"line":170,"column":37}},"78":{"start":{"line":172,"column":8},"end":{"line":172,"column":40}},"79":{"start":{"line":173,"column":8},"end":{"line":173,"column":51}},"80":{"start":{"line":174,"column":8},"end":{"line":174,"column":75}},"81":{"start":{"line":175,"column":8},"end":{"line":175,"column":71}},"82":{"start":{"line":177,"column":8},"end":{"line":184,"column":15}},"83":{"start":{"line":181,"column":16},"end":{"line":182,"column":43}},"84":{"start":{"line":183,"column":16},"end":{"line":183,"column":58}},"85":{"start":{"line":183,"column":26},"end":{"line":183,"column":56}},"86":{"start":{"line":186,"column":8},"end":{"line":186,"column":25}},"87":{"start":{"line":190,"column":4},"end":{"line":190,"column":21}},"88":{"start":{"line":193,"column":0},"end":{"line":193,"column":33}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":27},"end":{"line":9,"column":40}},{"start":{"line":9,"column":44},"end":{"line":9,"column":46}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":20},"end":{"line":17,"column":26}},{"start":{"line":17,"column":30},"end":{"line":17,"column":32}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":16}},{"start":{"line":27,"column":16},"end":{"line":27,"column":16}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":12}},{"start":{"line":32,"column":12},"end":{"line":32,"column":12}}]},"5":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":24}},{"start":{"line":32,"column":28},"end":{"line":32,"column":44}}]},"6":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":16},"end":{"line":33,"column":16}},{"start":{"line":33,"column":16},"end":{"line":33,"column":16}}]},"7":{"line":42,"type":"switch","locations":[{"start":{"line":43,"column":20},"end":{"line":43,"column":32}},{"start":{"line":44,"column":20},"end":{"line":46,"column":30}},{"start":{"line":47,"column":20},"end":{"line":49,"column":30}}]},"8":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"9":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":12}},{"start":{"line":57,"column":12},"end":{"line":57,"column":12}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":20},"end":{"line":59,"column":20}},{"start":{"line":59,"column":20},"end":{"line":59,"column":20}}]},"11":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"12":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":20},"end":{"line":93,"column":20}},{"start":{"line":93,"column":20},"end":{"line":93,"column":20}}]},"13":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":24},"end":{"line":94,"column":60}},{"start":{"line":95,"column":24},"end":{"line":95,"column":85}},{"start":{"line":96,"column":24},"end":{"line":96,"column":91}}]},"14":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":16}},{"start":{"line":140,"column":16},"end":{"line":140,"column":16}}]},"15":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":12},"end":{"line":147,"column":12}},{"start":{"line":147,"column":12},"end":{"line":147,"column":12}}]},"16":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":8}},{"start":{"line":152,"column":8},"end":{"line":152,"column":8}}]},"17":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":8},"end":{"line":163,"column":8}},{"start":{"line":163,"column":8},"end":{"line":163,"column":8}}]},"18":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":8},"end":{"line":166,"column":8}},{"start":{"line":166,"column":8},"end":{"line":166,"column":8}}]},"19":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":16},"end":{"line":183,"column":16}},{"start":{"line":183,"column":16},"end":{"line":183,"column":16}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var builder = require('botbuilder');","var express = require('express');","var bodyParser = require('body-parser');","","function BotFrameworkBot(configuration) {","","    // Create a core botkit bot","    var bf_botkit = Botkit(configuration || {});","","    // customize the bot definition, which will be used when new connections","    // spawn!","    bf_botkit.defineBot(function(botkit, config) {","","        var bot = {","            botkit: botkit,","            config: config || {},","            utterances: botkit.utterances,","        };","","        bot.startConversation = function(message, cb) {","            botkit.startConversation(this, message, cb);","        };","","        bot.send = function(message, cb) {","            function done(err) {","                if (cb) {","                    cb(err);","                }","            }","","            if (!message || !message.address) {","                if (cb) {","                    cb(new Error('Outgoing message requires a valid address...'));","                }","                return;","            }","","            // Copy message minus user & channel fields","            var bf_message = {};","            for (var key in message) {","                switch (key) {","                    case 'user':","                    case 'channel':","                        // ignore","                        break;","                    default:","                        bf_message[key] = message[key];","                        break;","                }","            }","            if (!bf_message.type) {","                bf_message.type = 'message';","            }","","            // Ensure the message address has a valid conversation id.","            if (!bf_message.address.conversation) {","                bot.connector.startConversation(bf_message.address, function(err, adr) {","                    if (!err) {","                        // Send message through connector","                        bf_message.address = adr;","                        bot.connector.send([bf_message], done);","                    } else {","                        done(err);","                    }","                });","            } else {","                // Send message through connector","                bot.connector.send([bf_message], done);","            }","        };","","        bot.reply = function(src, resp, cb) {","            var msg = {};","","            if (typeof(resp) == 'string') {","                msg.text = resp;","            } else {","                msg = resp;","            }","","            msg.user = src.user;","            msg.channel = src.channel;","            msg.address = src.address;","","            bot.say(msg, cb);","        };","","        bot.findConversation = function(message, cb) {","            botkit.debug('CUSTOM FIND CONVO', message.user, message.channel);","            for (var t = 0; t < botkit.tasks.length; t++) {","                for (var c = 0; c < botkit.tasks[t].convos.length; c++) {","                    if (","                        botkit.tasks[t].convos[c].isActive() &&","                        botkit.tasks[t].convos[c].source_message.user == message.user &&","                        botkit.tasks[t].convos[c].source_message.channel == message.channel","                    ) {","                        botkit.debug('FOUND EXISTING CONVO!');","                        cb(botkit.tasks[t].convos[c]);","                        return;","                    }","                }","            }","","            cb();","        };","","        // Create connector","        bot.connector = new builder.ChatConnector(config);","","        return bot;","","    });","","","    // set up a web route for receiving outgoing webhooks and/or slash commands","","    bf_botkit.createWebhookEndpoints = function(webserver, bot, cb) {","","        // Listen for incoming events","        bf_botkit.log(","            '** Serving webhook endpoints for the Microsoft Bot Framework at: ' +","                'http://' + bf_botkit.config.hostname + ':' +","                bf_botkit.config.port + '/botframework/receive');","        webserver.post('/botframework/receive', bot.connector.listen());","","        // Receive events from chat connector","        bot.connector.onEvent(function(events, done) {","            for (var i = 0; i < events.length; i++) {","                // Break out user & channel fields from event","                // - These fields are used as keys for tracking conversations and storage.","                // - Prefixing with channelId to ensure that users & channels for different","                //   platforms are unique.","                var bf_event = events[i];","                var prefix = bf_event.address.channelId + ':';","                bf_event.user = prefix + bf_event.address.user.id;","                bf_event.channel = prefix + bf_event.address.conversation.id;","","                // Dispatch event","                if (bf_event.type === 'message') {","                    bf_botkit.receiveMessage(bot, bf_event);","                } else {","                    bf_botkit.trigger(bf_event.type, [bot, bf_event]);","                }","            }","","            if (done) {","                done(null);","            }","        });","","        if (cb) {","            cb();","        }","","        bf_botkit.startTicking();","","        return bf_botkit;","    };","","    bf_botkit.setupWebserver = function(port, cb) {","","        if (!port) {","            throw new Error('Cannot start webserver without a port');","        }","        if (isNaN(port)) {","            throw new Error('Specified port is not a valid number');","        }","","        bf_botkit.config.port = port;","","        bf_botkit.webserver = express();","        bf_botkit.webserver.use(bodyParser.json());","        bf_botkit.webserver.use(bodyParser.urlencoded({ extended: true }));","        bf_botkit.webserver.use(express.static(__dirname + '/public'));","","        var server = bf_botkit.webserver.listen(","            bf_botkit.config.port,","            bf_botkit.config.hostname,","            function() {","                bf_botkit.log('** Starting webserver on port ' +","                    bf_botkit.config.port);","                if (cb) { cb(null, bf_botkit.webserver); }","            });","","        return bf_botkit;","","    };","","    return bf_botkit;","};","","module.exports = BotFrameworkBot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"9":0,"13":0,"15":0,"21":0,"22":0,"25":0,"26":1,"27":0,"28":0,"32":0,"33":0,"34":0,"36":0,"40":0,"41":0,"42":0,"46":0,"48":0,"49":0,"52":0,"53":0,"57":0,"58":0,"59":0,"61":0,"62":0,"64":0,"69":0,"73":0,"74":0,"76":0,"77":0,"79":0,"82":0,"83":0,"84":0,"86":0,"89":0,"90":0,"91":0,"92":0,"93":0,"98":0,"99":0,"100":0,"105":0,"109":0,"111":0,"118":0,"121":0,"125":0,"128":0,"129":0,"134":0,"135":0,"136":0,"137":0,"140":0,"141":0,"143":0,"147":0,"148":0,"152":0,"153":0,"156":0,"158":0,"161":0,"163":0,"164":0,"166":0,"167":0,"170":0,"172":0,"173":0,"174":0,"175":0,"177":0,"181":0,"183":0,"186":0,"190":0,"193":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/CiscoSparkbot.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/CiscoSparkbot.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0,0],"47":[0,0],"48":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"fnMap":{"1":{"name":"Sparkbot","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":45},"end":{"line":28,"column":64}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":31}}},"4":{"name":"(anonymous_4)","line":57,"loc":{"start":{"line":57,"column":43},"end":{"line":57,"column":54}}},"5":{"name":"(anonymous_5)","line":58,"loc":{"start":{"line":58,"column":44},"end":{"line":58,"column":59}}},"6":{"name":"(anonymous_6)","line":60,"loc":{"start":{"line":60,"column":67},"end":{"line":60,"column":81}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":25},"end":{"line":62,"column":39}}},"8":{"name":"(anonymous_8)","line":70,"loc":{"start":{"line":70,"column":40},"end":{"line":70,"column":69}}},"9":{"name":"(anonymous_9)","line":78,"loc":{"start":{"line":78,"column":46},"end":{"line":78,"column":65}}},"10":{"name":"(anonymous_10)","line":85,"loc":{"start":{"line":85,"column":55},"end":{"line":85,"column":70}}},"11":{"name":"(anonymous_11)","line":106,"loc":{"start":{"line":106,"column":24},"end":{"line":106,"column":38}}},"12":{"name":"(anonymous_12)","line":109,"loc":{"start":{"line":109,"column":25},"end":{"line":109,"column":39}}},"13":{"name":"(anonymous_13)","line":121,"loc":{"start":{"line":121,"column":24},"end":{"line":121,"column":38}}},"14":{"name":"(anonymous_14)","line":125,"loc":{"start":{"line":125,"column":25},"end":{"line":125,"column":39}}},"15":{"name":"(anonymous_15)","line":134,"loc":{"start":{"line":134,"column":38},"end":{"line":134,"column":61}}},"16":{"name":"(anonymous_16)","line":180,"loc":{"start":{"line":180,"column":38},"end":{"line":180,"column":62}}},"17":{"name":"(anonymous_17)","line":195,"loc":{"start":{"line":195,"column":60},"end":{"line":195,"column":78}}},"18":{"name":"(anonymous_18)","line":233,"loc":{"start":{"line":233,"column":21},"end":{"line":233,"column":35}}},"19":{"name":"(anonymous_19)","line":269,"loc":{"start":{"line":269,"column":32},"end":{"line":269,"column":51}}},"20":{"name":"(anonymous_20)","line":290,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":23}}},"21":{"name":"(anonymous_21)","line":303,"loc":{"start":{"line":303,"column":25},"end":{"line":303,"column":50}}},"22":{"name":"(anonymous_22)","line":312,"loc":{"start":{"line":312,"column":32},"end":{"line":312,"column":54}}},"23":{"name":"(anonymous_23)","line":316,"loc":{"start":{"line":316,"column":33},"end":{"line":316,"column":55}}},"24":{"name":"(anonymous_24)","line":324,"loc":{"start":{"line":324,"column":39},"end":{"line":324,"column":61}}},"25":{"name":"(anonymous_25)","line":330,"loc":{"start":{"line":330,"column":51},"end":{"line":330,"column":73}}},"26":{"name":"(anonymous_26)","line":331,"loc":{"start":{"line":331,"column":33},"end":{"line":331,"column":56}}},"27":{"name":"(anonymous_27)","line":345,"loc":{"start":{"line":345,"column":51},"end":{"line":345,"column":74}}},"28":{"name":"(anonymous_28)","line":351,"loc":{"start":{"line":351,"column":51},"end":{"line":351,"column":73}}},"29":{"name":"(anonymous_29)","line":352,"loc":{"start":{"line":352,"column":33},"end":{"line":352,"column":56}}},"30":{"name":"(anonymous_30)","line":367,"loc":{"start":{"line":367,"column":48},"end":{"line":367,"column":70}}},"31":{"name":"(anonymous_31)","line":372,"loc":{"start":{"line":372,"column":19},"end":{"line":372,"column":41}}},"32":{"name":"(anonymous_32)","line":389,"loc":{"start":{"line":389,"column":68},"end":{"line":389,"column":86}}},"33":{"name":"(anonymous_33)","line":391,"loc":{"start":{"line":391,"column":21},"end":{"line":391,"column":35}}},"34":{"name":"(anonymous_34)","line":397,"loc":{"start":{"line":397,"column":20},"end":{"line":397,"column":44}}},"35":{"name":"(anonymous_35)","line":417,"loc":{"start":{"line":417,"column":31},"end":{"line":417,"column":53}}},"36":{"name":"(anonymous_36)","line":436,"loc":{"start":{"line":436,"column":31},"end":{"line":436,"column":49}}},"37":{"name":"(anonymous_37)","line":442,"loc":{"start":{"line":442,"column":15},"end":{"line":442,"column":45}}},"38":{"name":"(anonymous_38)","line":457,"loc":{"start":{"line":457,"column":27},"end":{"line":457,"column":45}}},"39":{"name":"(anonymous_39)","line":465,"loc":{"start":{"line":465,"column":15},"end":{"line":465,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":481,"column":1}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":49}},"9":{"start":{"line":13,"column":4},"end":{"line":34,"column":5}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":81}},"11":{"start":{"line":16,"column":8},"end":{"line":22,"column":11}},"12":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":64}},"14":{"start":{"line":28,"column":8},"end":{"line":33,"column":11}},"15":{"start":{"line":29,"column":12},"end":{"line":29,"column":65}},"16":{"start":{"line":30,"column":12},"end":{"line":30,"column":43}},"17":{"start":{"line":32,"column":12},"end":{"line":32,"column":33}},"18":{"start":{"line":36,"column":4},"end":{"line":49,"column":5}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":81}},"20":{"start":{"line":40,"column":8},"end":{"line":40,"column":67}},"21":{"start":{"line":41,"column":8},"end":{"line":47,"column":9}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":115}},"23":{"start":{"line":43,"column":15},"end":{"line":47,"column":9}},"24":{"start":{"line":44,"column":12},"end":{"line":44,"column":126}},"25":{"start":{"line":46,"column":12},"end":{"line":46,"column":110}},"26":{"start":{"line":51,"column":4},"end":{"line":54,"column":5}},"27":{"start":{"line":52,"column":8},"end":{"line":52,"column":166}},"28":{"start":{"line":57,"column":4},"end":{"line":67,"column":6}},"29":{"start":{"line":58,"column":8},"end":{"line":66,"column":11}},"30":{"start":{"line":59,"column":12},"end":{"line":65,"column":13}},"31":{"start":{"line":60,"column":16},"end":{"line":64,"column":19}},"32":{"start":{"line":61,"column":20},"end":{"line":61,"column":79}},"33":{"start":{"line":63,"column":20},"end":{"line":63,"column":69}},"34":{"start":{"line":70,"column":4},"end":{"line":132,"column":6}},"35":{"start":{"line":73,"column":8},"end":{"line":73,"column":79}},"36":{"start":{"line":75,"column":8},"end":{"line":77,"column":107}},"37":{"start":{"line":78,"column":8},"end":{"line":82,"column":11}},"38":{"start":{"line":80,"column":12},"end":{"line":80,"column":59}},"39":{"start":{"line":85,"column":8},"end":{"line":131,"column":11}},"40":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"41":{"start":{"line":88,"column":12},"end":{"line":92,"column":13}},"42":{"start":{"line":89,"column":16},"end":{"line":91,"column":17}},"43":{"start":{"line":90,"column":20},"end":{"line":90,"column":47}},"44":{"start":{"line":94,"column":12},"end":{"line":94,"column":97}},"45":{"start":{"line":96,"column":12},"end":{"line":96,"column":75}},"46":{"start":{"line":98,"column":12},"end":{"line":130,"column":13}},"47":{"start":{"line":99,"column":16},"end":{"line":112,"column":19}},"48":{"start":{"line":107,"column":20},"end":{"line":107,"column":90}},"49":{"start":{"line":108,"column":20},"end":{"line":108,"column":33}},"50":{"start":{"line":108,"column":28},"end":{"line":108,"column":33}},"51":{"start":{"line":110,"column":20},"end":{"line":110,"column":67}},"52":{"start":{"line":111,"column":20},"end":{"line":111,"column":41}},"53":{"start":{"line":115,"column":16},"end":{"line":128,"column":19}},"54":{"start":{"line":123,"column":20},"end":{"line":123,"column":93}},"55":{"start":{"line":124,"column":20},"end":{"line":124,"column":33}},"56":{"start":{"line":124,"column":28},"end":{"line":124,"column":33}},"57":{"start":{"line":126,"column":20},"end":{"line":126,"column":67}},"58":{"start":{"line":127,"column":20},"end":{"line":127,"column":41}},"59":{"start":{"line":134,"column":4},"end":{"line":178,"column":7}},"60":{"start":{"line":136,"column":8},"end":{"line":142,"column":9}},"61":{"start":{"line":137,"column":12},"end":{"line":137,"column":105}},"62":{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},"63":{"start":{"line":140,"column":16},"end":{"line":140,"column":29}},"64":{"start":{"line":144,"column":8},"end":{"line":163,"column":9}},"65":{"start":{"line":145,"column":12},"end":{"line":145,"column":29}},"66":{"start":{"line":146,"column":12},"end":{"line":150,"column":13}},"67":{"start":{"line":147,"column":16},"end":{"line":147,"column":62}},"68":{"start":{"line":149,"column":16},"end":{"line":149,"column":60}},"69":{"start":{"line":152,"column":12},"end":{"line":152,"column":32}},"70":{"start":{"line":153,"column":12},"end":{"line":157,"column":13}},"71":{"start":{"line":154,"column":16},"end":{"line":156,"column":17}},"72":{"start":{"line":155,"column":20},"end":{"line":155,"column":35}},"73":{"start":{"line":159,"column":12},"end":{"line":162,"column":13}},"74":{"start":{"line":161,"column":16},"end":{"line":161,"column":29}},"75":{"start":{"line":167,"column":8},"end":{"line":177,"column":9}},"76":{"start":{"line":168,"column":12},"end":{"line":168,"column":63}},"77":{"start":{"line":169,"column":12},"end":{"line":169,"column":25}},"78":{"start":{"line":170,"column":15},"end":{"line":177,"column":9}},"79":{"start":{"line":171,"column":12},"end":{"line":171,"column":65}},"80":{"start":{"line":172,"column":12},"end":{"line":172,"column":25}},"81":{"start":{"line":175,"column":12},"end":{"line":175,"column":65}},"82":{"start":{"line":176,"column":12},"end":{"line":176,"column":25}},"83":{"start":{"line":180,"column":4},"end":{"line":267,"column":6}},"84":{"start":{"line":182,"column":8},"end":{"line":190,"column":9}},"85":{"start":{"line":183,"column":12},"end":{"line":183,"column":61}},"86":{"start":{"line":184,"column":12},"end":{"line":184,"column":122}},"87":{"start":{"line":186,"column":12},"end":{"line":189,"column":13}},"88":{"start":{"line":187,"column":16},"end":{"line":187,"column":121}},"89":{"start":{"line":188,"column":16},"end":{"line":188,"column":29}},"90":{"start":{"line":192,"column":8},"end":{"line":266,"column":9}},"91":{"start":{"line":195,"column":12},"end":{"line":235,"column":15}},"92":{"start":{"line":199,"column":16},"end":{"line":199,"column":47}},"93":{"start":{"line":201,"column":16},"end":{"line":207,"column":18}},"94":{"start":{"line":210,"column":16},"end":{"line":230,"column":17}},"95":{"start":{"line":213,"column":20},"end":{"line":213,"column":154}},"96":{"start":{"line":214,"column":20},"end":{"line":214,"column":84}},"97":{"start":{"line":217,"column":20},"end":{"line":217,"column":62}},"98":{"start":{"line":220,"column":20},"end":{"line":220,"column":43}},"99":{"start":{"line":223,"column":20},"end":{"line":223,"column":42}},"100":{"start":{"line":226,"column":20},"end":{"line":226,"column":98}},"101":{"start":{"line":227,"column":20},"end":{"line":229,"column":21}},"102":{"start":{"line":228,"column":24},"end":{"line":228,"column":73}},"103":{"start":{"line":231,"column":16},"end":{"line":231,"column":56}},"104":{"start":{"line":234,"column":16},"end":{"line":234,"column":60}},"105":{"start":{"line":238,"column":12},"end":{"line":238,"column":65}},"106":{"start":{"line":240,"column":12},"end":{"line":246,"column":14}},"107":{"start":{"line":248,"column":12},"end":{"line":263,"column":13}},"108":{"start":{"line":250,"column":20},"end":{"line":254,"column":21}},"109":{"start":{"line":251,"column":24},"end":{"line":251,"column":78}},"110":{"start":{"line":253,"column":24},"end":{"line":253,"column":79}},"111":{"start":{"line":255,"column":20},"end":{"line":255,"column":26}},"112":{"start":{"line":257,"column":20},"end":{"line":261,"column":21}},"113":{"start":{"line":258,"column":24},"end":{"line":258,"column":77}},"114":{"start":{"line":260,"column":24},"end":{"line":260,"column":78}},"115":{"start":{"line":262,"column":20},"end":{"line":262,"column":26}},"116":{"start":{"line":265,"column":12},"end":{"line":265,"column":54}},"117":{"start":{"line":269,"column":4},"end":{"line":298,"column":6}},"118":{"start":{"line":271,"column":8},"end":{"line":273,"column":9}},"119":{"start":{"line":272,"column":12},"end":{"line":272,"column":69}},"120":{"start":{"line":275,"column":8},"end":{"line":275,"column":48}},"121":{"start":{"line":277,"column":8},"end":{"line":278,"column":64}},"122":{"start":{"line":278,"column":12},"end":{"line":278,"column":64}},"123":{"start":{"line":280,"column":8},"end":{"line":280,"column":38}},"124":{"start":{"line":282,"column":8},"end":{"line":282,"column":41}},"125":{"start":{"line":283,"column":8},"end":{"line":283,"column":52}},"126":{"start":{"line":284,"column":8},"end":{"line":284,"column":76}},"127":{"start":{"line":285,"column":8},"end":{"line":285,"column":61}},"128":{"start":{"line":287,"column":8},"end":{"line":294,"column":15}},"129":{"start":{"line":291,"column":16},"end":{"line":292,"column":44}},"130":{"start":{"line":293,"column":16},"end":{"line":293,"column":59}},"131":{"start":{"line":293,"column":26},"end":{"line":293,"column":57}},"132":{"start":{"line":296,"column":8},"end":{"line":296,"column":26}},"133":{"start":{"line":303,"column":4},"end":{"line":475,"column":7}},"134":{"start":{"line":305,"column":8},"end":{"line":310,"column":10}},"135":{"start":{"line":312,"column":8},"end":{"line":314,"column":10}},"136":{"start":{"line":313,"column":12},"end":{"line":313,"column":56}},"137":{"start":{"line":316,"column":8},"end":{"line":318,"column":10}},"138":{"start":{"line":317,"column":12},"end":{"line":317,"column":57}},"139":{"start":{"line":324,"column":8},"end":{"line":339,"column":10}},"140":{"start":{"line":326,"column":12},"end":{"line":326,"column":37}},"141":{"start":{"line":328,"column":12},"end":{"line":328,"column":57}},"142":{"start":{"line":330,"column":12},"end":{"line":338,"column":15}},"143":{"start":{"line":331,"column":16},"end":{"line":336,"column":19}},"144":{"start":{"line":334,"column":20},"end":{"line":334,"column":61}},"145":{"start":{"line":335,"column":20},"end":{"line":335,"column":71}},"146":{"start":{"line":337,"column":16},"end":{"line":337,"column":32}},"147":{"start":{"line":345,"column":8},"end":{"line":360,"column":10}},"148":{"start":{"line":347,"column":12},"end":{"line":347,"column":37}},"149":{"start":{"line":349,"column":12},"end":{"line":349,"column":50}},"150":{"start":{"line":351,"column":12},"end":{"line":359,"column":15}},"151":{"start":{"line":352,"column":16},"end":{"line":357,"column":19}},"152":{"start":{"line":355,"column":20},"end":{"line":355,"column":61}},"153":{"start":{"line":356,"column":20},"end":{"line":356,"column":71}},"154":{"start":{"line":358,"column":16},"end":{"line":358,"column":32}},"155":{"start":{"line":367,"column":8},"end":{"line":369,"column":10}},"156":{"start":{"line":368,"column":12},"end":{"line":368,"column":91}},"157":{"start":{"line":372,"column":8},"end":{"line":395,"column":10}},"158":{"start":{"line":375,"column":12},"end":{"line":375,"column":40}},"159":{"start":{"line":376,"column":12},"end":{"line":378,"column":13}},"160":{"start":{"line":377,"column":16},"end":{"line":377,"column":51}},"161":{"start":{"line":381,"column":12},"end":{"line":381,"column":56}},"162":{"start":{"line":382,"column":12},"end":{"line":382,"column":46}},"163":{"start":{"line":385,"column":12},"end":{"line":387,"column":13}},"164":{"start":{"line":386,"column":16},"end":{"line":386,"column":70}},"165":{"start":{"line":389,"column":12},"end":{"line":393,"column":15}},"166":{"start":{"line":390,"column":16},"end":{"line":390,"column":42}},"167":{"start":{"line":390,"column":24},"end":{"line":390,"column":42}},"168":{"start":{"line":392,"column":16},"end":{"line":392,"column":32}},"169":{"start":{"line":392,"column":24},"end":{"line":392,"column":32}},"170":{"start":{"line":397,"column":8},"end":{"line":415,"column":10}},"171":{"start":{"line":398,"column":12},"end":{"line":398,"column":25}},"172":{"start":{"line":400,"column":12},"end":{"line":404,"column":13}},"173":{"start":{"line":401,"column":16},"end":{"line":401,"column":32}},"174":{"start":{"line":403,"column":16},"end":{"line":403,"column":27}},"175":{"start":{"line":406,"column":12},"end":{"line":412,"column":13}},"176":{"start":{"line":407,"column":16},"end":{"line":407,"column":42}},"177":{"start":{"line":408,"column":19},"end":{"line":412,"column":13}},"178":{"start":{"line":409,"column":16},"end":{"line":409,"column":54}},"179":{"start":{"line":410,"column":19},"end":{"line":412,"column":13}},"180":{"start":{"line":411,"column":16},"end":{"line":411,"column":48}},"181":{"start":{"line":414,"column":12},"end":{"line":414,"column":29}},"182":{"start":{"line":417,"column":8},"end":{"line":434,"column":10}},"183":{"start":{"line":418,"column":12},"end":{"line":418,"column":77}},"184":{"start":{"line":419,"column":12},"end":{"line":431,"column":13}},"185":{"start":{"line":420,"column":16},"end":{"line":430,"column":17}},"186":{"start":{"line":421,"column":20},"end":{"line":429,"column":21}},"187":{"start":{"line":426,"column":24},"end":{"line":426,"column":62}},"188":{"start":{"line":427,"column":24},"end":{"line":427,"column":54}},"189":{"start":{"line":428,"column":24},"end":{"line":428,"column":31}},"190":{"start":{"line":433,"column":12},"end":{"line":433,"column":17}},"191":{"start":{"line":436,"column":8},"end":{"line":455,"column":10}},"192":{"start":{"line":437,"column":12},"end":{"line":454,"column":15}},"193":{"start":{"line":444,"column":16},"end":{"line":452,"column":17}},"194":{"start":{"line":445,"column":20},"end":{"line":445,"column":47}},"195":{"start":{"line":446,"column":20},"end":{"line":448,"column":21}},"196":{"start":{"line":447,"column":24},"end":{"line":447,"column":107}},"197":{"start":{"line":449,"column":20},"end":{"line":449,"column":34}},"198":{"start":{"line":451,"column":20},"end":{"line":451,"column":28}},"199":{"start":{"line":457,"column":8},"end":{"line":471,"column":10}},"200":{"start":{"line":459,"column":12},"end":{"line":469,"column":15}},"201":{"start":{"line":467,"column":16},"end":{"line":467,"column":30}},"202":{"start":{"line":473,"column":8},"end":{"line":473,"column":19}},"203":{"start":{"line":477,"column":4},"end":{"line":477,"column":30}},"204":{"start":{"line":479,"column":4},"end":{"line":479,"column":22}},"205":{"start":{"line":484,"column":0},"end":{"line":484,"column":26}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":28},"end":{"line":11,"column":41}},{"start":{"line":11,"column":45},"end":{"line":11,"column":47}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"5":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":15},"end":{"line":43,"column":15}},{"start":{"line":43,"column":15},"end":{"line":43,"column":15}}]},"7":{"line":46,"type":"cond-expr","locations":[{"start":{"line":46,"column":84},"end":{"line":46,"column":103}},{"start":{"line":46,"column":106},"end":{"line":46,"column":108}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"9":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":27},"end":{"line":73,"column":57}},{"start":{"line":73,"column":61},"end":{"line":73,"column":78}}]},"10":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":16},"end":{"line":89,"column":16}},{"start":{"line":89,"column":16},"end":{"line":89,"column":16}}]},"11":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":98,"column":12}},{"start":{"line":98,"column":12},"end":{"line":98,"column":12}}]},"12":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":20},"end":{"line":108,"column":20}},{"start":{"line":108,"column":20},"end":{"line":108,"column":20}}]},"13":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":20},"end":{"line":124,"column":20}},{"start":{"line":124,"column":20},"end":{"line":124,"column":20}}]},"14":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]},"15":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":12}},{"start":{"line":138,"column":12},"end":{"line":138,"column":12}}]},"16":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":16},"end":{"line":138,"column":47}},{"start":{"line":138,"column":51},"end":{"line":138,"column":115}}]},"17":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":8}},{"start":{"line":144,"column":8},"end":{"line":144,"column":8}}]},"18":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":12},"end":{"line":146,"column":12}},{"start":{"line":146,"column":12},"end":{"line":146,"column":12}}]},"19":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":16},"end":{"line":154,"column":16}},{"start":{"line":154,"column":16},"end":{"line":154,"column":16}}]},"20":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":12},"end":{"line":159,"column":12}},{"start":{"line":159,"column":12},"end":{"line":159,"column":12}}]},"21":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]},"22":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":15},"end":{"line":170,"column":15}},{"start":{"line":170,"column":15},"end":{"line":170,"column":15}}]},"23":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":8},"end":{"line":182,"column":8}},{"start":{"line":182,"column":8},"end":{"line":182,"column":8}}]},"24":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":12},"end":{"line":186,"column":12}},{"start":{"line":186,"column":12},"end":{"line":186,"column":12}}]},"25":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":8},"end":{"line":192,"column":8}},{"start":{"line":192,"column":8},"end":{"line":192,"column":8}}]},"26":{"line":192,"type":"binary-expr","locations":[{"start":{"line":192,"column":12},"end":{"line":192,"column":43}},{"start":{"line":192,"column":47},"end":{"line":192,"column":74}}]},"27":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":16},"end":{"line":210,"column":16}},{"start":{"line":210,"column":16},"end":{"line":210,"column":16}}]},"28":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":20},"end":{"line":227,"column":20}},{"start":{"line":227,"column":20},"end":{"line":227,"column":20}}]},"29":{"line":248,"type":"switch","locations":[{"start":{"line":249,"column":16},"end":{"line":255,"column":26}},{"start":{"line":256,"column":16},"end":{"line":262,"column":26}}]},"30":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":20},"end":{"line":250,"column":20}},{"start":{"line":250,"column":20},"end":{"line":250,"column":20}}]},"31":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":20},"end":{"line":257,"column":20}},{"start":{"line":257,"column":20},"end":{"line":257,"column":20}}]},"32":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":8},"end":{"line":271,"column":8}},{"start":{"line":271,"column":8},"end":{"line":271,"column":8}}]},"33":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":8},"end":{"line":277,"column":8}},{"start":{"line":277,"column":8},"end":{"line":277,"column":8}}]},"34":{"line":277,"type":"binary-expr","locations":[{"start":{"line":277,"column":12},"end":{"line":277,"column":29}},{"start":{"line":277,"column":33},"end":{"line":277,"column":60}},{"start":{"line":277,"column":64},"end":{"line":277,"column":102}}]},"35":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":16},"end":{"line":293,"column":16}},{"start":{"line":293,"column":16},"end":{"line":293,"column":16}}]},"36":{"line":308,"type":"binary-expr","locations":[{"start":{"line":308,"column":20},"end":{"line":308,"column":26}},{"start":{"line":308,"column":30},"end":{"line":308,"column":32}}]},"37":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":12},"end":{"line":385,"column":12}},{"start":{"line":385,"column":12},"end":{"line":385,"column":12}}]},"38":{"line":385,"type":"binary-expr","locations":[{"start":{"line":385,"column":16},"end":{"line":385,"column":39}},{"start":{"line":385,"column":43},"end":{"line":385,"column":71}}]},"39":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":16},"end":{"line":390,"column":16}},{"start":{"line":390,"column":16},"end":{"line":390,"column":16}}]},"40":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":16},"end":{"line":392,"column":16}},{"start":{"line":392,"column":16},"end":{"line":392,"column":16}}]},"41":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":12},"end":{"line":400,"column":12}},{"start":{"line":400,"column":12},"end":{"line":400,"column":12}}]},"42":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":12},"end":{"line":406,"column":12}},{"start":{"line":406,"column":12},"end":{"line":406,"column":12}}]},"43":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":19},"end":{"line":408,"column":19}},{"start":{"line":408,"column":19},"end":{"line":408,"column":19}}]},"44":{"line":410,"type":"if","locations":[{"start":{"line":410,"column":19},"end":{"line":410,"column":19}},{"start":{"line":410,"column":19},"end":{"line":410,"column":19}}]},"45":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":20},"end":{"line":421,"column":20}},{"start":{"line":421,"column":20},"end":{"line":421,"column":20}}]},"46":{"line":422,"type":"binary-expr","locations":[{"start":{"line":422,"column":24},"end":{"line":422,"column":60}},{"start":{"line":423,"column":24},"end":{"line":423,"column":85}},{"start":{"line":424,"column":24},"end":{"line":424,"column":91}}]},"47":{"line":444,"type":"if","locations":[{"start":{"line":444,"column":16},"end":{"line":444,"column":16}},{"start":{"line":444,"column":16},"end":{"line":444,"column":16}}]},"48":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":20},"end":{"line":446,"column":20}},{"start":{"line":446,"column":20},"end":{"line":446,"column":20}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var request = require('request');","var express = require('express');","var bodyParser = require('body-parser');","var url = require('url');","var crypto = require('crypto');","","function Sparkbot(configuration) {","","    // Create a core botkit bot","    var controller = Botkit(configuration || {});","","    if (!controller.config.ciscospark_access_token) {","        throw new Error('ciscospark_access_token required to create controller');","    } else {","        controller.api = require('ciscospark').init({","            credentials: {","                authorization: {","                    access_token: controller.config.ciscospark_access_token","                }","            }","        });","","        if (!controller.api) {","            throw new Error('Could not create Cisco Spark API');","        }","","        controller.api.people.get('me').then(function(identity) {","            console.log('Cisco Spark: My identity is', identity);","            controller.identity = identity;","        }).catch(function(err) {","            throw new Error(err);","        });","    }","","    if (!controller.config.public_address) {","        throw new Error('public_address parameter required to receive webhooks');","    } else {","","        var endpoint = url.parse(controller.config.public_address);","        if (!endpoint.hostname) {","            throw new Error('Could not determine hostname of public address: ' + controller.config.public_address);","        } else if (endpoint.protocol != 'https:') {","            throw new Error('Please specify an SSL-enabled url for your public address: ' + controller.config.public_address);","        } else {","            controller.config.public_address = endpoint.hostname + (endpoint.port ? ':' + endpoint.port : '');","        }","","    }","","    if (!controller.config.secret) {","        console.log('WARNING: No secret specified. Source of incoming webhooks will not be validated. https://developer.ciscospark.com/webhooks-explained.html#auth');","        // throw new Error('secret parameter required to secure webhooks');","    }","","","    controller.resetWebhookSubscriptions = function() {","        controller.api.webhooks.list().then(function(list) {","            for (var i = 0; i < list.items.length; i++) {","                controller.api.webhooks.remove(list.items[i]).then(function(res) {","                    console.log('Removed subscription: ' + list.items[i].name);","                }).catch(function(err) {","                    console.log('Error removing subscription:', err);","                });","            }","        });","    };","","    // set up a web route for receiving outgoing webhooks and/or slash commands","    controller.createWebhookEndpoints = function(webserver, bot, cb) {","","","        var webhook_name = controller.config.webhook_name || 'Botkit Firehose';","","        controller.log(","            '** Serving webhook endpoints for Cisco Spark Platform at: ' +","            'http://' + controller.config.hostname + ':' + controller.config.port + '/ciscospark/receive');","        webserver.post('/ciscospark/receive', function(req, res) {","","            controller.handleWebhookPayload(req, res, bot);","","        });","","","        var list = controller.api.webhooks.list().then(function(list) {","            var hook_id = null;","","            for (var i = 0; i < list.items.length; i++) {","                if (list.items[i].name == webhook_name) {","                    hook_id = list.items[i].id;","                }","            }","","            var hook_url = 'https://' + controller.config.public_address + '/ciscospark/receive';","","            console.log('Cisco Spark: incoming webhook url is ', hook_url);","","            if (hook_id) {","                controller.api.webhooks.update({","                    id: hook_id,","                    resource: 'all',","                    targetUrl: hook_url,","                    event: 'all',","                    secret: controller.config.secret,","                    name: webhook_name,","                }).then(function(res) {","                    console.log('Cisco Spark: SUCCESSFULLY UPDATED CISCO SPARK WEBHOOKS');","                    if (cb) cb();","                }).catch(function(err) {","                    console.log('FAILED TO REGISTER WEBHOOK', err);","                    throw new Error(err);","                });","","            } else {","                controller.api.webhooks.create({","                    resource: 'all',","                    targetUrl: hook_url,","                    event: 'all',","                    secret: controller.config.secret,","                    name: webhook_name,","                }).then(function(res) {","","                    console.log('Cisco Spark: SUCCESSFULLY REGISTERED CISCO SPARK WEBHOOKS');","                    if (cb) cb();","                }).catch(function(err) {","                    console.log('FAILED TO REGISTER WEBHOOK', err);","                    throw new Error(err);","                });","","            }","        });","    };","","    controller.on('message_received', function(bot, message) {","","        if (controller.config.limit_to_org) {","            console.log('limit to org', controller.config.limit_to_org,  message.original_message.orgId);","            if (!message.original_message.orgId || message.original_message.orgId != controller.config.limit_to_org) {","                // this message is from a user outside of the proscribed org","                return false;","            }","        }","","        if (controller.config.limit_to_domain) {","            var domains = [];","            if (typeof(controller.config.limit_to_domain) == 'string') {","                domains = [controller.config.limit_to_domain];","            } else {","                domains = controller.config.limit_to_domain;","            }","","            var allowed = false;","            for (var d = 0; d < domains.length; d++) {","                if (message.user.toLowerCase().indexOf(domains[d]) >= 0) {","                    allowed = true;","                }","            }","","            if (!allowed) {","                // this message came from a domain that is outside of the allowed list.","                return false;","            }","        }","","","","        if (message.user === controller.identity.emails[0]) {","            controller.trigger('self_message', [bot, message]);","            return false;","        } else if (message.original_message.roomType == 'direct') {","            controller.trigger('direct_message', [bot, message]);","            return false;","        } else {","","            controller.trigger('direct_mention', [bot, message]);","            return false;","        }","    });","","    controller.handleWebhookPayload = function(req, res, bot) {","","        if (controller.config.secret) {","            var signature = req.headers['x-spark-signature'];","            var hash = crypto.createHmac('sha1', controller.config.secret).update(JSON.stringify(req.body)).digest('hex');","","            if (signature != hash) {","                console.error('WARNING: Webhook received message with invalid signature. Potential malicious behavior!');","                return false;","            }","        }","","        if (req.body.resource == 'messages' && req.body.event == 'created') {","","            // console.log('RAW MESSAGE',req.body);","            controller.api.messages.get(req.body.data).then(function(message) {","","                // console.log('DECRYPTED MESSAGE', message);","                // copy some fields from req.body that aren't in the new message","                message.orgId = req.body.orgId;","","                var message = {","                    user: message.personEmail,","                    channel: message.roomId,","                    text: message.text,","                    id: message.id,","                    original_message: message,","                };","","                // remove @mentions of the bot from the source text before we ingest it","                if (message.original_message.html) {","","                    // strip the mention & HTML from the message","                    var pattern = new RegExp('^\\<p\\>\\<spark\\-mention .*?data\\-object\\-id\\=\\\"' + controller.identity.id + '\\\".*\\>.*?\\<\\/spark\\-mention\\>');","                    var action = message.original_message.html.replace(pattern, '');","","                    // strip the remaining HTML tags","                    action = action.replace(/\\<.*?\\>/img, '');","","                    // strip remaining whitespace","                    action = action.trim();","","                    // replace the message text with the the HTML version","                    message.text = action;","","                } else {","                    var pattern = new RegExp('^' + controller.identity.displayName + '\\\\s+', 'i');","                    if (message.text) {","                        message.text = message.text.replace(pattern, '');","                    }","                }","                controller.receiveMessage(bot, message);","","            }).catch(function(err) {","                console.error('Could not get message', err);","            });","        } else {","","            var event = req.body.resource + '.' + req.body.event;","","            var message = {","                user: req.body.data.personEmail,","                channel: req.body.data.roomId,","                id: req.body.data.id,","                original_message: req.body,","                type: event,","            };","","            switch (event) {","                case 'memberships.deleted':","                    if (message.user === controller.identity.emails[0]) {","                        controller.trigger('bot_space_leave', [bot, message]);","                    } else {","                        controller.trigger('user_space_leave', [bot, message]);","                    }","                    break;","                case 'memberships.created':","                    if (message.user === controller.identity.emails[0]) {","                        controller.trigger('bot_space_join', [bot, message]);","                    } else {","                        controller.trigger('user_space_join', [bot, message]);","                    }","                    break;","            }","","            controller.trigger(event, [bot, message]);","        }","    };","","    controller.setupWebserver = function(port, cb) {","","        if (!port) {","            throw new Error('Cannot start webserver without a port');","        }","","        var static_dir =  __dirname + '/public';","","        if (controller.config && controller.config.webserver && controller.config.webserver.static_dir)","            static_dir = controller.config.webserver.static_dir;","","        controller.config.port = port;","","        controller.webserver = express();","        controller.webserver.use(bodyParser.json());","        controller.webserver.use(bodyParser.urlencoded({ extended: true }));","        controller.webserver.use(express.static(static_dir));","","        var server = controller.webserver.listen(","            controller.config.port,","            controller.config.hostname,","            function() {","                controller.log('** Starting webserver on port ' +","                    controller.config.port);","                if (cb) { cb(null, controller.webserver); }","            });","","        return controller;","","    };","","","    // customize the bot definition, which will be used when new connections","    // spawn!","    controller.defineBot(function(botkit, config) {","","        var bot = {","            type: 'ciscospark',","            botkit: botkit,","            config: config || {},","            utterances: botkit.utterances,","        };","","        bot.startConversation = function(message, cb) {","            botkit.startConversation(this, message, cb);","        };","","        bot.createConversation = function(message, cb) {","            botkit.createConversation(this, message, cb);","        };","","","        /**","         * Convenience method for creating a DM convo.","         */","        bot.startPrivateConversation = function(message, cb) {","","            var message_options = {};","","            message_options.toPersonEmail = message.user;","","            botkit.startTask(bot, message_options, function(task, convo) {","                convo.on('sent', function(sent_message) {","                    // update this convo so that future messages will match","                    // since the source message did not have this info in it.","                    convo.source_message.user = message.user;","                    convo.source_message.channel = sent_message.roomId;","                });","                cb(null, convo);","            });","        };","","","        /**","         * Convenience method for creating a DM based on a personId instead of email","         */","        bot.startPrivateConversationWithPersonId = function(personId, cb) {","","            var message_options = {};","","            message_options.toPersonId = personId;","","            botkit.startTask(bot, message_options, function(task, convo) {","                convo.on('sent', function(sent_message) {","                    // update this convo so that future messages will match","                    // since the source message did not have this info in it.","                    convo.source_message.user = message.user;","                    convo.source_message.channel = sent_message.roomId;","                });","                cb(null, convo);","            });","        };","","","        /**","         * Convenience method for creating a DM convo with the `actor`, not the sender","         * this applies to events like channel joins, where the actor may be the user who sent the invite","         */","        bot.startPrivateConversationWithActor = function(message, cb) {","            bot.startPrivateConversationWithPersonId(message.original_message.actorId, cb);","        };","","","        bot.send = function(message, cb) {","","            // clone the incoming message","            var ciscospark_message = {};","            for (var k in message) {","                ciscospark_message[k] = message[k];","            }","","            // mutate the message into proper spark format","            ciscospark_message.roomId = message.channel;","            delete ciscospark_message.channel;","","            // default the markdown field to be the same as tex.","            if (ciscospark_message.text && !ciscospark_message.markdown) {","                ciscospark_message.markdown = ciscospark_message.text;","            }","","            controller.api.messages.create(ciscospark_message).then(function(message) {","                if (cb) cb(null, message);","            }).catch(function(err) {","                if (cb) cb(err);","            });","","        };","","        bot.reply = function(src, resp, cb) {","            var msg = {};","","            if (typeof(resp) == 'string') {","                msg.text = resp;","            } else {","                msg = resp;","            }","","            if (src.channel) {","                msg.channel = src.channel;","            } else if (src.toPersonEmail) {","                msg.toPersonEmail = src.toPersonEmail;","            } else if (src.toPersonId) {","                msg.toPersonId = src.toPersonId;","            }","","            bot.say(msg, cb);","        };","","        bot.findConversation = function(message, cb) {","            botkit.debug('CUSTOM FIND CONVO', message.user, message.channel);","            for (var t = 0; t < botkit.tasks.length; t++) {","                for (var c = 0; c < botkit.tasks[t].convos.length; c++) {","                    if (","                        botkit.tasks[t].convos[c].isActive() &&","                        botkit.tasks[t].convos[c].source_message.user == message.user &&","                        botkit.tasks[t].convos[c].source_message.channel == message.channel","                    ) {","                        botkit.debug('FOUND EXISTING CONVO!');","                        cb(botkit.tasks[t].convos[c]);","                        return;","                    }","                }","            }","","            cb();","        };","","        bot.retrieveFileInfo = function(url, cb) {","            request.head({","                url: url,","                headers: {","                    'Authorization': 'Bearer ' + controller.config.ciscospark_access_token","                },","            }, function(err, response, body) {","","                if (!err) {","                    var obj = response.headers;","                    if (obj['content-disposition']) {","                        obj.filename = obj['content-disposition'].replace(/.*filename=\\\"(.*)\\\".*/gi, '$1');","                    }","                    cb(null, obj);","                } else {","                    cb(err);","                }","","            });","        };","","        bot.retrieveFile = function(url, cb) {","","            request({","                url: url,","                headers: {","                    'Authorization': 'Bearer ' + controller.config.ciscospark_access_token","                },","                encoding: 'binary',","            }, function(err, response, body) {","","                cb(err, body);","","            });","","        };","","        return bot;","","    });","","    controller.startTicking();","","    return controller;","","}","","","module.exports = Sparkbot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"11":0,"13":0,"14":0,"16":0,"24":0,"25":0,"28":0,"29":0,"30":0,"32":0,"36":0,"37":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":0,"51":0,"52":0,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"70":0,"73":0,"75":0,"78":0,"80":0,"85":0,"86":0,"88":0,"89":0,"90":0,"94":0,"96":0,"98":0,"99":0,"107":0,"108":0,"110":0,"111":0,"115":0,"123":0,"124":0,"126":0,"127":0,"134":0,"136":0,"137":0,"138":0,"140":0,"144":0,"145":0,"146":0,"147":0,"149":0,"152":0,"153":0,"154":0,"155":0,"159":0,"161":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"175":0,"176":0,"180":0,"182":0,"183":0,"184":0,"186":0,"187":0,"188":0,"192":0,"195":0,"199":0,"201":0,"210":0,"213":0,"214":0,"217":0,"220":0,"223":0,"226":0,"227":0,"228":0,"231":0,"234":0,"238":0,"240":0,"248":0,"250":0,"251":0,"253":0,"255":0,"257":0,"258":0,"260":0,"262":0,"265":0,"269":0,"271":0,"272":0,"275":0,"277":0,"278":0,"280":0,"282":0,"283":0,"284":0,"285":0,"287":0,"291":0,"293":0,"296":0,"303":0,"305":0,"312":0,"313":0,"316":0,"317":0,"324":0,"326":0,"328":0,"330":0,"331":0,"334":0,"335":0,"337":0,"345":0,"347":0,"349":0,"351":0,"352":0,"355":0,"356":0,"358":0,"367":0,"368":0,"372":0,"375":0,"376":0,"377":0,"381":0,"382":0,"385":0,"386":0,"389":0,"390":0,"392":0,"397":0,"398":0,"400":0,"401":0,"403":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"414":0,"417":0,"418":0,"419":0,"420":0,"421":0,"426":0,"427":0,"428":0,"433":0,"436":0,"437":0,"444":0,"445":0,"446":0,"447":0,"449":0,"451":0,"457":0,"459":0,"467":0,"473":0,"477":0,"479":0,"484":1}},"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/ConsoleBot.js":{"path":"/home/travis/build/npmtest/node-npmtest-botkit/botkit/lib/ConsoleBot.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"TextBot","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":57}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":51}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":32},"end":{"line":29,"column":54}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":19},"end":{"line":33,"column":41}}},"6":{"name":"(anonymous_6)","line":37,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":44}}},"7":{"name":"(anonymous_7)","line":51,"loc":{"start":{"line":51,"column":31},"end":{"line":51,"column":53}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":44}}},"9":{"name":"(anonymous_9)","line":77,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":89,"column":1}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":50}},"8":{"start":{"line":14,"column":4},"end":{"line":19,"column":7}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":37}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"11":{"start":{"line":21,"column":4},"end":{"line":71,"column":7}},"12":{"start":{"line":23,"column":8},"end":{"line":27,"column":10}},"13":{"start":{"line":29,"column":8},"end":{"line":31,"column":10}},"14":{"start":{"line":30,"column":12},"end":{"line":30,"column":56}},"15":{"start":{"line":33,"column":8},"end":{"line":35,"column":10}},"16":{"start":{"line":34,"column":12},"end":{"line":34,"column":46}},"17":{"start":{"line":37,"column":8},"end":{"line":49,"column":10}},"18":{"start":{"line":38,"column":12},"end":{"line":38,"column":25}},"19":{"start":{"line":40,"column":12},"end":{"line":44,"column":13}},"20":{"start":{"line":41,"column":16},"end":{"line":41,"column":32}},"21":{"start":{"line":43,"column":16},"end":{"line":43,"column":27}},"22":{"start":{"line":46,"column":12},"end":{"line":46,"column":38}},"23":{"start":{"line":48,"column":12},"end":{"line":48,"column":29}},"24":{"start":{"line":51,"column":8},"end":{"line":67,"column":10}},"25":{"start":{"line":52,"column":12},"end":{"line":52,"column":77}},"26":{"start":{"line":53,"column":12},"end":{"line":64,"column":13}},"27":{"start":{"line":54,"column":16},"end":{"line":63,"column":17}},"28":{"start":{"line":55,"column":20},"end":{"line":62,"column":21}},"29":{"start":{"line":59,"column":24},"end":{"line":59,"column":62}},"30":{"start":{"line":60,"column":24},"end":{"line":60,"column":54}},"31":{"start":{"line":61,"column":24},"end":{"line":61,"column":31}},"32":{"start":{"line":66,"column":12},"end":{"line":66,"column":17}},"33":{"start":{"line":69,"column":8},"end":{"line":69,"column":19}},"34":{"start":{"line":73,"column":4},"end":{"line":86,"column":6}},"35":{"start":{"line":75,"column":8},"end":{"line":75,"column":35}},"36":{"start":{"line":76,"column":8},"end":{"line":76,"column":109}},"37":{"start":{"line":77,"column":8},"end":{"line":85,"column":11}},"38":{"start":{"line":78,"column":12},"end":{"line":83,"column":14}},"39":{"start":{"line":84,"column":12},"end":{"line":84,"column":53}},"40":{"start":{"line":88,"column":4},"end":{"line":88,"column":23}},"41":{"start":{"line":91,"column":0},"end":{"line":91,"column":25}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":29},"end":{"line":11,"column":42}},{"start":{"line":11,"column":46},"end":{"line":11,"column":48}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":26}},{"start":{"line":25,"column":30},"end":{"line":25,"column":32}}]},"3":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":12}},{"start":{"line":40,"column":12},"end":{"line":40,"column":12}}]},"4":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":20},"end":{"line":55,"column":20}},{"start":{"line":55,"column":20},"end":{"line":55,"column":20}}]},"5":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":24},"end":{"line":56,"column":60}},{"start":{"line":57,"column":24},"end":{"line":57,"column":85}}]}},"code":["var Botkit = require(__dirname + '/CoreBot.js');","var request = require('request');","var express = require('express');","var bodyParser = require('body-parser');","var readline = require('readline');","","","function TextBot(configuration) {","","    // Create a core botkit bot","    var text_botkit = Botkit(configuration || {});","","","    text_botkit.middleware.spawn.use(function(bot, next) {","","        text_botkit.listenStdIn(bot);","        next();","","    });","","    text_botkit.defineBot(function(botkit, config) {","","        var bot = {","            botkit: botkit,","            config: config || {},","            utterances: botkit.utterances,","        };","","        bot.startConversation = function(message, cb) {","            botkit.startConversation(this, message, cb);","        };","","        bot.send = function(message, cb) {","            console.log('BOT:', message.text);","        };","","        bot.reply = function(src, resp, cb) {","            var msg = {};","","            if (typeof(resp) == 'string') {","                msg.text = resp;","            } else {","                msg = resp;","            }","","            msg.channel = src.channel;","","            bot.say(msg, cb);","        };","","        bot.findConversation = function(message, cb) {","            botkit.debug('CUSTOM FIND CONVO', message.user, message.channel);","            for (var t = 0; t < botkit.tasks.length; t++) {","                for (var c = 0; c < botkit.tasks[t].convos.length; c++) {","                    if (","                        botkit.tasks[t].convos[c].isActive() &&","                        botkit.tasks[t].convos[c].source_message.user == message.user","                    ) {","                        botkit.debug('FOUND EXISTING CONVO!');","                        cb(botkit.tasks[t].convos[c]);","                        return;","                    }","                }","            }","","            cb();","        };","","        return bot;","","    });","","    text_botkit.listenStdIn = function(bot) {","","        text_botkit.startTicking();","        var rl = readline.createInterface({ input: process.stdin, output: process.stdout, terminal: false });","        rl.on('line', function(line) {","            var message = {","                text: line,","                user: 'user',","                channel: 'text',","                timestamp: Date.now()","            };","            text_botkit.receiveMessage(bot, message);","        });","    };","","    return text_botkit;","};","","module.exports = TextBot;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"8":1,"11":0,"14":0,"16":0,"17":0,"21":0,"23":0,"29":0,"30":0,"33":0,"34":0,"37":0,"38":0,"40":0,"41":0,"43":0,"46":0,"48":0,"51":0,"52":0,"53":0,"54":0,"55":0,"59":0,"60":0,"61":0,"66":0,"69":0,"73":0,"75":0,"76":0,"77":0,"78":0,"84":0,"88":0,"91":1}}}